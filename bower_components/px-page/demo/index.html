<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>px-page with px-drawer-layout</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>

    <link rel="import" href="../../px-layout/px-layout.html">

    <link rel="import" href="../../px-card/px-card.html">

    <link rel="import" href="../px-pages.html">
    <style>
      body,
      html {
        background-color: #eee;
      }
      .demo {
        position: relative;
      }

    </style>
  </head>
  <body unresolved>

    <template id="app" is="dom-bind">
      <style is="custom-style">
        :root {
          --px-navbar: {
            background-color: #0d5fb6;
            color: #fff;
          }

        }
        .bg--seed {
          background-color: #0d5fb6;
          color: #fff;
        }
        .nav a {
          text-decoration: none;
        }
        .nav a.active {
          color: #fff !important;
          background-color: rgba(255,255,255,0.4);
        }

        .nav {}
      </style>
      <px-drawer-layout id="layout">
        <px-drawer id="drawer" fixed overlay swipe-open swipe-close>
          <div class="brand flex flex--center u-m">
            <px-brand size="165" wordmark></px-brand>
          </div>
          <div class="side-nav">
            <px-table-view id="sideNav" selected="[[selected]]" selected-item="[[selectedPage]]"></px-table-view>
          </div>

        </px-drawer>

        <div class="" content>
          <px-header title="Seed Application" subtitle powered="" class="u-p-- seed-header">
            <nav class="nav flex flex--justify">
              <a href="#" class="u-p- active">Dashboards</a>
              <a onclick="pages.selected++;" class="u-p-">Blank Page</a>
            </nav>
          </px-header>
          <px-pages id="pages" debug selected="{{selected}}" selected-page="[[selectedPage]]">
            <px-page id="Page0" title="Main Page" main>
              <px-navbar class="bg--seed">
                <div left>
                  <button class="navbar__button" drawer-toggle>
                    <px-icon icon="fa:fa-bars"></px-icon>
                  </button>
                </div>
                <div right>
                  <button class="navbar__button">
                    <px-icon icon="fa:fa-user"></px-icon>
                    <span class="is-hidden@md-">John Sinclair</span>
                  </button>
                </div>
              </px-navbar>
              <div class="cards u-mt">
                <div class="box flex flex--spaced bg-dark color-white">
		<div class="flex flex--col">
			<span class="epsilon caps">Availability</span>
			<span class="gamma caps muted">85%</span>
		</div>
		<div class="flex flex--col">
			<span class="epsilon caps">Health</span>
			<span class="gamma caps muted">99%</span>
		</div>
</div>

                <px-card header-text="Card">
                  <p>
                    This is a card.
                  </p>
                </px-card>
              </div>
            </px-page>
            <px-page id="Page1" title="Page 1">
              <px-navbar></px-navbar>
              <h2>page1</h2>
              <div class="full-height scrollable">
                <px-table-view id="list2" modifier="large" table-data="[[items]]"></px-table-view>
              </div>
            </px-page>
            <px-page id="Page2" title="Page 2">
              <px-navbar></px-navbar>
              <h2>page2</h2>
            </px-page>
            <px-page id="Page3" title="Page 3">
              <px-navbar></px-navbar>
              <h2>page3</h2>
            </px-page>
          </px-pages>
        </div>
      </px-drawer-layout>
      <px-footer></px-footer>
      <script type="text/javascript">
        document.addEventListener('WebComponentsReady', function () {
          var app = document.getElementById('app');
          var pages = document.getElementById('pages');
          app.set('items', createDemoList(15));
          document.addEventListener('px-page-ready', function (e) {
            console.log('Page ready', e);
          });
          document.addEventListener('px-page-change', function (e) {
            console.log('Page Changed', e);
          });
        })

        function createDemoList(count) {
          var _out = [],
            li;
          for (var i = 0; i < count; i++) {
            li = {
              title: 'Item ' + i,
              modifier: 'tappable nav-right'
            };
            _out.push(li);
          }
          return _out;
        }
      </script>
    </template>
  </body>
</html>
