<html><head><!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><meta charset="UTF-8"><script>/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */

(function(){"use strict";function lib$es6$promise$utils$$objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}function lib$es6$promise$utils$$isFunction(x){return typeof x==="function"}function lib$es6$promise$utils$$isMaybeThenable(x){return typeof x==="object"&&x!==null}var lib$es6$promise$utils$$_isArray;if(!Array.isArray){lib$es6$promise$utils$$_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{lib$es6$promise$utils$$_isArray=Array.isArray}var lib$es6$promise$utils$$isArray=lib$es6$promise$utils$$_isArray;var lib$es6$promise$asap$$len=0;var lib$es6$promise$asap$$toString={}.toString;var lib$es6$promise$asap$$vertxNext;var lib$es6$promise$asap$$customSchedulerFn;var lib$es6$promise$asap$$asap=function asap(callback,arg){lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len]=callback;lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len+1]=arg;lib$es6$promise$asap$$len+=2;if(lib$es6$promise$asap$$len===2){if(lib$es6$promise$asap$$customSchedulerFn){lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush)}else{lib$es6$promise$asap$$scheduleFlush()}}};function lib$es6$promise$asap$$setScheduler(scheduleFn){lib$es6$promise$asap$$customSchedulerFn=scheduleFn}function lib$es6$promise$asap$$setAsap(asapFn){lib$es6$promise$asap$$asap=asapFn}var lib$es6$promise$asap$$browserWindow=typeof window!=="undefined"?window:undefined;var lib$es6$promise$asap$$browserGlobal=lib$es6$promise$asap$$browserWindow||{};var lib$es6$promise$asap$$BrowserMutationObserver=lib$es6$promise$asap$$browserGlobal.MutationObserver||lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;var lib$es6$promise$asap$$isNode=typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var lib$es6$promise$asap$$isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function lib$es6$promise$asap$$useNextTick(){return function(){process.nextTick(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useVertxTimer(){return function(){lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush)}}function lib$es6$promise$asap$$useMutationObserver(){var iterations=0;var observer=new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function lib$es6$promise$asap$$useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=lib$es6$promise$asap$$flush;return function(){channel.port2.postMessage(0)}}function lib$es6$promise$asap$$useSetTimeout(){return function(){setTimeout(lib$es6$promise$asap$$flush,1)}}var lib$es6$promise$asap$$queue=new Array(1e3);function lib$es6$promise$asap$$flush(){for(var i=0;i<lib$es6$promise$asap$$len;i+=2){var callback=lib$es6$promise$asap$$queue[i];var arg=lib$es6$promise$asap$$queue[i+1];callback(arg);lib$es6$promise$asap$$queue[i]=undefined;lib$es6$promise$asap$$queue[i+1]=undefined}lib$es6$promise$asap$$len=0}function lib$es6$promise$asap$$attemptVertx(){try{var r=require;var vertx=r("vertx");lib$es6$promise$asap$$vertxNext=vertx.runOnLoop||vertx.runOnContext;return lib$es6$promise$asap$$useVertxTimer()}catch(e){return lib$es6$promise$asap$$useSetTimeout()}}var lib$es6$promise$asap$$scheduleFlush;if(lib$es6$promise$asap$$isNode){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useNextTick()}else if(lib$es6$promise$asap$$BrowserMutationObserver){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMutationObserver()}else if(lib$es6$promise$asap$$isWorker){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useMessageChannel()}else if(lib$es6$promise$asap$$browserWindow===undefined&&typeof require==="function"){lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$attemptVertx()}else{lib$es6$promise$asap$$scheduleFlush=lib$es6$promise$asap$$useSetTimeout()}function lib$es6$promise$$internal$$noop(){}var lib$es6$promise$$internal$$PENDING=void 0;var lib$es6$promise$$internal$$FULFILLED=1;var lib$es6$promise$$internal$$REJECTED=2;var lib$es6$promise$$internal$$GET_THEN_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function lib$es6$promise$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function lib$es6$promise$$internal$$getThen(promise){try{return promise.then}catch(error){lib$es6$promise$$internal$$GET_THEN_ERROR.error=error;return lib$es6$promise$$internal$$GET_THEN_ERROR}}function lib$es6$promise$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function lib$es6$promise$$internal$$handleForeignThenable(promise,thenable,then){lib$es6$promise$asap$$asap(function(promise){var sealed=false;var error=lib$es6$promise$$internal$$tryThen(then,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){lib$es6$promise$$internal$$resolve(promise,value)}else{lib$es6$promise$$internal$$fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;lib$es6$promise$$internal$$reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;lib$es6$promise$$internal$$reject(promise,error)}},promise)}function lib$es6$promise$$internal$$handleOwnThenable(promise,thenable){if(thenable._state===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,thenable._result)}else if(thenable._state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,thenable._result)}else{lib$es6$promise$$internal$$subscribe(thenable,undefined,function(value){lib$es6$promise$$internal$$resolve(promise,value)},function(reason){lib$es6$promise$$internal$$reject(promise,reason)})}}function lib$es6$promise$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor){lib$es6$promise$$internal$$handleOwnThenable(promise,maybeThenable)}else{var then=lib$es6$promise$$internal$$getThen(maybeThenable);if(then===lib$es6$promise$$internal$$GET_THEN_ERROR){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$GET_THEN_ERROR.error)}else if(then===undefined){lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}else if(lib$es6$promise$utils$$isFunction(then)){lib$es6$promise$$internal$$handleForeignThenable(promise,maybeThenable,then)}else{lib$es6$promise$$internal$$fulfill(promise,maybeThenable)}}}function lib$es6$promise$$internal$$resolve(promise,value){if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$selfFulfillment())}else if(lib$es6$promise$utils$$objectOrFunction(value)){lib$es6$promise$$internal$$handleMaybeThenable(promise,value)}else{lib$es6$promise$$internal$$fulfill(promise,value)}}function lib$es6$promise$$internal$$publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}lib$es6$promise$$internal$$publish(promise)}function lib$es6$promise$$internal$$fulfill(promise,value){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._result=value;promise._state=lib$es6$promise$$internal$$FULFILLED;if(promise._subscribers.length!==0){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,promise)}}function lib$es6$promise$$internal$$reject(promise,reason){if(promise._state!==lib$es6$promise$$internal$$PENDING){return}promise._state=lib$es6$promise$$internal$$REJECTED;promise._result=reason;lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection,promise)}function lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;parent._onerror=null;subscribers[length]=child;subscribers[length+lib$es6$promise$$internal$$FULFILLED]=onFulfillment;subscribers[length+lib$es6$promise$$internal$$REJECTED]=onRejection;if(length===0&&parent._state){lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish,parent)}}function lib$es6$promise$$internal$$publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child,callback,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){lib$es6$promise$$internal$$invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function lib$es6$promise$$internal$$ErrorObject(){this.error=null}var lib$es6$promise$$internal$$TRY_CATCH_ERROR=new lib$es6$promise$$internal$$ErrorObject;function lib$es6$promise$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){lib$es6$promise$$internal$$TRY_CATCH_ERROR.error=e;return lib$es6$promise$$internal$$TRY_CATCH_ERROR}}function lib$es6$promise$$internal$$invokeCallback(settled,promise,callback,detail){var hasCallback=lib$es6$promise$utils$$isFunction(callback),value,error,succeeded,failed;if(hasCallback){value=lib$es6$promise$$internal$$tryCatch(callback,detail);if(value===lib$es6$promise$$internal$$TRY_CATCH_ERROR){failed=true;error=value.error;value=null}else{succeeded=true}if(promise===value){lib$es6$promise$$internal$$reject(promise,lib$es6$promise$$internal$$cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==lib$es6$promise$$internal$$PENDING){}else if(hasCallback&&succeeded){lib$es6$promise$$internal$$resolve(promise,value)}else if(failed){lib$es6$promise$$internal$$reject(promise,error)}else if(settled===lib$es6$promise$$internal$$FULFILLED){lib$es6$promise$$internal$$fulfill(promise,value)}else if(settled===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}}function lib$es6$promise$$internal$$initializePromise(promise,resolver){try{resolver(function resolvePromise(value){lib$es6$promise$$internal$$resolve(promise,value)},function rejectPromise(reason){lib$es6$promise$$internal$$reject(promise,reason)})}catch(e){lib$es6$promise$$internal$$reject(promise,e)}}function lib$es6$promise$enumerator$$Enumerator(Constructor,input){var enumerator=this;enumerator._instanceConstructor=Constructor;enumerator.promise=new Constructor(lib$es6$promise$$internal$$noop);if(enumerator._validateInput(input)){enumerator._input=input;enumerator.length=input.length;enumerator._remaining=input.length;enumerator._init();if(enumerator.length===0){lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result)}else{enumerator.length=enumerator.length||0;enumerator._enumerate();if(enumerator._remaining===0){lib$es6$promise$$internal$$fulfill(enumerator.promise,enumerator._result)}}}else{lib$es6$promise$$internal$$reject(enumerator.promise,enumerator._validationError())}}lib$es6$promise$enumerator$$Enumerator.prototype._validateInput=function(input){return lib$es6$promise$utils$$isArray(input)};lib$es6$promise$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};lib$es6$promise$enumerator$$Enumerator.prototype._init=function(){this._result=new Array(this.length)};var lib$es6$promise$enumerator$$default=lib$es6$promise$enumerator$$Enumerator;lib$es6$promise$enumerator$$Enumerator.prototype._enumerate=function(){var enumerator=this;var length=enumerator.length;var promise=enumerator.promise;var input=enumerator._input;for(var i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++){enumerator._eachEntry(input[i],i)}};lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var enumerator=this;var c=enumerator._instanceConstructor;if(lib$es6$promise$utils$$isMaybeThenable(entry)){if(entry.constructor===c&&entry._state!==lib$es6$promise$$internal$$PENDING){entry._onerror=null;enumerator._settledAt(entry._state,i,entry._result)}else{enumerator._willSettleAt(c.resolve(entry),i)}}else{enumerator._remaining--;enumerator._result[i]=entry}};lib$es6$promise$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var enumerator=this;var promise=enumerator.promise;if(promise._state===lib$es6$promise$$internal$$PENDING){enumerator._remaining--;if(state===lib$es6$promise$$internal$$REJECTED){lib$es6$promise$$internal$$reject(promise,value)}else{enumerator._result[i]=value}}if(enumerator._remaining===0){lib$es6$promise$$internal$$fulfill(promise,enumerator._result)}};lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;lib$es6$promise$$internal$$subscribe(promise,undefined,function(value){enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt(lib$es6$promise$$internal$$REJECTED,i,reason)})};function lib$es6$promise$promise$all$$all(entries){return new lib$es6$promise$enumerator$$default(this,entries).promise}var lib$es6$promise$promise$all$$default=lib$es6$promise$promise$all$$all;function lib$es6$promise$promise$race$$race(entries){var Constructor=this;var promise=new Constructor(lib$es6$promise$$internal$$noop);if(!lib$es6$promise$utils$$isArray(entries)){lib$es6$promise$$internal$$reject(promise,new TypeError("You must pass an array to race."));return promise}var length=entries.length;function onFulfillment(value){lib$es6$promise$$internal$$resolve(promise,value)}function onRejection(reason){lib$es6$promise$$internal$$reject(promise,reason)}for(var i=0;promise._state===lib$es6$promise$$internal$$PENDING&&i<length;i++){lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]),undefined,onFulfillment,onRejection)}return promise}var lib$es6$promise$promise$race$$default=lib$es6$promise$promise$race$$race;function lib$es6$promise$promise$resolve$$resolve(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$resolve(promise,object);return promise}var lib$es6$promise$promise$resolve$$default=lib$es6$promise$promise$resolve$$resolve;function lib$es6$promise$promise$reject$$reject(reason){var Constructor=this;var promise=new Constructor(lib$es6$promise$$internal$$noop);lib$es6$promise$$internal$$reject(promise,reason);return promise}var lib$es6$promise$promise$reject$$default=lib$es6$promise$promise$reject$$reject;var lib$es6$promise$promise$$counter=0;function lib$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lib$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var lib$es6$promise$promise$$default=lib$es6$promise$promise$$Promise;function lib$es6$promise$promise$$Promise(resolver){this._id=lib$es6$promise$promise$$counter++;this._state=undefined;this._result=undefined;this._subscribers=[];if(lib$es6$promise$$internal$$noop!==resolver){if(!lib$es6$promise$utils$$isFunction(resolver)){lib$es6$promise$promise$$needsResolver()}if(!(this instanceof lib$es6$promise$promise$$Promise)){lib$es6$promise$promise$$needsNew()}lib$es6$promise$$internal$$initializePromise(this,resolver)}}lib$es6$promise$promise$$Promise.all=lib$es6$promise$promise$all$$default;lib$es6$promise$promise$$Promise.race=lib$es6$promise$promise$race$$default;lib$es6$promise$promise$$Promise.resolve=lib$es6$promise$promise$resolve$$default;lib$es6$promise$promise$$Promise.reject=lib$es6$promise$promise$reject$$default;lib$es6$promise$promise$$Promise._setScheduler=lib$es6$promise$asap$$setScheduler;lib$es6$promise$promise$$Promise._setAsap=lib$es6$promise$asap$$setAsap;lib$es6$promise$promise$$Promise._asap=lib$es6$promise$asap$$asap;lib$es6$promise$promise$$Promise.prototype={constructor:lib$es6$promise$promise$$Promise,then:function(onFulfillment,onRejection){var parent=this;var state=parent._state;if(state===lib$es6$promise$$internal$$FULFILLED&&!onFulfillment||state===lib$es6$promise$$internal$$REJECTED&&!onRejection){return this}var child=new this.constructor(lib$es6$promise$$internal$$noop);var result=parent._result;if(state){var callback=arguments[state-1];lib$es6$promise$asap$$asap(function(){lib$es6$promise$$internal$$invokeCallback(state,child,callback,result)})}else{lib$es6$promise$$internal$$subscribe(parent,child,onFulfillment,onRejection)}return child},"catch":function(onRejection){return this.then(null,onRejection)}};function lib$es6$promise$polyfill$$polyfill(){var local;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P&&Object.prototype.toString.call(P.resolve())==="[object Promise]"&&!P.cast){return}local.Promise=lib$es6$promise$promise$$default}var lib$es6$promise$polyfill$$default=lib$es6$promise$polyfill$$polyfill;var lib$es6$promise$umd$$ES6Promise={Promise:lib$es6$promise$promise$$default,polyfill:lib$es6$promise$polyfill$$default};if(typeof define==="function"&&define["amd"]){define(function(){return lib$es6$promise$umd$$ES6Promise})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=lib$es6$promise$umd$$ES6Promise}else if(typeof this!=="undefined"){this["ES6Promise"]=lib$es6$promise$umd$$ES6Promise}lib$es6$promise$polyfill$$default()}).call(this);</script>
<script>(function() {
  'use strict';

  if (self.fetch) {
    return
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name)
    }
    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name')
    }
    return name.toLowerCase()
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value)
    }
    return value
  }

  function Headers(headers) {
    this.map = {}

    if (headers instanceof Headers) {
      headers.forEach(function(value, name) {
        this.append(name, value)
      }, this)

    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        this.append(name, headers[name])
      }, this)
    }
  }

  Headers.prototype.append = function(name, value) {
    name = normalizeName(name)
    value = normalizeValue(value)
    var list = this.map[name]
    if (!list) {
      list = []
      this.map[name] = list
    }
    list.push(value)
  }

  Headers.prototype['delete'] = function(name) {
    delete this.map[normalizeName(name)]
  }

  Headers.prototype.get = function(name) {
    var values = this.map[normalizeName(name)]
    return values ? values[0] : null
  }

  Headers.prototype.getAll = function(name) {
    return this.map[normalizeName(name)] || []
  }

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(normalizeName(name))
  }

  Headers.prototype.set = function(name, value) {
    this.map[normalizeName(name)] = [normalizeValue(value)]
  }

  Headers.prototype.forEach = function(callback, thisArg) {
    Object.getOwnPropertyNames(this.map).forEach(function(name) {
      this.map[name].forEach(function(value) {
        callback.call(thisArg, value, name, this)
      }, this)
    }, this)
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'))
    }
    body.bodyUsed = true
  }

  function fileReaderReady(reader) {
    return new Promise(function(resolve, reject) {
      reader.onload = function() {
        resolve(reader.result)
      }
      reader.onerror = function() {
        reject(reader.error)
      }
    })
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader()
    reader.readAsArrayBuffer(blob)
    return fileReaderReady(reader)
  }

  function readBlobAsText(blob) {
    var reader = new FileReader()
    reader.readAsText(blob)
    return fileReaderReady(reader)
  }

  var support = {
    blob: 'FileReader' in self && 'Blob' in self && (function() {
      try {
        new Blob();
        return true
      } catch(e) {
        return false
      }
    })(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  }

  function Body() {
    this.bodyUsed = false


    this._initBody = function(body) {
      this._bodyInit = body
      if (typeof body === 'string') {
        this._bodyText = body
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body
      } else if (!body) {
        this._bodyText = ''
      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {
        // Only support ArrayBuffers for POST method.
        // Receiving ArrayBuffers happens via Blobs, instead.
      } else {
        throw new Error('unsupported BodyInit type')
      }
    }

    if (support.blob) {
      this.blob = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob')
        } else {
          return Promise.resolve(new Blob([this._bodyText]))
        }
      }

      this.arrayBuffer = function() {
        return this.blob().then(readBlobAsArrayBuffer)
      }

      this.text = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return readBlobAsText(this._bodyBlob)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as text')
        } else {
          return Promise.resolve(this._bodyText)
        }
      }
    } else {
      this.text = function() {
        var rejected = consumed(this)
        return rejected ? rejected : Promise.resolve(this._bodyText)
      }
    }

    if (support.formData) {
      this.formData = function() {
        return this.text().then(decode)
      }
    }

    this.json = function() {
      return this.text().then(JSON.parse)
    }

    return this
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

  function normalizeMethod(method) {
    var upcased = method.toUpperCase()
    return (methods.indexOf(upcased) > -1) ? upcased : method
  }

  function Request(input, options) {
    options = options || {}
    var body = options.body
    if (Request.prototype.isPrototypeOf(input)) {
      if (input.bodyUsed) {
        throw new TypeError('Already read')
      }
      this.url = input.url
      this.credentials = input.credentials
      if (!options.headers) {
        this.headers = new Headers(input.headers)
      }
      this.method = input.method
      this.mode = input.mode
      if (!body) {
        body = input._bodyInit
        input.bodyUsed = true
      }
    } else {
      this.url = input
    }

    this.credentials = options.credentials || this.credentials || 'omit'
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers)
    }
    this.method = normalizeMethod(options.method || this.method || 'GET')
    this.mode = options.mode || this.mode || null
    this.referrer = null

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests')
    }
    this._initBody(body)
  }

  Request.prototype.clone = function() {
    return new Request(this)
  }

  function decode(body) {
    var form = new FormData()
    body.trim().split('&').forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
    return form
  }

  function headers(xhr) {
    var head = new Headers()
    var pairs = xhr.getAllResponseHeaders().trim().split('\n')
    pairs.forEach(function(header) {
      var split = header.trim().split(':')
      var key = split.shift().trim()
      var value = split.join(':').trim()
      head.append(key, value)
    })
    return head
  }

  Body.call(Request.prototype)

  function Response(bodyInit, options) {
    if (!options) {
      options = {}
    }

    this._initBody(bodyInit)
    this.type = 'default'
    this.status = options.status
    this.ok = this.status >= 200 && this.status < 300
    this.statusText = options.statusText
    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)
    this.url = options.url || ''
  }

  Body.call(Response.prototype)

  Response.prototype.clone = function() {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    })
  }

  Response.error = function() {
    var response = new Response(null, {status: 0, statusText: ''})
    response.type = 'error'
    return response
  }

  var redirectStatuses = [301, 302, 303, 307, 308]

  Response.redirect = function(url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code')
    }

    return new Response(null, {status: status, headers: {location: url}})
  }

  self.Headers = Headers;
  self.Request = Request;
  self.Response = Response;

  self.fetch = function(input, init) {
    return new Promise(function(resolve, reject) {
      var request
      if (Request.prototype.isPrototypeOf(input) && !init) {
        request = input
      } else {
        request = new Request(input, init)
      }

      var xhr = new XMLHttpRequest()

      function responseURL() {
        if ('responseURL' in xhr) {
          return xhr.responseURL
        }

        // Avoid security warnings on getResponseHeader when not allowed by CORS
        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
          return xhr.getResponseHeader('X-Request-URL')
        }

        return;
      }

      xhr.onload = function() {
        var status = (xhr.status === 1223) ? 204 : xhr.status
        if (status < 100 || status > 599) {
          reject(new TypeError('Network request failed'))
          return
        }
        var options = {
          status: status,
          statusText: xhr.statusText,
          headers: headers(xhr),
          url: responseURL()
        }
        var body = 'response' in xhr ? xhr.response : xhr.responseText;
        resolve(new Response(body, options))
      }

      xhr.onerror = function() {
        reject(new TypeError('Network request failed'))
      }

      xhr.open(request.method, request.url, true)

      if (request.credentials === 'include') {
        xhr.withCredentials = true
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob'
      }

      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value)
      })

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
    })
  }
  self.fetch.polyfill = true
})();
</script>
<script>;(function () {
	'use strict';

	/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */

	/*jslint browser:true, node:true*/
	/*global define, Event, Node*/


	/**
	 * Instantiate fast-clicking listeners on the specified layer.
	 *
	 * @constructor
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */
	function FastClick(layer, options) {
		var oldOnClick;

		options = options || {};

		/**
		 * Whether a click is currently being tracked.
		 *
		 * @type boolean
		 */
		this.trackingClick = false;


		/**
		 * Timestamp for when click tracking started.
		 *
		 * @type number
		 */
		this.trackingClickStart = 0;


		/**
		 * The element being tracked for a click.
		 *
		 * @type EventTarget
		 */
		this.targetElement = null;


		/**
		 * X-coordinate of touch start event.
		 *
		 * @type number
		 */
		this.touchStartX = 0;


		/**
		 * Y-coordinate of touch start event.
		 *
		 * @type number
		 */
		this.touchStartY = 0;


		/**
		 * ID of the last touch, retrieved from Touch.identifier.
		 *
		 * @type number
		 */
		this.lastTouchIdentifier = 0;


		/**
		 * Touchmove boundary, beyond which a click will be cancelled.
		 *
		 * @type number
		 */
		this.touchBoundary = options.touchBoundary || 10;


		/**
		 * The FastClick layer.
		 *
		 * @type Element
		 */
		this.layer = layer;

		/**
		 * The minimum time between tap(touchstart and touchend) events
		 *
		 * @type number
		 */
		this.tapDelay = options.tapDelay || 200;

		/**
		 * The maximum time for a tap
		 *
		 * @type number
		 */
		this.tapTimeout = options.tapTimeout || 700;

		if (FastClick.notNeeded(layer)) {
			return;
		}

		// Some old versions of Android don't have Function.prototype.bind
		function bind(method, context) {
			return function() { return method.apply(context, arguments); };
		}


		var methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];
		var context = this;
		for (var i = 0, l = methods.length; i < l; i++) {
			context[methods[i]] = bind(context[methods[i]], context);
		}

		// Set up event handlers as required
		if (deviceIsAndroid) {
			layer.addEventListener('mouseover', this.onMouse, true);
			layer.addEventListener('mousedown', this.onMouse, true);
			layer.addEventListener('mouseup', this.onMouse, true);
		}

		layer.addEventListener('click', this.onClick, true);
		layer.addEventListener('touchstart', this.onTouchStart, false);
		layer.addEventListener('touchmove', this.onTouchMove, false);
		layer.addEventListener('touchend', this.onTouchEnd, false);
		layer.addEventListener('touchcancel', this.onTouchCancel, false);

		// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
		// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick
		// layer when they are cancelled.
		if (!Event.prototype.stopImmediatePropagation) {
			layer.removeEventListener = function(type, callback, capture) {
				var rmv = Node.prototype.removeEventListener;
				if (type === 'click') {
					rmv.call(layer, type, callback.hijacked || callback, capture);
				} else {
					rmv.call(layer, type, callback, capture);
				}
			};

			layer.addEventListener = function(type, callback, capture) {
				var adv = Node.prototype.addEventListener;
				if (type === 'click') {
					adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {
						if (!event.propagationStopped) {
							callback(event);
						}
					}), capture);
				} else {
					adv.call(layer, type, callback, capture);
				}
			};
		}

		// If a handler is already declared in the element's onclick attribute, it will be fired before
		// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and
		// adding it as listener.
		if (typeof layer.onclick === 'function') {

			// Android browser on at least 3.2 requires a new reference to the function in layer.onclick
			// - the old one won't work if passed to addEventListener directly.
			oldOnClick = layer.onclick;
			layer.addEventListener('click', function(event) {
				oldOnClick(event);
			}, false);
			layer.onclick = null;
		}
	}

	/**
	* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.
	*
	* @type boolean
	*/
	var deviceIsWindowsPhone = navigator.userAgent.indexOf("Windows Phone") >= 0;

	/**
	 * Android requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;


	/**
	 * iOS requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;


	/**
	 * iOS 4 requires an exception for select elements.
	 *
	 * @type boolean
	 */
	var deviceIsIOS4 = deviceIsIOS && (/OS 4_\d(_\d)?/).test(navigator.userAgent);


	/**
	 * iOS 6.0-7.* requires the target element to be manually derived
	 *
	 * @type boolean
	 */
	var deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\d/).test(navigator.userAgent);

	/**
	 * BlackBerry requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;

	/**
	 * Determine whether a given element requires a native click.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element needs a native click
	 */
	FastClick.prototype.needsClick = function(target) {
		switch (target.nodeName.toLowerCase()) {

		// Don't send a synthetic click to disabled inputs (issue #62)
		case 'button':
		case 'select':
		case 'textarea':
			if (target.disabled) {
				return true;
			}

			break;
		case 'input':

			// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)
			if ((deviceIsIOS && target.type === 'file') || target.disabled) {
				return true;
			}

			break;
		case 'label':
		case 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames
		case 'video':
			return true;
		}

		return (/\bneedsclick\b/).test(target.className);
	};


	/**
	 * Determine whether a given element requires a call to focus to simulate click into element.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.
	 */
	FastClick.prototype.needsFocus = function(target) {
		switch (target.nodeName.toLowerCase()) {
		case 'textarea':
			return true;
		case 'select':
			return !deviceIsAndroid;
		case 'input':
			switch (target.type) {
			case 'button':
			case 'checkbox':
			case 'file':
			case 'image':
			case 'radio':
			case 'submit':
				return false;
			}

			// No point in attempting to focus disabled inputs
			return !target.disabled && !target.readOnly;
		default:
			return (/\bneedsfocus\b/).test(target.className);
		}
	};


	/**
	 * Send a click event to the specified element.
	 *
	 * @param {EventTarget|Element} targetElement
	 * @param {Event} event
	 */
	FastClick.prototype.sendClick = function(targetElement, event) {
		var clickEvent, touch;

		// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)
		if (document.activeElement && document.activeElement !== targetElement) {
			document.activeElement.blur();
		}

		touch = event.changedTouches[0];

		// Synthesise a click event, with an extra attribute so it can be tracked
		clickEvent = document.createEvent('MouseEvents');
		clickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
		clickEvent.forwardedTouchEvent = true;
		targetElement.dispatchEvent(clickEvent);
	};

	FastClick.prototype.determineEventType = function(targetElement) {

		//Issue #159: Android Chrome Select Box does not open with a synthetic click event
		if (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {
			return 'mousedown';
		}

		return 'click';
	};


	/**
	 * @param {EventTarget|Element} targetElement
	 */
	FastClick.prototype.focus = function(targetElement) {
		var length;

		// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.
		if (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {
			length = targetElement.value.length;
			targetElement.setSelectionRange(length, length);
		} else {
			targetElement.focus();
		}
	};


	/**
	 * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.
	 *
	 * @param {EventTarget|Element} targetElement
	 */
	FastClick.prototype.updateScrollParent = function(targetElement) {
		var scrollParent, parentElement;

		scrollParent = targetElement.fastClickScrollParent;

		// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the
		// target element was moved to another parent.
		if (!scrollParent || !scrollParent.contains(targetElement)) {
			parentElement = targetElement;
			do {
				if (parentElement.scrollHeight > parentElement.offsetHeight) {
					scrollParent = parentElement;
					targetElement.fastClickScrollParent = parentElement;
					break;
				}

				parentElement = parentElement.parentElement;
			} while (parentElement);
		}

		// Always update the scroll top tracker if possible.
		if (scrollParent) {
			scrollParent.fastClickLastScrollTop = scrollParent.scrollTop;
		}
	};


	/**
	 * @param {EventTarget} targetElement
	 * @returns {Element|EventTarget}
	 */
	FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {

		// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.
		if (eventTarget.nodeType === Node.TEXT_NODE) {
			return eventTarget.parentNode;
		}

		return eventTarget;
	};


	/**
	 * On touch start, record the position and scroll offset.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchStart = function(event) {
		var targetElement, touch, selection;

		// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).
		if (event.targetTouches.length > 1) {
			return true;
		}

		targetElement = this.getTargetElementFromEventTarget(event.target);
		touch = event.targetTouches[0];

		if (deviceIsIOS) {

			// Only trusted events will deselect text on iOS (issue #49)
			selection = window.getSelection();
			if (selection.rangeCount && !selection.isCollapsed) {
				return true;
			}

			if (!deviceIsIOS4) {

				// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):
				// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched
				// with the same identifier as the touch event that previously triggered the click that triggered the alert.
				// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an
				// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.
				// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,
				// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,
				// random integers, it's safe to to continue if the identifier is 0 here.
				if (touch.identifier && touch.identifier === this.lastTouchIdentifier) {
					event.preventDefault();
					return false;
				}

				this.lastTouchIdentifier = touch.identifier;

				// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:
				// 1) the user does a fling scroll on the scrollable layer
				// 2) the user stops the fling scroll with another tap
				// then the event.target of the last 'touchend' event will be the element that was under the user's finger
				// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check
				// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).
				this.updateScrollParent(targetElement);
			}
		}

		this.trackingClick = true;
		this.trackingClickStart = event.timeStamp;
		this.targetElement = targetElement;

		this.touchStartX = touch.pageX;
		this.touchStartY = touch.pageY;

		// Prevent phantom clicks on fast double-tap (issue #36)
		if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
			event.preventDefault();
		}

		return true;
	};


	/**
	 * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.touchHasMoved = function(event) {
		var touch = event.changedTouches[0], boundary = this.touchBoundary;

		if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {
			return true;
		}

		return false;
	};


	/**
	 * Update the last position.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchMove = function(event) {
		if (!this.trackingClick) {
			return true;
		}

		// If the touch has moved, cancel the click tracking
		if (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {
			this.trackingClick = false;
			this.targetElement = null;
		}

		return true;
	};


	/**
	 * Attempt to find the labelled control for the given label element.
	 *
	 * @param {EventTarget|HTMLLabelElement} labelElement
	 * @returns {Element|null}
	 */
	FastClick.prototype.findControl = function(labelElement) {

		// Fast path for newer browsers supporting the HTML5 control attribute
		if (labelElement.control !== undefined) {
			return labelElement.control;
		}

		// All browsers under test that support touch events also support the HTML5 htmlFor attribute
		if (labelElement.htmlFor) {
			return document.getElementById(labelElement.htmlFor);
		}

		// If no for attribute exists, attempt to retrieve the first labellable descendant element
		// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label
		return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');
	};


	/**
	 * On touch end, determine whether to send a click event at once.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchEnd = function(event) {
		var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;

		if (!this.trackingClick) {
			return true;
		}

		// Prevent phantom clicks on fast double-tap (issue #36)
		if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
			this.cancelNextClick = true;
			return true;
		}

		if ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {
			return true;
		}

		// Reset to prevent wrong click cancel on input (issue #156).
		this.cancelNextClick = false;

		this.lastClickTime = event.timeStamp;

		trackingClickStart = this.trackingClickStart;
		this.trackingClick = false;
		this.trackingClickStart = 0;

		// On some iOS devices, the targetElement supplied with the event is invalid if the layer
		// is performing a transition or scroll, and has to be re-detected manually. Note that
		// for this to function correctly, it must be called *after* the event target is checked!
		// See issue #57; also filed as rdar://13048589 .
		if (deviceIsIOSWithBadTarget) {
			touch = event.changedTouches[0];

			// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null
			targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;
			targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;
		}

		targetTagName = targetElement.tagName.toLowerCase();
		if (targetTagName === 'label') {
			forElement = this.findControl(targetElement);
			if (forElement) {
				this.focus(targetElement);
				if (deviceIsAndroid) {
					return false;
				}

				targetElement = forElement;
			}
		} else if (this.needsFocus(targetElement)) {

			// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.
			// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).
			if ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {
				this.targetElement = null;
				return false;
			}

			this.focus(targetElement);
			this.sendClick(targetElement, event);

			// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.
			// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)
			if (!deviceIsIOS || targetTagName !== 'select') {
				this.targetElement = null;
				event.preventDefault();
			}

			return false;
		}

		if (deviceIsIOS && !deviceIsIOS4) {

			// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled
			// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).
			scrollParent = targetElement.fastClickScrollParent;
			if (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {
				return true;
			}
		}

		// Prevent the actual click from going though - unless the target node is marked as requiring
		// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.
		if (!this.needsClick(targetElement)) {
			event.preventDefault();
			this.sendClick(targetElement, event);
		}

		return false;
	};


	/**
	 * On touch cancel, stop tracking the click.
	 *
	 * @returns {void}
	 */
	FastClick.prototype.onTouchCancel = function() {
		this.trackingClick = false;
		this.targetElement = null;
	};


	/**
	 * Determine mouse events which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onMouse = function(event) {

		// If a target element was never set (because a touch event was never fired) allow the event
		if (!this.targetElement) {
			return true;
		}

		if (event.forwardedTouchEvent) {
			return true;
		}

		// Programmatically generated events targeting a specific element should be permitted
		if (!event.cancelable) {
			return true;
		}

		// Derive and check the target element to see whether the mouse event needs to be permitted;
		// unless explicitly enabled, prevent non-touch click events from triggering actions,
		// to prevent ghost/doubleclicks.
		if (!this.needsClick(this.targetElement) || this.cancelNextClick) {

			// Prevent any user-added listeners declared on FastClick element from being fired.
			if (event.stopImmediatePropagation) {
				event.stopImmediatePropagation();
			} else {

				// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
				event.propagationStopped = true;
			}

			// Cancel the event
			event.stopPropagation();
			event.preventDefault();

			return false;
		}

		// If the mouse event is permitted, return true for the action to go through.
		return true;
	};


	/**
	 * On actual clicks, determine whether this is a touch-generated click, a click action occurring
	 * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or
	 * an actual click which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onClick = function(event) {
		var permitted;

		// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.
		if (this.trackingClick) {
			this.targetElement = null;
			this.trackingClick = false;
			return true;
		}

		// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.
		if (event.target.type === 'submit' && event.detail === 0) {
			return true;
		}

		permitted = this.onMouse(event);

		// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.
		if (!permitted) {
			this.targetElement = null;
		}

		// If clicks are permitted, return true for the action to go through.
		return permitted;
	};


	/**
	 * Remove all FastClick's event listeners.
	 *
	 * @returns {void}
	 */
	FastClick.prototype.destroy = function() {
		var layer = this.layer;

		if (deviceIsAndroid) {
			layer.removeEventListener('mouseover', this.onMouse, true);
			layer.removeEventListener('mousedown', this.onMouse, true);
			layer.removeEventListener('mouseup', this.onMouse, true);
		}

		layer.removeEventListener('click', this.onClick, true);
		layer.removeEventListener('touchstart', this.onTouchStart, false);
		layer.removeEventListener('touchmove', this.onTouchMove, false);
		layer.removeEventListener('touchend', this.onTouchEnd, false);
		layer.removeEventListener('touchcancel', this.onTouchCancel, false);
	};


	/**
	 * Check whether FastClick is needed.
	 *
	 * @param {Element} layer The layer to listen on
	 */
	FastClick.notNeeded = function(layer) {
		var metaViewport;
		var chromeVersion;
		var blackberryVersion;
		var firefoxVersion;

		// Devices that don't support touch don't need FastClick
		if (typeof window.ontouchstart === 'undefined') {
			return true;
		}

		// Chrome version - zero for other browsers
		chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];

		if (chromeVersion) {

			if (deviceIsAndroid) {
				metaViewport = document.querySelector('meta[name=viewport]');

				if (metaViewport) {
					// Chrome on Android with user-scalable="no" doesn't need FastClick (issue #89)
					if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
						return true;
					}
					// Chrome 32 and above with width=device-width or less don't need FastClick
					if (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {
						return true;
					}
				}

			// Chrome desktop doesn't need FastClick (issue #15)
			} else {
				return true;
			}
		}

		if (deviceIsBlackBerry10) {
			blackberryVersion = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);

			// BlackBerry 10.3+ does not require Fastclick library.
			// https://github.com/ftlabs/fastclick/issues/251
			if (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {
				metaViewport = document.querySelector('meta[name=viewport]');

				if (metaViewport) {
					// user-scalable=no eliminates click delay.
					if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
						return true;
					}
					// width=device-width (or less than device-width) eliminates click delay.
					if (document.documentElement.scrollWidth <= window.outerWidth) {
						return true;
					}
				}
			}
		}

		// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)
		if (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {
			return true;
		}

		// Firefox version - zero for other browsers
		firefoxVersion = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];

		if (firefoxVersion >= 27) {
			// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896

			metaViewport = document.querySelector('meta[name=viewport]');
			if (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {
				return true;
			}
		}

		// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version
		// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx
		if (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {
			return true;
		}

		return false;
	};


	/**
	 * Factory method for creating a FastClick object
	 *
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */
	FastClick.attach = function(layer, options) {
		return new FastClick(layer, options);
	};


	if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {

		// AMD. Register as an anonymous module.
		define(function() {
			return FastClick;
		});
	} else if (typeof module !== 'undefined' && module.exports) {
		module.exports = FastClick.attach;
		module.exports.FastClick = FastClick;
	} else {
		window.FastClick = FastClick;
	}
}());
</script>
<script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>
<script type="text/javascript">
	if ('addEventListener' in document) {
		document.addEventListener('DOMContentLoaded', function() {
			FastClick.attach(document.body);
		}, false);
	}
</script>



<style>
@charset "UTF-8";

.action-dialog--mask {
  transition: all 0.2s;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 0;
  opacity: 0;
  visibility: hidden;
}

.action-dialog--mask--is-open {
  z-index: 5;
  opacity: 1;
  visibility: visible;
}

.action-sheet {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  padding: 0;
  border-radius: 8px;
  z-index: 500;
  position: absolute;
  bottom: -35%;
  left: 3%;
  right: 3%;
  transition: all 0.3s;
  bottom: 2%;
  -webkit-transform: translateY(115%);
  transform: translateY(115%);
}

.action-sheet--is-open {
  z-index: 10;
  -webkit-transform: translateY(0);
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.action-sheet__actions {
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-justify-content: space-between;
  -ms-flex-pack: justify;
  justify-content: space-between;
}

.action-sheet__actions > px-action-sheet-button:last-child {
  border-bottom: none !important;
}

.action-sheet__button {
  width: 100%;
  background-color: #fff !important;
  background: transparent;
  box-shadow: none;
  border: none !important;
  color: #177efb;
  display: block;
  font-size: 1.2rem;
  text-align: center;
  margin: 0;
  outline: none;
  padding: 12px 0;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  width: 100%;
  cursor: pointer;
  outline: none;
  border-bottom: 1px solid #ccc !important;
}

.action-sheet__button:active {
  transition: none;
  opacity: 0.8;
}

.action-sheet__button:disabled,
.action-sheet__button[disabled] {
  opacity: 0.5;
  cursor: default;
  pointer-events: none;
}

.action-sheet__button:focus {
  outline: 0;
  transition: none;
}

.action-sheet__button:hover {
  box-shadow: none;
  transition: none;
}

.action-sheet__button--danger {
  color: #fe3f35 !important;
  border-bottom: none !important;
}

.action-sheet__button--cancel {
  margin-top: 10px;
  border-bottom: none !important;
}

.action-sheet__button--info {
  color: #777 !important;
  font-size: 1rem;
  padding: 20px 12px;
  pointer-events: none;
}

.action-sheet__button--info:active {
  transition: none;
  opacity: 1;
}

/*
bem model:

navbar
	--fixed
	--dark
	--light
	navbar__toggle
		navbar__toggle__button
	navbar__center
		navbar__center__title
		navbar__center__subtitle

	navbar__button
		--left
		--right

	navbar__left
		navbar__left__button

	navbar__right
		navbar-ui__right__button

*/
.navbar {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  position: relative;
  z-index: 200;
  font-weight: 400;
  font-size: 17px;
  box-sizing: border-box;
  background-clip: padding-box;
  white-space: nowrap;
  background-size: 100% 1px;
  background-repeat: no-repeat;
  background-position: bottom;
  background-image: linear-gradient(0deg, #ddd, #ddd 50%, transparent 50%);
  height: 55px;
  padding-top: 10px;
  color: #1f1f21;
  background-color: #fff;
}

.navbar--chrome {
  background-color: #efeff4;
  color: #1f1f21;
}

.navbar--alt {
  background-color: #888;
  color: #1f1f21;
}

.navbar--dark {
  background-color: #242326;
  color: #fff;
}

.navbar--primary {
  background-color: #0f5fb6;
  color: #fff;
}

.navbar__center {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  text-align: center;
  padding: 10px 0;
}

.navbar__center__title {
  display: block;
}

.navbar__center__subtitle {
  display: block;
  font-size: 80%;
}

.navbar__content {
  padding: 0 5px;
  position: relative;
  width: 100%;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-justify-content: space-between;
  -ms-flex-pack: justify;
  justify-content: space-between;
}

.navbar__right {
  padding: 0 8px;
}

.navbar__left {
  padding: 0 8px;
}

.navbar__button {
  padding: 4px 10px;
  letter-spacing: 0;
  text-shadow: 0 1px none;
  background-color: transparent;
  border-radius: 2px;
  border: 1px solid transparent;
  font-weight: 400;
  font-size: 17px;
  transition: none;
  vertical-align: middle;
  box-shadow: none;
}

.navbar__button:active {
  background-color: rgba(0, 0, 0, 0.05);
  transition: none;
  opacity: 0.2;
}

.navbar__button:disabled,
.navbar__button[disabled] {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

.navbar__button:focus {
  outline: 0;
  transition: none;
}

.navbar__button:hover {
  box-shadow: none;
  transition: none;
}

.navbar__button--back .icon {
  font-size: 1.1em;
}

.navbar__hamburger {
  width: 2.5em;
  transition: all 0.2s;
  position: relative;
}

.navbar__hamburger__icon {
  width: 25px;
  height: 2px;
  display: block;
  position: absolute;
  top: 50%;
  left: 15%;
  transition: -webkit-transform 300ms;
  transition: transform 300ms;
  transition: transform 300ms, -webkit-transform 300ms;
  background: rgba(0, 0, 0, 0.5);
}

.navbar__hamburger__icon--1 {
  -webkit-transform: translate3d(0, -8px, 0);
  transform: translate3d(0, -8px, 0);
}

.navbar__hamburger__icon--2 {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}

.navbar__hamburger__icon--3 {
  -webkit-transform: translate3d(0, 8px, 0);
  transform: translate3d(0, 8px, 0);
}

/*
 * Copyright (c) 2014 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */

/*
 * Copyright (c) 2016 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */

/*
THIS FILE SHOULD CONTAIN ONLY ABSTRACT/'SKETCH' THEME RULES, NOT SPECIFIC TO PREDIX BRANDING
Predix branding rules go in my-px-comp-predix.scss, not in this file.
*/
* {
  -webkit-tap-highlight-color: transparent;
}

.table-view {
  overflow-y: scroll;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  font-family: "GE Inspira Sans", sans-serif;
  font-weight: 500;
  border: none;
  background: transparent;
  background-color: white;
  cursor: default;
  list-style-type: none;
  line-height: normal;
  margin: 0;
  padding: 0;
  position: relative;
  text-align: left;
  transition: -webkit-transform 500ms ease;
  transition: transform 500ms ease;
  transition: transform 500ms ease, -webkit-transform 500ms ease;
}

.table-view .switch {
  position: relative;
  display: inline-block;
  vertical-align: top;
  box-sizing: border-box;
  background-clip: padding-box;
  position: relative;
  overflow: hidden;
  font-size: 17px;
  padding: 0 20px;
  border: none;
  overflow: visible;
  width: 51px;
  height: 32px;
  z-index: 0;
  text-align: left;
}

.table-view .switch input {
  position: absolute;
  overflow: hidden;
  right: 0;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 0;
  border: 0;
  opacity: 0.001;
  z-index: 1;
  vertical-align: top;
  outline: none;
  width: 100%;
  height: 100%;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 51px;
  height: 44px;
  margin-top: -6px;
  top: 0;
  left: 0;
  transition: all 0.2s linear;
}

.table-view .switch__toggle {
  background-color: #ddd;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 30px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: ease-out;
}

.table-view .switch__toggle:before {
  box-sizing: border-box;
  background-clip: padding-box;
  position: absolute;
  content: '';
  border-radius: 28px;
  height: 28px;
  width: 28px;
  background-color: #fff;
  left: 2px;
  top: 2px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);
}

.table-view .switch input:checked + .toggle {
  background-color: #4cd964;
}

.table-view .switch input:checked + .toggle:before {
  -webkit-transform: translateX(18px);
  transform: translateX(18px);
}

.table-view .switch input:not(:checked) + .toggle:before {
  -webkit-transform: translateX(0px);
  transform: translateX(0px);
}

.table-view .switch input:disabled + .toggle {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

.table-view .switch.table-row {
  float: right;
  margin-top: 6px;
  margin-right: 10px;
}

.table-view:before,
.table-view:after {
  display: table;
  content: " ";
}

.table-view:after {
  clear: both;
}

.table-view .table-row {
  min-height: 44px;
  line-height: 44px;
  width: 100%;
  font-size: 1.1rem;
  border-color: #b1b1bc;
  box-sizing: border-box;
  background-color: transparent;
  position: relative;
  overflow: hidden;
  display: block;
  margin: 0;
  padding: 0 10px;
  transition: background-color 0.3s linear;
  -webkit-appearance: normal;
  -moz-appearance: normal;
  appearance: normal;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.table-view .table-row:before,
.table-view .table-row:after {
  display: table;
  content: " ";
}

.table-view .table-row:after {
  clear: both;
}

.table-view .table-row h1,
.table-view .table-row h2,
.table-view .table-row h3,
.table-view .table-row h4,
.table-view .table-row h5,
.table-view .table-row h6,
.table-view .table-row p {
  margin: 0;
  padding: 0;
  line-height: normal;
}

.table-view .table-row > *:not(input),
.table-view .table-row > *:not(textarea),
.table-view .table-row > *:not(select) {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.table-view .table-row:last-child {
  border-bottom: none;
}

.table-view .table-row:first-child:last-child {
  border-top: none;
  border-bottom: none;
}

.table-view .table-row:not(:last-child) {
  border-bottom: 1px solid #b1b1bc;
}

.table-view .table-row > a {
  text-decoration: none;
  color: black;
  transition: background-color 0.2s linear;
}

.table-view .table-row > a:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row > a:hover {
  transition: none;
}

.table-view .table-row__media {
  display: table-cell;
  vertical-align: middle;
  padding-right: 1rem;
  padding-left: 0.1rem;
}

.table-view .table-row__media--right {
  float: right;
}

.table-view .table-row__media--right > i {
  margin-top: 0.7rem;
}

.table-view .table-row__media--toggle {
  padding-top: 0.5rem;
  padding-left: 0.5rem;
}

.table-view .table-row__media--image {
  padding-right: 1rem;
  padding-left: 0.1rem;
}

.table-view .table-row__media--image img {
  display: block;
  max-width: 80px;
  max-height: 80px;
}

.table-view .table-row__media--icon {
  padding-right: 0.5rem;
  padding-left: 0.5rem;
}

.table-view .table-row--icon-left .table-row__media--icon {
  float: left;
}

.table-view .table-row--icon-right .table-row__media--icon {
  float: right;
}

.table-view .table-row--image-left .table-row__media--image {
  float: left;
}

.table-view .table-row--image-right .table-row__media--image {
  float: right;
  margin-right: 1rem;
}

.table-view .table-row--flush {
  line-height: normal;
}

.table-view .table-row__content {
  display: table-cell;
  vertical-align: middle;
  width: 100%;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  padding-right: 2rem;
}

.table-view .table-row__content--flush {
  line-height: normal;
}

.table-view .table-row__content__title {
  padding: 0;
  font-size: 1.1rem;
  display: block;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  white-space: nowrap;
}

@media only screen and (max-width: 320px) {
  .table-view .table-row__content__title {
    font-size: 1rem;
  }
}

.table-view .table-row__content__title--flush {
  line-height: normal;
}

.table-view .table-row__content__title--small {
  font-size: 0.8rem;
  line-height: normal;
}

.table-view .table-row__content__title--large {
  font-size: 1.5rem;
}

.table-view .table-row__content__body {
  display: block;
  line-height: normal;
}

.table-view .table-row__content__body--flush {
  line-height: normal;
}

.table-view .table-row__label {
  color: #9999a3;
}

.table-view .table-row__label--right {
  margin-right: 2rem;
  right: 2%;
  position: absolute;
}

.table-view .table-row__label--left {
  float: left;
  position: relative;
  margin-left: 5%;
}

@media only screen and (max-width: 320px) {
  .table-view .table-row__label {
    margin-top: 7%;
    font-size: 0.9rem;
  }
}

.table-view .table-row__icon {
  padding: 0;
}

.table-view .table-row__icon--left {
  float: left;
}

.table-view .table-row__icon--right {
  float: right;
}

.table-view .table-row__reorder-btn {
  float: right;
  position: absolute;
  right: 5%;
  top: 25%;
}

.table-view .table-row--header {
  padding-top: 15px;
  padding-bottom: 15px;
  box-sizing: border-box;
  font-size: 15px;
  font-weight: 500;
  background-color: #e4e4ea;
  color: black;
  text-transform: uppercase;
  text-shadow: none;
  border-top: none;
  border-bottom: none;
  min-height: 24px;
  line-height: 24px;
}

.table-view .table-row--tappable {
  transition: background-color 0.2s linear;
}

.table-view .table-row--tappable:active {
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--tappable:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--tappable:hover {
  transition: none;
}

.table-view .table-row--chevron {
  transition: background-color 0.2s linear;
  overflow: hidden;
  transition: background-color 0.2s linear;
}

.table-view .table-row--chevron:active {
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--chevron:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--chevron:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #b1b1bc;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--chevron:hover {
  transition: none;
}

.table-view .table-row--chevron:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--chevron:hover {
  transition: none;
}

.table-view .table-row--detail {
  transition: background-color 0.2s linear;
  overflow: hidden;
  transition: background-color 0.2s linear;
}

.table-view .table-row--detail:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--detail:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #0a9ec1;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--detail:hover {
  transition: none;
}

.table-view .table-row--detail:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--detail:hover {
  transition: none;
}

.table-view .table-row--order {
  transition: background-color 0.2s linear;
  overflow: hidden;
}

.table-view .table-row--order:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--order:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #b1b1bc;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--order:hover {
  transition: none;
}

.table-view .table-row--edit {
  transition: background-color 0.2s linear;
  overflow: hidden;
}

.table-view .table-row--edit:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--edit:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #ff5c5c;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--edit:hover {
  transition: none;
}

.table-view .table-row--edit:before {
  left: 5px;
  right: auto;
}

.table-view .table-row--edit > .table-row__content {
  padding-left: 25px;
}

.table-view .table-row--nav-left {
  transition: background-color 0.2s linear;
  transition: background-color 0.2s linear;
  overflow: hidden;
}

.table-view .table-row--nav-left:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--nav-left:hover {
  transition: none;
}

.table-view .table-row--nav-left:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--nav-left:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #b1b1bc;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--nav-left:hover {
  transition: none;
}

.table-view .table-row--nav-right {
  transition: background-color 0.2s linear;
  transition: background-color 0.2s linear;
  overflow: hidden;
}

.table-view .table-row--nav-right:active {
  color: #fff !important;
  transition: none;
  background: #0a9ec1;
}

.table-view .table-row--nav-right:hover {
  transition: none;
}

.table-view .table-row--nav-right:active {
  background-color: #0a9ec1;
  transition: none;
}

.table-view .table-row--nav-right:before {
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  font-style: normal;
  font-weight: normal;
  position: absolute;
  right: 12px;
  top: 50%;
  color: #b1b1bc;
  line-height: 28px;
  height: 28px;
  font-size: 28px;
  font-family: FontAwesome;
  content: "";
}

.table-view .table-row--nav-right:hover {
  transition: none;
}

.table-view .table-row--actionable .table-row__content {
  transition: 0.3s;
  position: relative;
  z-index: 10;
}

.table-view .table-row__actions {
  overflow: hidden;
  -webkit-transform-style: preserve-3d;
  transform-style: preserve-3d;
  position: absolute;
  top: 0;
  height: 100%;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-justify-content: space-between;
  -ms-flex-pack: justify;
  justify-content: space-between;
  transition: -webkit-transform .3s ease-out;
  transition: transform .3s ease-out;
  transition: transform .3s ease-out, -webkit-transform .3s ease-out;
  will-change: transform;
  z-index: 50;
  width: auto;
}

.table-view .table-row__actions__button {
  cursor: pointer;
  font-size: 1rem;
  margin: 0;
  color: #fff;
  border-radius: 0;
  padding: 2px 15px;
  min-width: 75px;
}

.table-view .table-row__actions__button i {
  display: block;
}

.table-view .table-row__actions .btn-delete {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: background-color 0.2s linear;
  background-color: #e53838;
  border: none;
  outline: none;
}

.table-view .table-row__actions .btn-delete:active {
  background-color: #a21515;
}

.table-view .table-row__actions .btn-delete:hover {
  background-color: #b81818;
}

.table-view .table-row__actions .btn-flag {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: background-color 0.2s linear;
  background-color: #dd6b1f;
  border: none;
  outline: none;
}

.table-view .table-row__actions .btn-flag:active {
  background-color: #844012;
}

.table-view .table-row__actions .btn-flag:hover {
  background-color: #9a4b16;
}

.table-view .table-row__actions .btn-more {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: background-color 0.2s linear;
  background-color: #4364dd;
  border: none;
  outline: none;
}

.table-view .table-row__actions .btn-more:active {
  background-color: #1c389e;
}

.table-view .table-row__actions .btn-more:hover {
  background-color: #2040b3;
}

.table-view .table-row__actions .btn-info {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: background-color 0.2s linear;
  background-color: #848484;
  border: none;
  outline: none;
}

.table-view .table-row__actions .btn-info:active {
  background-color: #515151;
}

.table-view .table-row__actions .btn-info:hover {
  background-color: #5e5e5e;
}

.table-view .table-row__actions--left {
  left: 0;
  -webkit-transform: translateX(-110%);
  transform: translateX(-110%);
}

.table-view .table-row__actions--left.is-visible {
  -webkit-transform: translateX(0%);
  transform: translateX(0%);
}

.table-view .table-row__actions--left.is-visible .table-row__actions__button {
  transition: width 300ms ease-out;
  width: auto;
}

.table-view .table-row__actions--right {
  right: 0;
  -webkit-transform: translateX(110%);
  transform: translateX(110%);
}

.table-view .table-row__actions--right.is-visible {
  -webkit-transform: translateX(0%);
  transform: translateX(0%);
}

.table-view .table-row.checkbox {
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  line-height: 44px;
}

.table-view .table-row__checkbox {
  position: relative;
  display: inline-block;
  vertical-align: top;
  cursor: default;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  font-weight: 400;
  font-size: 17px;
  line-height: 24px;
  margin: 10px 0;
}

.table-view .table-row__checkbox input[type="checkbox"] {
  position: absolute;
  overflow: hidden;
  right: 0;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 0;
  border: 0;
  opacity: 0.001;
  z-index: 1;
  vertical-align: top;
  outline: none;
  width: 100%;
  height: 100%;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  height: 0;
  width: 0;
}

.table-view .table-row__checkbox input[type="checkbox"]:checked {
  background: #0a9ec1;
}

.table-view .table-row__checkbox input[type="checkbox"]:checked + div:before {
  background: #0a9ec1;
  border: 1px solid #0a9ec1;
}

.table-view .table-row__checkbox input[type="checkbox"]:checked + div:after {
  opacity: 1;
}

.table-view .table-row__checkbox input[type="checkbox"]:focus + div:before {
  box-shadow: none;
}

.table-view .table-row__checkbox input[type="checkbox"]:disabled + div {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

.table-view .table-row__checkbox input[type="checkbox"]:disabled:active + div:before {
  background: transparent;
  box-shadow: none;
}

.table-view .table-row__checkbox__checkmark {
  box-sizing: border-box;
  background-clip: padding-box;
  position: relative;
  display: inline-block;
  vertical-align: top;
  cursor: default;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  font-weight: 400;
  font-size: 17px;
  position: relative;
  overflow: hidden;
  width: 24px;
  height: 24px;
}

.table-view .table-row__checkbox__checkmark:before {
  content: '';
  position: absolute;
  box-sizing: border-box;
  background-clip: padding-box;
  width: 24px;
  height: 24px;
  background: transparent;
  border: 1px solid #0a9ec1;
  border-radius: 16px;
  box-shadow: none;
  left: 0;
}

.table-view .table-row__checkbox__checkmark:after {
  content: '';
  position: absolute;
  top: 8px;
  left: 6px;
  width: 12px;
  height: 6px;
  background: transparent;
  border: 3px solid white;
  border-width: 2px;
  border-top: none;
  border-right: none;
  border-radius: 0;
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
  opacity: 0;
}

.table-view .table-row__checkbox--no-border {
  background: transparent;
  border: none;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"] {
  background: transparent;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"] + div:before {
  border: none;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"] + div:after {
  border-color: #0a9ec1;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"]:checked + div:before {
  border: none;
  background: transparent;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"]:checked + div:after {
  border-color: #0a9ec1;
  opacity: 1;
}

.table-view .table-row__checkbox--no-border input[type="checkbox"]:disabled + div:after {
  opacity: 0.5;
}

.table-view .table-row > input.text-input {
  margin: 0;
  min-height: 44px;
  font-size: 1.3rem;
  background: transparent;
  border: none;
  box-shadow: none;
}

.table-view .table-row > .btn {
  outline: none;
  min-height: 44px;
}

.table-view--responsive {
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  margin-left: 0;
  margin-top: 0;
}

.table-view--responsive .table-row {
  -webkit-flex: 1 0 240px;
  -ms-flex: 1 0 240px;
  flex: 1 0 240px;
  margin-left: 0;
  margin-top: 0;
}

@media (min-width: 480px) {
  .table-view--responsive .table-row {
    max-width: calc(50% - 0);
  }
}

@media (min-width: 720px) {
  .table-view--responsive .table-row {
    max-width: calc(33.33333% - 0);
  }
}

@media (min-width: 960px) {
  .table-view--responsive .table-row {
    max-width: calc(25% - 0);
  }
}

@media (min-width: 960px) {
  .table-view--responsive .table-row {
    min-width: calc(25% - 0);
  }
}

.table-view--responsive > *:last-child {
  border-bottom: 1px solid #b1b1bc !important;
}

.table-view--inset {
  background-image: none;
  border: 1px solid #b1b1bc;
  border-radius: 4px;
  margin: 8px;
}

.table-view--ptr > .table-row {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.table-view--bare {
  border: none;
  background: transparent;
}

.table-view--bare > .table-row {
  border: none;
  background: transparent;
}

.table-view--rev {
  direction: rtl;
}

.table-view--flush {
  padding: 0;
}

.table-view--tiny .table-row {
  padding: 0.2rem;
}

.table-view--small .table-row {
  padding: 0.5rem;
}

.table-view--flush .table-row {
  padding: 0;
}

.table-view--regular .table-row {
  padding: 1rem;
}

.table-view--large .table-row {
  padding: 2rem;
}

.table-view--huge .table-row {
  padding: 3rem;
}

.table-view--avatars > .table-row {
  padding: 0.5rem;
}

.table-view--avatars > .table-row img {
  height: 32px;
  border-radius: 6px;
}

.table-view .switch {
  float: right;
  position: absolute;
  margin-top: -25px;
  right: 3%;
}

.table-view .switch--table-row {
  float: right;
  margin-top: 6px;
  margin-right: 10px;
}

.table-view--nested .table-row {
  transition: -webkit-transform 500ms ease;
  transition: transform 500ms ease;
  transition: transform 500ms ease, -webkit-transform 500ms ease;
}

.table-view--nested .table-row.has-children {
  line-height: normal;
  overflow: hidden;
  max-height: 75px;
}

.table-view--nested .table-row.has-children .table-view {
  margin-left: 15px;
  -webkit-transform: translateX(99%);
  transform: translateX(99%);
}

.table-view--nested .table-row.has-children.is-selected {
  background: transparent;
  max-height: 100%;
}

.table-view--nested .table-row.has-children.is-selected > .table-view {
  display: block;
  -webkit-transform: translateX(0);
  transform: translateX(0);
}

:root {

  /*!
Animate.css - http://daneden.me/animate
Licensed under the MIT license - http://opensource.org/licenses/MIT
Copyright (c) 2015 Daniel Eden
*/

  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */

  /* ARIA + Screen reader assists */
}

:root .switch {
  position: relative;
  display: inline-block;
  vertical-align: top;
  box-sizing: border-box;
  background-clip: padding-box;
  position: relative;
  overflow: hidden;
  font-size: 17px;
  padding: 0 20px;
  border: none;
  overflow: visible;
  width: 51px;
  height: 32px;
  z-index: 0;
  text-align: left;
}

:root .switch input {
  position: absolute;
  overflow: hidden;
  right: 0;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 0;
  border: 0;
  opacity: 0.001;
  z-index: 1;
  vertical-align: top;
  outline: none;
  width: 100%;
  height: 100%;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 51px;
  height: 44px;
  margin-top: -6px;
  top: 0;
  left: 0;
  transition: all 0.2s linear;
}

:root .switch__toggle {
  background-color: #ddd;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 30px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: ease-out;
}

:root .switch__toggle:before {
  box-sizing: border-box;
  background-clip: padding-box;
  position: absolute;
  content: '';
  border-radius: 28px;
  height: 28px;
  width: 28px;
  background-color: #fff;
  left: 2px;
  top: 2px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);
}

:root .switch input:checked + .toggle {
  background-color: #4cd964;
}

:root .switch input:checked + .toggle:before {
  -webkit-transform: translateX(18px);
  transform: translateX(18px);
}

:root .switch input:not(:checked) + .toggle:before {
  -webkit-transform: translateX(0px);
  transform: translateX(0px);
}

:root .switch input:disabled + .toggle {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

:root .switch.table-row {
  float: right;
  margin-top: 6px;
  margin-right: 10px;
}

:root .range {
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  box-sizing: border-box;
  background-clip: padding-box;
  vertical-align: top;
  outline: none;
  line-height: 1;
  border-radius: 4px;
  border: none;
  height: 2px;
  border-radius: 0;
  border-radius: 3px;
  background-image: linear-gradient(#b1b1bc, #b1b1bc);
  background-position: left center;
  background-size: 100% 2px;
  background-repeat: no-repeat;
  overflow: hidden;
  height: 31px;
}

:root .range::-moz-range-track {
  position: relative;
  border: none;
  background-color: #b1b1bc;
  height: 2px;
  border-radius: 30px;
  box-shadow: none;
  top: 0;
  margin: 0;
  padding: 0;
}

:root .range::-webkit-slider-thumb {
  cursor: pointer;
  position: relative;
  height: 29px;
  width: 29px;
  background-color: #fff;
  border: 1px solid #b1b1bc;
  border-radius: 30px;
  box-shadow: none;
  top: 0;
  margin: 0;
  padding: 0;
}

:root .range::-moz-range-thumb {
  cursor: pointer;
  position: relative;
  height: 29px;
  width: 29px;
  background-color: #fff;
  border: 1px solid #b1b1bc;
  border-radius: 30px;
  box-shadow: none;
  margin: 0;
  padding: 0;
}

:root .range::-webkit-slider-thumb:before {
  position: absolute;
  top: 13px;
  right: 0;
  left: -1024px;
  width: 1024px;
  height: 2px;
  background-color: #0a9ec1;
  content: '';
  margin: 0;
  padding: 0;
}

:root .range:disabled {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

:root .animated {
  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}

:root .animated.infinite {
  -webkit-animation-iteration-count: infinite;
  animation-iteration-count: infinite;
}

:root .animated.hinge {
  -webkit-animation-duration: 2s;
  animation-duration: 2s;
}

:root .animated.bounceIn,
:root .animated.bounceOut {
  -webkit-animation-duration: .75s;
  animation-duration: .75s;
}

:root .animated.flipOutX,
:root .animated.flipOutY {
  -webkit-animation-duration: .75s;
  animation-duration: .75s;
}

@-webkit-keyframes bounce {
  from,
  20%,
  53%,
  80%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  40%,
  43% {
    -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -30px, 0);
    transform: translate3d(0, -30px, 0);
  }

  70% {
    -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -15px, 0);
    transform: translate3d(0, -15px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, -4px, 0);
    transform: translate3d(0, -4px, 0);
  }
}

@keyframes bounce {
  from,
  20%,
  53%,
  80%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  40%,
  43% {
    -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -30px, 0);
    transform: translate3d(0, -30px, 0);
  }

  70% {
    -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -15px, 0);
    transform: translate3d(0, -15px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, -4px, 0);
    transform: translate3d(0, -4px, 0);
  }
}

:root .bounce {
  -webkit-animation-name: bounce;
  animation-name: bounce;
  -webkit-transform-origin: center bottom;
  transform-origin: center bottom;
}

@-webkit-keyframes flash {
  from,
  50%,
  to {
    opacity: 1;
  }

  25%,
  75% {
    opacity: 0;
  }
}

@keyframes flash {
  from,
  50%,
  to {
    opacity: 1;
  }

  25%,
  75% {
    opacity: 0;
  }
}

:root .flash {
  -webkit-animation-name: flash;
  animation-name: flash;
}

@-webkit-keyframes pulse {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  50% {
    -webkit-transform: scale3d(1.05, 1.05, 1.05);
    transform: scale3d(1.05, 1.05, 1.05);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

@keyframes pulse {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  50% {
    -webkit-transform: scale3d(1.05, 1.05, 1.05);
    transform: scale3d(1.05, 1.05, 1.05);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

:root .pulse {
  -webkit-animation-name: pulse;
  animation-name: pulse;
}

@-webkit-keyframes rubberBand {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  30% {
    -webkit-transform: scale3d(1.25, 0.75, 1);
    transform: scale3d(1.25, 0.75, 1);
  }

  40% {
    -webkit-transform: scale3d(0.75, 1.25, 1);
    transform: scale3d(0.75, 1.25, 1);
  }

  50% {
    -webkit-transform: scale3d(1.15, 0.85, 1);
    transform: scale3d(1.15, 0.85, 1);
  }

  65% {
    -webkit-transform: scale3d(0.95, 1.05, 1);
    transform: scale3d(0.95, 1.05, 1);
  }

  75% {
    -webkit-transform: scale3d(1.05, 0.95, 1);
    transform: scale3d(1.05, 0.95, 1);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

@keyframes rubberBand {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  30% {
    -webkit-transform: scale3d(1.25, 0.75, 1);
    transform: scale3d(1.25, 0.75, 1);
  }

  40% {
    -webkit-transform: scale3d(0.75, 1.25, 1);
    transform: scale3d(0.75, 1.25, 1);
  }

  50% {
    -webkit-transform: scale3d(1.15, 0.85, 1);
    transform: scale3d(1.15, 0.85, 1);
  }

  65% {
    -webkit-transform: scale3d(0.95, 1.05, 1);
    transform: scale3d(0.95, 1.05, 1);
  }

  75% {
    -webkit-transform: scale3d(1.05, 0.95, 1);
    transform: scale3d(1.05, 0.95, 1);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

:root .rubberBand {
  -webkit-animation-name: rubberBand;
  animation-name: rubberBand;
}

@-webkit-keyframes shake {
  from,
  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    -webkit-transform: translate3d(-10px, 0, 0);
    transform: translate3d(-10px, 0, 0);
  }

  20%,
  40%,
  60%,
  80% {
    -webkit-transform: translate3d(10px, 0, 0);
    transform: translate3d(10px, 0, 0);
  }
}

@keyframes shake {
  from,
  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    -webkit-transform: translate3d(-10px, 0, 0);
    transform: translate3d(-10px, 0, 0);
  }

  20%,
  40%,
  60%,
  80% {
    -webkit-transform: translate3d(10px, 0, 0);
    transform: translate3d(10px, 0, 0);
  }
}

:root .shake {
  -webkit-animation-name: shake;
  animation-name: shake;
}

@-webkit-keyframes swing {
  20% {
    -webkit-transform: rotate3d(0, 0, 1, 15deg);
    transform: rotate3d(0, 0, 1, 15deg);
  }

  40% {
    -webkit-transform: rotate3d(0, 0, 1, -10deg);
    transform: rotate3d(0, 0, 1, -10deg);
  }

  60% {
    -webkit-transform: rotate3d(0, 0, 1, 5deg);
    transform: rotate3d(0, 0, 1, 5deg);
  }

  80% {
    -webkit-transform: rotate3d(0, 0, 1, -5deg);
    transform: rotate3d(0, 0, 1, -5deg);
  }

  to {
    -webkit-transform: rotate3d(0, 0, 1, 0deg);
    transform: rotate3d(0, 0, 1, 0deg);
  }
}

@keyframes swing {
  20% {
    -webkit-transform: rotate3d(0, 0, 1, 15deg);
    transform: rotate3d(0, 0, 1, 15deg);
  }

  40% {
    -webkit-transform: rotate3d(0, 0, 1, -10deg);
    transform: rotate3d(0, 0, 1, -10deg);
  }

  60% {
    -webkit-transform: rotate3d(0, 0, 1, 5deg);
    transform: rotate3d(0, 0, 1, 5deg);
  }

  80% {
    -webkit-transform: rotate3d(0, 0, 1, -5deg);
    transform: rotate3d(0, 0, 1, -5deg);
  }

  to {
    -webkit-transform: rotate3d(0, 0, 1, 0deg);
    transform: rotate3d(0, 0, 1, 0deg);
  }
}

:root .swing {
  -webkit-transform-origin: top center;
  transform-origin: top center;
  -webkit-animation-name: swing;
  animation-name: swing;
}

@-webkit-keyframes tada {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  10%,
  20% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
    transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
  }

  30%,
  50%,
  70%,
  90% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
  }

  40%,
  60%,
  80% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

@keyframes tada {
  from {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  10%,
  20% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
    transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);
  }

  30%,
  50%,
  70%,
  90% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
  }

  40%,
  60%,
  80% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
  }

  to {
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

:root .tada {
  -webkit-animation-name: tada;
  animation-name: tada;
}

@-webkit-keyframes wobble {
  from {
    -webkit-transform: none;
    transform: none;
  }

  15% {
    -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
    transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
  }

  30% {
    -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
    transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
  }

  45% {
    -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
    transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
  }

  60% {
    -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
  }

  75% {
    -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes wobble {
  from {
    -webkit-transform: none;
    transform: none;
  }

  15% {
    -webkit-transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
    transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);
  }

  30% {
    -webkit-transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
    transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);
  }

  45% {
    -webkit-transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
    transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);
  }

  60% {
    -webkit-transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
  }

  75% {
    -webkit-transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

:root .wobble {
  -webkit-animation-name: wobble;
  animation-name: wobble;
}

@-webkit-keyframes jello {
  from,
  11.1%,
  to {
    -webkit-transform: none;
    transform: none;
  }

  22.2% {
    -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);
    transform: skewX(-12.5deg) skewY(-12.5deg);
  }

  33.3% {
    -webkit-transform: skewX(6.25deg) skewY(6.25deg);
    transform: skewX(6.25deg) skewY(6.25deg);
  }

  44.4% {
    -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);
    transform: skewX(-3.125deg) skewY(-3.125deg);
  }

  55.5% {
    -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);
    transform: skewX(1.5625deg) skewY(1.5625deg);
  }

  66.6% {
    -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);
    transform: skewX(-0.78125deg) skewY(-0.78125deg);
  }

  77.7% {
    -webkit-transform: skewX(0.39062deg) skewY(0.39062deg);
    transform: skewX(0.39062deg) skewY(0.39062deg);
  }

  88.8% {
    -webkit-transform: skewX(-0.19531deg) skewY(-0.19531deg);
    transform: skewX(-0.19531deg) skewY(-0.19531deg);
  }
}

@keyframes jello {
  from,
  11.1%,
  to {
    -webkit-transform: none;
    transform: none;
  }

  22.2% {
    -webkit-transform: skewX(-12.5deg) skewY(-12.5deg);
    transform: skewX(-12.5deg) skewY(-12.5deg);
  }

  33.3% {
    -webkit-transform: skewX(6.25deg) skewY(6.25deg);
    transform: skewX(6.25deg) skewY(6.25deg);
  }

  44.4% {
    -webkit-transform: skewX(-3.125deg) skewY(-3.125deg);
    transform: skewX(-3.125deg) skewY(-3.125deg);
  }

  55.5% {
    -webkit-transform: skewX(1.5625deg) skewY(1.5625deg);
    transform: skewX(1.5625deg) skewY(1.5625deg);
  }

  66.6% {
    -webkit-transform: skewX(-0.78125deg) skewY(-0.78125deg);
    transform: skewX(-0.78125deg) skewY(-0.78125deg);
  }

  77.7% {
    -webkit-transform: skewX(0.39062deg) skewY(0.39062deg);
    transform: skewX(0.39062deg) skewY(0.39062deg);
  }

  88.8% {
    -webkit-transform: skewX(-0.19531deg) skewY(-0.19531deg);
    transform: skewX(-0.19531deg) skewY(-0.19531deg);
  }
}

:root .jello {
  -webkit-animation-name: jello;
  animation-name: jello;
  -webkit-transform-origin: center;
  transform-origin: center;
}

@-webkit-keyframes bounceIn {
  from,
  20%,
  40%,
  60%,
  80%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  20% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1);
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9);
    transform: scale3d(0.9, 0.9, 0.9);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(1.03, 1.03, 1.03);
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    -webkit-transform: scale3d(0.97, 0.97, 0.97);
    transform: scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

@keyframes bounceIn {
  from,
  20%,
  40%,
  60%,
  80%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  20% {
    -webkit-transform: scale3d(1.1, 1.1, 1.1);
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9);
    transform: scale3d(0.9, 0.9, 0.9);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(1.03, 1.03, 1.03);
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    -webkit-transform: scale3d(0.97, 0.97, 0.97);
    transform: scale3d(0.97, 0.97, 0.97);
  }

  to {
    opacity: 1;
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }
}

:root .bounceIn {
  -webkit-animation-name: bounceIn;
  animation-name: bounceIn;
}

@-webkit-keyframes bounceInDown {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: translate3d(0, -3000px, 0);
    transform: translate3d(0, -3000px, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(0, 25px, 0);
    transform: translate3d(0, 25px, 0);
  }

  75% {
    -webkit-transform: translate3d(0, -10px, 0);
    transform: translate3d(0, -10px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, 5px, 0);
    transform: translate3d(0, 5px, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes bounceInDown {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: translate3d(0, -3000px, 0);
    transform: translate3d(0, -3000px, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(0, 25px, 0);
    transform: translate3d(0, 25px, 0);
  }

  75% {
    -webkit-transform: translate3d(0, -10px, 0);
    transform: translate3d(0, -10px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, 5px, 0);
    transform: translate3d(0, 5px, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

:root .bounceInDown {
  -webkit-animation-name: bounceInDown;
  animation-name: bounceInDown;
}

@-webkit-keyframes bounceInLeft {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: translate3d(-3000px, 0, 0);
    transform: translate3d(-3000px, 0, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(25px, 0, 0);
    transform: translate3d(25px, 0, 0);
  }

  75% {
    -webkit-transform: translate3d(-10px, 0, 0);
    transform: translate3d(-10px, 0, 0);
  }

  90% {
    -webkit-transform: translate3d(5px, 0, 0);
    transform: translate3d(5px, 0, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes bounceInLeft {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  0% {
    opacity: 0;
    -webkit-transform: translate3d(-3000px, 0, 0);
    transform: translate3d(-3000px, 0, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(25px, 0, 0);
    transform: translate3d(25px, 0, 0);
  }

  75% {
    -webkit-transform: translate3d(-10px, 0, 0);
    transform: translate3d(-10px, 0, 0);
  }

  90% {
    -webkit-transform: translate3d(5px, 0, 0);
    transform: translate3d(5px, 0, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

:root .bounceInLeft {
  -webkit-animation-name: bounceInLeft;
  animation-name: bounceInLeft;
}

@-webkit-keyframes bounceInRight {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    -webkit-transform: translate3d(3000px, 0, 0);
    transform: translate3d(3000px, 0, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(-25px, 0, 0);
    transform: translate3d(-25px, 0, 0);
  }

  75% {
    -webkit-transform: translate3d(10px, 0, 0);
    transform: translate3d(10px, 0, 0);
  }

  90% {
    -webkit-transform: translate3d(-5px, 0, 0);
    transform: translate3d(-5px, 0, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes bounceInRight {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    -webkit-transform: translate3d(3000px, 0, 0);
    transform: translate3d(3000px, 0, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(-25px, 0, 0);
    transform: translate3d(-25px, 0, 0);
  }

  75% {
    -webkit-transform: translate3d(10px, 0, 0);
    transform: translate3d(10px, 0, 0);
  }

  90% {
    -webkit-transform: translate3d(-5px, 0, 0);
    transform: translate3d(-5px, 0, 0);
  }

  to {
    -webkit-transform: none;
    transform: none;
  }
}

:root .bounceInRight {
  -webkit-animation-name: bounceInRight;
  animation-name: bounceInRight;
}

@-webkit-keyframes bounceInUp {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 3000px, 0);
    transform: translate3d(0, 3000px, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(0, -20px, 0);
    transform: translate3d(0, -20px, 0);
  }

  75% {
    -webkit-transform: translate3d(0, 10px, 0);
    transform: translate3d(0, 10px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, -5px, 0);
    transform: translate3d(0, -5px, 0);
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes bounceInUp {
  from,
  60%,
  75%,
  90%,
  to {
    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 3000px, 0);
    transform: translate3d(0, 3000px, 0);
  }

  60% {
    opacity: 1;
    -webkit-transform: translate3d(0, -20px, 0);
    transform: translate3d(0, -20px, 0);
  }

  75% {
    -webkit-transform: translate3d(0, 10px, 0);
    transform: translate3d(0, 10px, 0);
  }

  90% {
    -webkit-transform: translate3d(0, -5px, 0);
    transform: translate3d(0, -5px, 0);
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

:root .bounceInUp {
  -webkit-animation-name: bounceInUp;
  animation-name: bounceInUp;
}

@-webkit-keyframes bounceOut {
  20% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9);
    transform: scale3d(0.9, 0.9, 0.9);
  }

  50%,
  55% {
    opacity: 1;
    -webkit-transform: scale3d(1.1, 1.1, 1.1);
    transform: scale3d(1.1, 1.1, 1.1);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }
}

@keyframes bounceOut {
  20% {
    -webkit-transform: scale3d(0.9, 0.9, 0.9);
    transform: scale3d(0.9, 0.9, 0.9);
  }

  50%,
  55% {
    opacity: 1;
    -webkit-transform: scale3d(1.1, 1.1, 1.1);
    transform: scale3d(1.1, 1.1, 1.1);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }
}

:root .bounceOut {
  -webkit-animation-name: bounceOut;
  animation-name: bounceOut;
}

@-webkit-keyframes bounceOutDown {
  20% {
    -webkit-transform: translate3d(0, 10px, 0);
    transform: translate3d(0, 10px, 0);
  }

  40%,
  45% {
    opacity: 1;
    -webkit-transform: translate3d(0, -20px, 0);
    transform: translate3d(0, -20px, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }
}

@keyframes bounceOutDown {
  20% {
    -webkit-transform: translate3d(0, 10px, 0);
    transform: translate3d(0, 10px, 0);
  }

  40%,
  45% {
    opacity: 1;
    -webkit-transform: translate3d(0, -20px, 0);
    transform: translate3d(0, -20px, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }
}

:root .bounceOutDown {
  -webkit-animation-name: bounceOutDown;
  animation-name: bounceOutDown;
}

@-webkit-keyframes bounceOutLeft {
  20% {
    opacity: 1;
    -webkit-transform: translate3d(20px, 0, 0);
    transform: translate3d(20px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }
}

@keyframes bounceOutLeft {
  20% {
    opacity: 1;
    -webkit-transform: translate3d(20px, 0, 0);
    transform: translate3d(20px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }
}

:root .bounceOutLeft {
  -webkit-animation-name: bounceOutLeft;
  animation-name: bounceOutLeft;
}

@-webkit-keyframes bounceOutRight {
  20% {
    opacity: 1;
    -webkit-transform: translate3d(-20px, 0, 0);
    transform: translate3d(-20px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }
}

@keyframes bounceOutRight {
  20% {
    opacity: 1;
    -webkit-transform: translate3d(-20px, 0, 0);
    transform: translate3d(-20px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }
}

:root .bounceOutRight {
  -webkit-animation-name: bounceOutRight;
  animation-name: bounceOutRight;
}

@-webkit-keyframes bounceOutUp {
  20% {
    -webkit-transform: translate3d(0, -10px, 0);
    transform: translate3d(0, -10px, 0);
  }

  40%,
  45% {
    opacity: 1;
    -webkit-transform: translate3d(0, 20px, 0);
    transform: translate3d(0, 20px, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }
}

@keyframes bounceOutUp {
  20% {
    -webkit-transform: translate3d(0, -10px, 0);
    transform: translate3d(0, -10px, 0);
  }

  40%,
  45% {
    opacity: 1;
    -webkit-transform: translate3d(0, 20px, 0);
    transform: translate3d(0, 20px, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }
}

:root .bounceOutUp {
  -webkit-animation-name: bounceOutUp;
  animation-name: bounceOutUp;
}

@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

:root .fadeIn {
  -webkit-animation-name: fadeIn;
  animation-name: fadeIn;
}

@-webkit-keyframes fadeInDown {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInDown {
  -webkit-animation-name: fadeInDown;
  animation-name: fadeInDown;
}

@-webkit-keyframes fadeInDownBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInDownBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInDownBig {
  -webkit-animation-name: fadeInDownBig;
  animation-name: fadeInDownBig;
}

@-webkit-keyframes fadeInLeft {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInLeft {
  -webkit-animation-name: fadeInLeft;
  animation-name: fadeInLeft;
}

@-webkit-keyframes fadeInLeftBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInLeftBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInLeftBig {
  -webkit-animation-name: fadeInLeftBig;
  animation-name: fadeInLeftBig;
}

@-webkit-keyframes fadeInRight {
  from {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInRight {
  -webkit-animation-name: fadeInRight;
  animation-name: fadeInRight;
}

@-webkit-keyframes fadeInRightBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInRightBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInRightBig {
  -webkit-animation-name: fadeInRightBig;
  animation-name: fadeInRightBig;
}

@-webkit-keyframes fadeInUp {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInUp {
  -webkit-animation-name: fadeInUp;
  animation-name: fadeInUp;
}

@-webkit-keyframes fadeInUpBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes fadeInUpBig {
  from {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .fadeInUpBig {
  -webkit-animation-name: fadeInUpBig;
  animation-name: fadeInUpBig;
}

@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

:root .fadeOut {
  -webkit-animation-name: fadeOut;
  animation-name: fadeOut;
}

@-webkit-keyframes fadeOutDown {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@keyframes fadeOutDown {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

:root .fadeOutDown {
  -webkit-animation-name: fadeOutDown;
  animation-name: fadeOutDown;
}

@-webkit-keyframes fadeOutDownBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }
}

@keyframes fadeOutDownBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, 2000px, 0);
    transform: translate3d(0, 2000px, 0);
  }
}

:root .fadeOutDownBig {
  -webkit-animation-name: fadeOutDownBig;
  animation-name: fadeOutDownBig;
}

@-webkit-keyframes fadeOutLeft {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

@keyframes fadeOutLeft {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

:root .fadeOutLeft {
  -webkit-animation-name: fadeOutLeft;
  animation-name: fadeOutLeft;
}

@-webkit-keyframes fadeOutLeftBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }
}

@keyframes fadeOutLeftBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(-2000px, 0, 0);
    transform: translate3d(-2000px, 0, 0);
  }
}

:root .fadeOutLeftBig {
  -webkit-animation-name: fadeOutLeftBig;
  animation-name: fadeOutLeftBig;
}

@-webkit-keyframes fadeOutRight {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

@keyframes fadeOutRight {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

:root .fadeOutRight {
  -webkit-animation-name: fadeOutRight;
  animation-name: fadeOutRight;
}

@-webkit-keyframes fadeOutRightBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }
}

@keyframes fadeOutRightBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(2000px, 0, 0);
    transform: translate3d(2000px, 0, 0);
  }
}

:root .fadeOutRightBig {
  -webkit-animation-name: fadeOutRightBig;
  animation-name: fadeOutRightBig;
}

@-webkit-keyframes fadeOutUp {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }
}

@keyframes fadeOutUp {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }
}

:root .fadeOutUp {
  -webkit-animation-name: fadeOutUp;
  animation-name: fadeOutUp;
}

@-webkit-keyframes fadeOutUpBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }
}

@keyframes fadeOutUpBig {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(0, -2000px, 0);
    transform: translate3d(0, -2000px, 0);
  }
}

:root .fadeOutUpBig {
  -webkit-animation-name: fadeOutUpBig;
  animation-name: fadeOutUpBig;
}

@-webkit-keyframes flip {
  from {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -360deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -360deg);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  40% {
    -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
    transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  50% {
    -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
    transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  80% {
    -webkit-transform: perspective(400px) scale3d(0.95, 0.95, 0.95);
    transform: perspective(400px) scale3d(0.95, 0.95, 0.95);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }
}

@keyframes flip {
  from {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -360deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -360deg);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  40% {
    -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
    transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);
    -webkit-animation-timing-function: ease-out;
    animation-timing-function: ease-out;
  }

  50% {
    -webkit-transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
    transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  80% {
    -webkit-transform: perspective(400px) scale3d(0.95, 0.95, 0.95);
    transform: perspective(400px) scale3d(0.95, 0.95, 0.95);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }
}

:root .animated.flip {
  -webkit-backface-visibility: visible;
  backface-visibility: visible;
  -webkit-animation-name: flip;
  animation-name: flip;
}

@-webkit-keyframes flipInX {
  from {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  60% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }
}

@keyframes flipInX {
  from {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  60% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }
}

:root .flipInX {
  -webkit-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipInX;
  animation-name: flipInX;
}

@-webkit-keyframes flipInY {
  from {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  60% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }
}

@keyframes flipInY {
  from {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);
    -webkit-animation-timing-function: ease-in;
    animation-timing-function: ease-in;
  }

  60% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -5deg);
  }

  to {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }
}

:root .flipInY {
  -webkit-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipInY;
  animation-name: flipInY;
}

@-webkit-keyframes flipOutX {
  from {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }

  30% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    opacity: 1;
  }

  to {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    opacity: 0;
  }
}

@keyframes flipOutX {
  from {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }

  30% {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    opacity: 1;
  }

  to {
    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    opacity: 0;
  }
}

:root .flipOutX {
  -webkit-animation-name: flipOutX;
  animation-name: flipOutX;
  -webkit-backface-visibility: visible !important;
  backface-visibility: visible !important;
}

@-webkit-keyframes flipOutY {
  from {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }

  30% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
    opacity: 1;
  }

  to {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    opacity: 0;
  }
}

@keyframes flipOutY {
  from {
    -webkit-transform: perspective(400px);
    transform: perspective(400px);
  }

  30% {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
    transform: perspective(400px) rotate3d(0, 1, 0, -15deg);
    opacity: 1;
  }

  to {
    -webkit-transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);
    opacity: 0;
  }
}

:root .flipOutY {
  -webkit-backface-visibility: visible !important;
  backface-visibility: visible !important;
  -webkit-animation-name: flipOutY;
  animation-name: flipOutY;
}

@-webkit-keyframes lightSpeedIn {
  from {
    -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);
    transform: translate3d(100%, 0, 0) skewX(-30deg);
    opacity: 0;
  }

  60% {
    -webkit-transform: skewX(20deg);
    transform: skewX(20deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: skewX(-5deg);
    transform: skewX(-5deg);
    opacity: 1;
  }

  to {
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes lightSpeedIn {
  from {
    -webkit-transform: translate3d(100%, 0, 0) skewX(-30deg);
    transform: translate3d(100%, 0, 0) skewX(-30deg);
    opacity: 0;
  }

  60% {
    -webkit-transform: skewX(20deg);
    transform: skewX(20deg);
    opacity: 1;
  }

  80% {
    -webkit-transform: skewX(-5deg);
    transform: skewX(-5deg);
    opacity: 1;
  }

  to {
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .lightSpeedIn {
  -webkit-animation-name: lightSpeedIn;
  animation-name: lightSpeedIn;
  -webkit-animation-timing-function: ease-out;
  animation-timing-function: ease-out;
}

@-webkit-keyframes lightSpeedOut {
  from {
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);
    transform: translate3d(100%, 0, 0) skewX(30deg);
    opacity: 0;
  }
}

@keyframes lightSpeedOut {
  from {
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(100%, 0, 0) skewX(30deg);
    transform: translate3d(100%, 0, 0) skewX(30deg);
    opacity: 0;
  }
}

:root .lightSpeedOut {
  -webkit-animation-name: lightSpeedOut;
  animation-name: lightSpeedOut;
  -webkit-animation-timing-function: ease-in;
  animation-timing-function: ease-in;
}

@-webkit-keyframes rotateIn {
  from {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: rotate3d(0, 0, 1, -200deg);
    transform: rotate3d(0, 0, 1, -200deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes rotateIn {
  from {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: rotate3d(0, 0, 1, -200deg);
    transform: rotate3d(0, 0, 1, -200deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .rotateIn {
  -webkit-animation-name: rotateIn;
  animation-name: rotateIn;
}

@-webkit-keyframes rotateInDownLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes rotateInDownLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .rotateInDownLeft {
  -webkit-animation-name: rotateInDownLeft;
  animation-name: rotateInDownLeft;
}

@-webkit-keyframes rotateInDownRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes rotateInDownRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .rotateInDownRight {
  -webkit-animation-name: rotateInDownRight;
  animation-name: rotateInDownRight;
}

@-webkit-keyframes rotateInUpLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes rotateInUpLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .rotateInUpLeft {
  -webkit-animation-name: rotateInUpLeft;
  animation-name: rotateInUpLeft;
}

@-webkit-keyframes rotateInUpRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, -90deg);
    transform: rotate3d(0, 0, 1, -90deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

@keyframes rotateInUpRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, -90deg);
    transform: rotate3d(0, 0, 1, -90deg);
    opacity: 0;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: none;
    transform: none;
    opacity: 1;
  }
}

:root .rotateInUpRight {
  -webkit-animation-name: rotateInUpRight;
  animation-name: rotateInUpRight;
}

@-webkit-keyframes rotateOut {
  from {
    -webkit-transform-origin: center;
    transform-origin: center;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: rotate3d(0, 0, 1, 200deg);
    transform: rotate3d(0, 0, 1, 200deg);
    opacity: 0;
  }
}

@keyframes rotateOut {
  from {
    -webkit-transform-origin: center;
    transform-origin: center;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: center;
    transform-origin: center;
    -webkit-transform: rotate3d(0, 0, 1, 200deg);
    transform: rotate3d(0, 0, 1, 200deg);
    opacity: 0;
  }
}

:root .rotateOut {
  -webkit-animation-name: rotateOut;
  animation-name: rotateOut;
}

@-webkit-keyframes rotateOutDownLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }
}

@keyframes rotateOutDownLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, 45deg);
    transform: rotate3d(0, 0, 1, 45deg);
    opacity: 0;
  }
}

:root .rotateOutDownLeft {
  -webkit-animation-name: rotateOutDownLeft;
  animation-name: rotateOutDownLeft;
}

@-webkit-keyframes rotateOutDownRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
}

@keyframes rotateOutDownRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
}

:root .rotateOutDownRight {
  -webkit-animation-name: rotateOutDownRight;
  animation-name: rotateOutDownRight;
}

@-webkit-keyframes rotateOutUpLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
}

@keyframes rotateOutUpLeft {
  from {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: left bottom;
    transform-origin: left bottom;
    -webkit-transform: rotate3d(0, 0, 1, -45deg);
    transform: rotate3d(0, 0, 1, -45deg);
    opacity: 0;
  }
}

:root .rotateOutUpLeft {
  -webkit-animation-name: rotateOutUpLeft;
  animation-name: rotateOutUpLeft;
}

@-webkit-keyframes rotateOutUpRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, 90deg);
    transform: rotate3d(0, 0, 1, 90deg);
    opacity: 0;
  }
}

@keyframes rotateOutUpRight {
  from {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    opacity: 1;
  }

  to {
    -webkit-transform-origin: right bottom;
    transform-origin: right bottom;
    -webkit-transform: rotate3d(0, 0, 1, 90deg);
    transform: rotate3d(0, 0, 1, 90deg);
    opacity: 0;
  }
}

:root .rotateOutUpRight {
  -webkit-animation-name: rotateOutUpRight;
  animation-name: rotateOutUpRight;
}

@-webkit-keyframes hinge {
  0% {
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  20%,
  60% {
    -webkit-transform: rotate3d(0, 0, 1, 80deg);
    transform: rotate3d(0, 0, 1, 80deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  40%,
  80% {
    -webkit-transform: rotate3d(0, 0, 1, 60deg);
    transform: rotate3d(0, 0, 1, 60deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 700px, 0);
    transform: translate3d(0, 700px, 0);
    opacity: 0;
  }
}

@keyframes hinge {
  0% {
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  20%,
  60% {
    -webkit-transform: rotate3d(0, 0, 1, 80deg);
    transform: rotate3d(0, 0, 1, 80deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
  }

  40%,
  80% {
    -webkit-transform: rotate3d(0, 0, 1, 60deg);
    transform: rotate3d(0, 0, 1, 60deg);
    -webkit-transform-origin: top left;
    transform-origin: top left;
    -webkit-animation-timing-function: ease-in-out;
    animation-timing-function: ease-in-out;
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 700px, 0);
    transform: translate3d(0, 700px, 0);
    opacity: 0;
  }
}

:root .hinge {
  -webkit-animation-name: hinge;
  animation-name: hinge;
}

@-webkit-keyframes rollIn {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
    transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

@keyframes rollIn {
  from {
    opacity: 0;
    -webkit-transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
    transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);
  }

  to {
    opacity: 1;
    -webkit-transform: none;
    transform: none;
  }
}

:root .rollIn {
  -webkit-animation-name: rollIn;
  animation-name: rollIn;
}

@-webkit-keyframes rollOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
    transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
  }
}

@keyframes rollOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
    transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);
  }
}

:root .rollOut {
  -webkit-animation-name: rollOut;
  animation-name: rollOut;
}

@-webkit-keyframes zoomIn {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  50% {
    opacity: 1;
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  50% {
    opacity: 1;
  }
}

:root .zoomIn {
  -webkit-animation-name: zoomIn;
  animation-name: zoomIn;
}

@-webkit-keyframes zoomInDown {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomInDown {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomInDown {
  -webkit-animation-name: zoomInDown;
  animation-name: zoomInDown;
}

@-webkit-keyframes zoomInLeft {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomInLeft {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomInLeft {
  -webkit-animation-name: zoomInLeft;
  animation-name: zoomInLeft;
}

@-webkit-keyframes zoomInRight {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomInRight {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomInRight {
  -webkit-animation-name: zoomInRight;
  animation-name: zoomInRight;
}

@-webkit-keyframes zoomInUp {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomInUp {
  from {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  60% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomInUp {
  -webkit-animation-name: zoomInUp;
  animation-name: zoomInUp;
}

@-webkit-keyframes zoomOut {
  from {
    opacity: 1;
  }

  50% {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  to {
    opacity: 0;
  }
}

@keyframes zoomOut {
  from {
    opacity: 1;
  }

  50% {
    opacity: 0;
    -webkit-transform: scale3d(0.3, 0.3, 0.3);
    transform: scale3d(0.3, 0.3, 0.3);
  }

  to {
    opacity: 0;
  }
}

:root .zoomOut {
  -webkit-animation-name: zoomOut;
  animation-name: zoomOut;
}

@-webkit-keyframes zoomOutDown {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomOutDown {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomOutDown {
  -webkit-animation-name: zoomOutDown;
  animation-name: zoomOutDown;
}

@-webkit-keyframes zoomOutLeft {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: scale(0.1) translate3d(-2000px, 0, 0);
    transform: scale(0.1) translate3d(-2000px, 0, 0);
    -webkit-transform-origin: left center;
    transform-origin: left center;
  }
}

@keyframes zoomOutLeft {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: scale(0.1) translate3d(-2000px, 0, 0);
    transform: scale(0.1) translate3d(-2000px, 0, 0);
    -webkit-transform-origin: left center;
    transform-origin: left center;
  }
}

:root .zoomOutLeft {
  -webkit-animation-name: zoomOutLeft;
  animation-name: zoomOutLeft;
}

@-webkit-keyframes zoomOutRight {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: scale(0.1) translate3d(2000px, 0, 0);
    transform: scale(0.1) translate3d(2000px, 0, 0);
    -webkit-transform-origin: right center;
    transform-origin: right center;
  }
}

@keyframes zoomOutRight {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);
  }

  to {
    opacity: 0;
    -webkit-transform: scale(0.1) translate3d(2000px, 0, 0);
    transform: scale(0.1) translate3d(2000px, 0, 0);
    -webkit-transform-origin: right center;
    transform-origin: right center;
  }
}

:root .zoomOutRight {
  -webkit-animation-name: zoomOutRight;
  animation-name: zoomOutRight;
}

@-webkit-keyframes zoomOutUp {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

@keyframes zoomOutUp {
  40% {
    opacity: 1;
    -webkit-transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);
    -webkit-animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  to {
    opacity: 0;
    -webkit-transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);
    -webkit-transform-origin: center bottom;
    transform-origin: center bottom;
    -webkit-animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
  }
}

:root .zoomOutUp {
  -webkit-animation-name: zoomOutUp;
  animation-name: zoomOutUp;
}

@-webkit-keyframes slideInDown {
  from {
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInDown {
  from {
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

:root .slideInDown {
  -webkit-animation-name: slideInDown;
  animation-name: slideInDown;
}

@-webkit-keyframes slideInLeft {
  from {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInLeft {
  from {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

:root .slideInLeft {
  -webkit-animation-name: slideInLeft;
  animation-name: slideInLeft;
}

@-webkit-keyframes slideInRight {
  from {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInRight {
  from {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

:root .slideInRight {
  -webkit-animation-name: slideInRight;
  animation-name: slideInRight;
}

@-webkit-keyframes slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    visibility: visible;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

:root .slideInUp {
  -webkit-animation-name: slideInUp;
  animation-name: slideInUp;
}

@-webkit-keyframes slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@keyframes slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

:root .slideOutDown {
  -webkit-animation-name: slideOutDown;
  animation-name: slideOutDown;
}

@-webkit-keyframes slideOutLeft {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

@keyframes slideOutLeft {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
  }
}

:root .slideOutLeft {
  -webkit-animation-name: slideOutLeft;
  animation-name: slideOutLeft;
}

@-webkit-keyframes slideOutRight {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

@keyframes slideOutRight {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
  }
}

:root .slideOutRight {
  -webkit-animation-name: slideOutRight;
  animation-name: slideOutRight;
}

@-webkit-keyframes slideOutUp {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }
}

@keyframes slideOutUp {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, -100%, 0);
    transform: translate3d(0, -100%, 0);
  }
}

:root .slideOutUp {
  -webkit-animation-name: slideOutUp;
  animation-name: slideOutUp;
}

:root .u-bg--primary-color {
  background-color: #3573c5 !important;
}

:root .u-bg--chrome {
  background-color: #e4e4ea !important;
}

:root .u-bg--chrome-color {
  background-color: #e4e4ea !important;
}

:root .u-bg--default-color {
  background-color: #3c3a3a !important;
}

:root .u-bg--positive-color {
  background-color: #5cb85c !important;
}

:root .u-bg--negative-color {
  background-color: #d9534f !important;
}

:root .u-bg--color-alt {
  background-color: #9799a3 !important;
}

:root .u-bg--color-link {
  background-color: #9799a3 !important;
}

:root .u-bg--color-dark {
  background-color: #222222 !important;
}

:root .u-bg--color-light {
  background-color: #eeeeee !important;
}

:root .u-bg--color-white {
  background-color: #feffff !important;
}

:root .u-bg--color-black {
  background-color: #000 !important;
}

:root .u-bg--color-green {
  background-color: #4aaa1d !important;
}

:root .u-bg--color-dark-green {
  background-color: #1e5e17 !important;
}

:root .u-bg--color-red {
  background-color: #da2839 !important;
}

:root .u-bg--color-blue {
  background-color: #0d5fb7 !important;
}

:root .u-bg--color-dark-blue {
  background-color: #07376c !important;
}

:root .u-bg--color-yellow {
  background-color: #fccf53 !important;
}

:root .u-bg--red {
  background-color: #e32533 !important;
}

:root .u-bg--blue {
  background-color: #005cb9 !important;
}

:root .u-bg--green {
  background-color: #46ad00 !important;
}

:root .u-bg--purple {
  background-color: #8669ff !important;
}

:root .u-bg--orange {
  background-color: #ff9821 !important;
}

:root .u-bg--yellow {
  background-color: #ffed45 !important;
}

:root .u-bg--gray {
  background-color: #525156 !important;
}

:root .u-bg--pink {
  background-color: pink !important;
}

:root .u-bg--brown {
  background-color: brown !important;
}

:root .u-bg--black-light {
  background-color: #222 !important;
}

:root .u-bg--red-light {
  background-color: #ff5c5c !important;
}

:root .u-bg--blue-light {
  background-color: #3693f8 !important;
}

:root .u-bg--green-light {
  background-color: #75d835 !important;
}

:root .u-bg--purple-light {
  background-color: #9c97ff !important;
}

:root .u-bg--orange-light {
  background-color: #ffbb66 !important;
}

:root .u-bg--yellow-light {
  background-color: #fff98d !important;
}

:root .u-bg--gray-light {
  background-color: #d3d3d3 !important;
}

:root .u-bg--pink-light {
  background-color: #ffb6c1 !important;
}

:root .u-bg--brown-light {
  background-color: #d2b48c !important;
}

:root .u-bg--red-dark {
  background-color: #b61225 !important;
}

:root .u-bg--blue-dark {
  background-color: #00366e !important;
}

:root .u-bg--green-dark {
  background-color: #1d5f11 !important;
}

:root .u-bg--pink-dark {
  background-color: #b61225 !important;
}

:root .u-bg--purple-dark {
  background-color: #595194 !important;
}

:root .u-bg--orange-dark {
  background-color: #e55c00 !important;
}

:root .u-bg--yellow-dark {
  background-color: #ffcf45 !important;
}

:root .u-bg--brown-dark {
  background-color: #a0522d !important;
}

:root .u-bg--black-dark {
  background-color: #000 !important;
}

:root .u-bg--gray-dark {
  background-color: #a9a9a9 !important;
}

:root .u-bg--black {
  background-color: black !important;
}

:root .u-bg--gray10 {
  background-color: #242326 !important;
}

:root .u-bg--gray9 {
  background-color: #3b3b3f !important;
}

:root .u-bg--gray8 {
  background-color: #525156 !important;
}

:root .u-bg--gray7 {
  background-color: #7c7c84 !important;
}

:root .u-bg--gray6 {
  background-color: #9999a3 !important;
}

:root .u-bg--gray5 {
  background-color: #b1b1bc !important;
}

:root .u-bg--gray4 {
  background-color: #d1d0d8 !important;
}

:root .u-bg--gray3 {
  background-color: #e4e4ea !important;
}

:root .u-bg--gray2 {
  background-color: #efeff4 !important;
}

:root .u-bg--gray1 {
  background-color: #f7f7fc !important;
}

:root .u-bg--white {
  background-color: white !important;
}

:root .u-bg--graybg {
  background-color: #8b8d8f !important;
}

:root .u-bg--primary {
  background-color: #3e87e8 !important;
}

:root .u-bg--primary-hover {
  background-color: #3573c5 !important;
}

:root .u-bg--primary-pressed {
  background-color: #2b5ea2 !important;
}

:root .u-bg--select-default {
  background-color: #0a9ec1 !important;
}

:root .u-bg--select-hover {
  background-color: #0986a4 !important;
}

:root .u-bg--select-pressed {
  background-color: #086e87 !important;
}

:root .u-bg--alert-red {
  background-color: #e53838 !important;
}

:root .u-bg--alert-orange {
  background-color: #dd6b1f !important;
}

:root .u-bg--alert-yellow {
  background-color: #e8a736 !important;
}

:root .u-bg--alert-blue {
  background-color: #4364dd !important;
}

:root .u-bg--dv-gray {
  background-color: #4d4d4d !important;
}

:root .u-bg--dv-blue {
  background-color: #5da5da !important;
}

:root .u-bg--dv-orange {
  background-color: #faa43a !important;
}

:root .u-bg--dv-green {
  background-color: #60bd68 !important;
}

:root .u-bg--dv-pink {
  background-color: #f17cb0 !important;
}

:root .u-bg--dv-brown {
  background-color: #b2912f !important;
}

:root .u-bg--dv-purple {
  background-color: #b276b2 !important;
}

:root .u-bg--dv-yellow {
  background-color: #decf3f !important;
}

:root .u-bg--dv-red {
  background-color: #f15854 !important;
}

:root .u-bg--dv-light-gray {
  background-color: #8c8c8c !important;
}

:root .u-bg--dv-light-blue {
  background-color: #88bde6 !important;
}

:root .u-bg--dv-light-orange {
  background-color: #fbb258 !important;
}

:root .u-bg--dv-light-green {
  background-color: #90cd97 !important;
}

:root .u-bg--dv-light-pink {
  background-color: #f6aac9 !important;
}

:root .u-bg--dv-light-brown {
  background-color: #bfa554 !important;
}

:root .u-bg--dv-light-purple {
  background-color: #bc99c7 !important;
}

:root .u-bg--dv-light-yellow {
  background-color: #eddd46 !important;
}

:root .u-bg--dv-light-red {
  background-color: #f07e6e !important;
}

:root .u-bg--dv-dark-gray {
  background-color: black !important;
}

:root .u-bg--dv-dark-blue {
  background-color: #265dab !important;
}

:root .u-bg--dv-dark-orange {
  background-color: #df5c24 !important;
}

:root .u-bg--dv-dark-green {
  background-color: #059748 !important;
}

:root .u-bg--dv-dark-pink {
  background-color: #e5126f !important;
}

:root .u-bg--dv-dark-brown {
  background-color: #9d722a !important;
}

:root .u-bg--dv-dark-purple {
  background-color: #7b3a96 !important;
}

:root .u-bg--dv-dark-yellow {
  background-color: #c7b42e !important;
}

:root .u-bg--dv-dark-red {
  background-color: #cb2027 !important;
}

:root .u-bg--twitter {
  background-color: #20bcf0 !important;
}

:root .u-bg--facebook {
  background-color: #3b579d !important;
}

:root .u-bg--linkedin {
  background-color: #2088af !important;
}

:root .u-bg--instagram {
  background-color: #444444 !important;
}

:root .u-bg--google {
  background-color: #df4231 !important;
}

:root .u-bg--youtube {
  background-color: #c73a3f !important;
}

:root .u-bg--windows {
  background-color: #3388eb !important;
}

:root .u-bg--pinterest {
  background-color: #c73a3f !important;
}

:root .u-bg--vemo {
  background-color: #acd05f !important;
}

:root .u-bg--xbox {
  background-color: #63aa2a !important;
}

:root .u-bg--github {
  background-color: #222222 !important;
}

:root .u-bg--html5 {
  background-color: #e86442 !important;
}

:root .u-bg--evernote {
  background-color: #1d8c56 !important;
}

:root .u-bg--evernote-dark {
  background-color: #233039 !important;
}

:root .background-colors {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

:root .background-colors li {
  padding: 10px;
  text-align: center;
  font-size: 1rem;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  color: #fefefe;
}

:root .hidden {
  display: none;
  visibility: hidden;
}

:root .visible-phone {
  display: none !important;
}

:root .visible-tablet {
  display: none !important;
}

:root .hidden-desktop {
  display: none !important;
}

:root .visible-desktop {
  display: inherit !important;
}

@media (min-width: 768px) and (max-width: 979px) {
  :root .hidden-desktop {
    display: inherit !important;
  }

  :root .visible-desktop {
    display: none !important;
  }

  :root .visible-tablet {
    display: inherit !important;
  }

  :root .hidden-tablet {
    display: none !important;
  }
}

@media (max-width: 767px) {
  :root .hidden-desktop {
    display: inherit !important;
  }

  :root .visible-desktop {
    display: none !important;
  }

  :root .visible-phone {
    display: inherit !important;
  }

  :root .hidden-phone {
    display: none !important;
  }
}

:root .full-height {
  height: 100%;
}

:root .full-width {
  width: 100%;
}

:root .round {
  border-radius: 20px;
}

:root .center {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

:root .hidden {
  visibility: hidden;
}

:root .visible {
  visibility: visible;
}

:root .position-fixed-top {
  top: 0;
  left: 0;
  right: 0;
  position: fixed;
}

:root .position-fixed-bottom {
  bottom: 0;
  left: 0;
  right: 0;
  position: fixed;
}

:root .position-absolute-bottom {
  bottom: 0;
  left: 0;
  right: 0;
  position: absolute;
}

:root .position-absolute-top {
  top: 0;
  left: 0;
  right: 0;
  position: absolute;
}

:root .float-right {
  float: right;
}

:root .float-left {
  float: left;
}

:root .u-margin-100 {
  margin: 100px;
}

:root .u-margin-95 {
  margin: 95px;
}

:root .u-margin-90 {
  margin: 90px;
}

:root .u-margin-85 {
  margin: 85px;
}

:root .u-margin-80 {
  margin: 80px;
}

:root .u-margin-75 {
  margin: 75px;
}

:root .u-margin-70 {
  margin: 70px;
}

:root .u-margin-65 {
  margin: 65px;
}

:root .u-margin-60 {
  margin: 60px;
}

:root .u-margin-55 {
  margin: 55px;
}

:root .u-margin-50 {
  margin: 50px;
}

:root .u-margin-45 {
  margin: 45px;
}

:root .u-margin-40 {
  margin: 40px;
}

:root .u-margin-35 {
  margin: 35px;
}

:root .u-margin-30 {
  margin: 30px;
}

:root .u-margin-25 {
  margin: 25px;
}

:root .u-margin-20 {
  margin: 20px;
}

:root .u-margin-15 {
  margin: 15px;
}

:root .u-margin-10 {
  margin: 10px;
}

:root .u-margin-5 {
  margin: 5px;
}

:root .u-height-1250 {
  height: 1250px !important;
}

:root .u-height-1225 {
  height: 1225px !important;
}

:root .u-height-1200 {
  height: 1200px !important;
}

:root .u-height-1175 {
  height: 1175px !important;
}

:root .u-height-1150 {
  height: 1150px !important;
}

:root .u-height-1125 {
  height: 1125px !important;
}

:root .u-height-1100 {
  height: 1100px !important;
}

:root .u-height-1075 {
  height: 1075px !important;
}

:root .u-height-1050 {
  height: 1050px !important;
}

:root .u-height-1025 {
  height: 1025px !important;
}

:root .u-height-1000 {
  height: 1000px !important;
}

:root .u-height-975 {
  height: 975px !important;
}

:root .u-height-950 {
  height: 950px !important;
}

:root .u-height-925 {
  height: 925px !important;
}

:root .u-height-900 {
  height: 900px !important;
}

:root .u-height-875 {
  height: 875px !important;
}

:root .u-height-850 {
  height: 850px !important;
}

:root .u-height-825 {
  height: 825px !important;
}

:root .u-height-800 {
  height: 800px !important;
}

:root .u-height-775 {
  height: 775px !important;
}

:root .u-height-750 {
  height: 750px !important;
}

:root .u-height-725 {
  height: 725px !important;
}

:root .u-height-700 {
  height: 700px !important;
}

:root .u-height-675 {
  height: 675px !important;
}

:root .u-height-650 {
  height: 650px !important;
}

:root .u-height-625 {
  height: 625px !important;
}

:root .u-height-600 {
  height: 600px !important;
}

:root .u-height-575 {
  height: 575px !important;
}

:root .u-height-550 {
  height: 550px !important;
}

:root .u-height-525 {
  height: 525px !important;
}

:root .u-height-500 {
  height: 500px !important;
}

:root .u-height-475 {
  height: 475px !important;
}

:root .u-height-450 {
  height: 450px !important;
}

:root .u-height-425 {
  height: 425px !important;
}

:root .u-height-400 {
  height: 400px !important;
}

:root .u-height-375 {
  height: 375px !important;
}

:root .u-height-350 {
  height: 350px !important;
}

:root .u-height-325 {
  height: 325px !important;
}

:root .u-height-300 {
  height: 300px !important;
}

:root .u-height-275 {
  height: 275px !important;
}

:root .u-height-250 {
  height: 250px !important;
}

:root .u-height-225 {
  height: 225px !important;
}

:root .u-height-200 {
  height: 200px !important;
}

:root .u-height-175 {
  height: 175px !important;
}

:root .u-height-150 {
  height: 150px !important;
}

:root .u-height-125 {
  height: 125px !important;
}

:root .u-height-100 {
  height: 100px !important;
}

:root .u-height-75 {
  height: 75px !important;
}

:root .u-height-50 {
  height: 50px !important;
}

:root .u-height-25 {
  height: 25px !important;
}

:root .u-width-1250 {
  height: 1250px !important;
}

:root .u-width-1225 {
  height: 1225px !important;
}

:root .u-width-1200 {
  height: 1200px !important;
}

:root .u-width-1175 {
  height: 1175px !important;
}

:root .u-width-1150 {
  height: 1150px !important;
}

:root .u-width-1125 {
  height: 1125px !important;
}

:root .u-width-1100 {
  height: 1100px !important;
}

:root .u-width-1075 {
  height: 1075px !important;
}

:root .u-width-1050 {
  height: 1050px !important;
}

:root .u-width-1025 {
  height: 1025px !important;
}

:root .u-width-1000 {
  height: 1000px !important;
}

:root .u-width-975 {
  height: 975px !important;
}

:root .u-width-950 {
  height: 950px !important;
}

:root .u-width-925 {
  height: 925px !important;
}

:root .u-width-900 {
  height: 900px !important;
}

:root .u-width-875 {
  height: 875px !important;
}

:root .u-width-850 {
  height: 850px !important;
}

:root .u-width-825 {
  height: 825px !important;
}

:root .u-width-800 {
  height: 800px !important;
}

:root .u-width-775 {
  height: 775px !important;
}

:root .u-width-750 {
  height: 750px !important;
}

:root .u-width-725 {
  height: 725px !important;
}

:root .u-width-700 {
  height: 700px !important;
}

:root .u-width-675 {
  height: 675px !important;
}

:root .u-width-650 {
  height: 650px !important;
}

:root .u-width-625 {
  height: 625px !important;
}

:root .u-width-600 {
  height: 600px !important;
}

:root .u-width-575 {
  height: 575px !important;
}

:root .u-width-550 {
  height: 550px !important;
}

:root .u-width-525 {
  height: 525px !important;
}

:root .u-width-500 {
  height: 500px !important;
}

:root .u-width-475 {
  height: 475px !important;
}

:root .u-width-450 {
  height: 450px !important;
}

:root .u-width-425 {
  height: 425px !important;
}

:root .u-width-400 {
  height: 400px !important;
}

:root .u-width-375 {
  height: 375px !important;
}

:root .u-width-350 {
  height: 350px !important;
}

:root .u-width-325 {
  height: 325px !important;
}

:root .u-width-300 {
  height: 300px !important;
}

:root .u-width-275 {
  height: 275px !important;
}

:root .u-width-250 {
  height: 250px !important;
}

:root .u-width-225 {
  height: 225px !important;
}

:root .u-width-200 {
  height: 200px !important;
}

:root .u-width-175 {
  height: 175px !important;
}

:root .u-width-150 {
  height: 150px !important;
}

:root .u-width-125 {
  height: 125px !important;
}

:root .u-width-100 {
  height: 100px !important;
}

:root .u-width-75 {
  height: 75px !important;
}

:root .u-width-50 {
  height: 50px !important;
}

:root .u-width-25 {
  height: 25px !important;
}

:root .u-padding-100 {
  padding: 100px;
}

:root .u-padding-95 {
  padding: 95px;
}

:root .u-padding-90 {
  padding: 90px;
}

:root .u-padding-85 {
  padding: 85px;
}

:root .u-padding-80 {
  padding: 80px;
}

:root .u-padding-75 {
  padding: 75px;
}

:root .u-padding-70 {
  padding: 70px;
}

:root .u-padding-65 {
  padding: 65px;
}

:root .u-padding-60 {
  padding: 60px;
}

:root .u-padding-55 {
  padding: 55px;
}

:root .u-padding-50 {
  padding: 50px;
}

:root .u-padding-45 {
  padding: 45px;
}

:root .u-padding-40 {
  padding: 40px;
}

:root .u-padding-35 {
  padding: 35px;
}

:root .u-padding-30 {
  padding: 30px;
}

:root .u-padding-25 {
  padding: 25px;
}

:root .u-padding-20 {
  padding: 20px;
}

:root .u-padding-15 {
  padding: 15px;
}

:root .u-padding-10 {
  padding: 10px;
}

:root .u-padding-5 {
  padding: 5px;
}

:root .u-display-none {
  display: none !important;
}

:root .u-display-block {
  display: block !important;
}

:root .u-display-inline-block {
  display: inline-block !important;
}

:root .u-display-inline {
  display: inline !important;
}

:root .u-display-flex {
  display: -webkit-flex !important;
  display: -ms-flexbox !important;
  display: flex !important;
}

:root .u-position-fixed {
  position: fixed !important;
}

:root .u-position-relative {
  position: relative !important;
}

:root .u-position-absolute {
  position: absolute !important;
}

:root .u-position-static {
  position: static !important;
}

:root .u-z-index--1 {
  z-index: -1 !important;
}

:root .u-z-index-1 {
  z-index: 1 !important;
}

:root .u-z-index-2 {
  z-index: 2 !important;
}

:root .u-z-index-3 {
  z-index: 3 !important;
}

:root .u-z-index-4 {
  z-index: 4 !important;
}

:root .u-z-index-5 {
  z-index: 5 !important;
}

:root .u-z-index-6 {
  z-index: 6 !important;
}

:root .u-z-index-7 {
  z-index: 7 !important;
}

:root .u-z-index-8 {
  z-index: 8 !important;
}

:root .u-z-index-9 {
  z-index: 9 !important;
}

:root .u-z-index-10 {
  z-index: 10 !important;
}

:root .u-z-index-9999 {
  z-index: 9999 !important;
}

:root .u-text-uppercase {
  text-transform: uppercase !important;
}

:root .u-text-lowercase {
  text-transform: lowercase !important;
}

:root .u-text-capitalize {
  text-transform: capitalize !important;
}

:root .u-text-left {
  text-align: left !important;
}

:root .u-text-center {
  text-align: center !important;
}

:root .u-text-right {
  text-align: right !important;
}

:root .u-text-justify {
  text-align: justify !important;
}

:root .u-font-italic {
  font-weight: italic !important;
}

:root .u-font-oblique {
  font-weight: oblique !important;
}

:root .u-font-normal {
  font-weight: normal !important;
}

:root .u-font-bold {
  font-weight: bold !important;
}

:root .u-font-bolder {
  font-weight: bolder !important;
}

:root .u-font-lighter {
  font-weight: lighter !important;
}

:root .u-overflow-none {
  overflow: none !important;
}

:root .u-overflow-auto {
  overflow: auto !important;
}

:root .u-overflow-scroll {
  overflow: scroll !important;
}

:root .u-overflow-scroll-x {
  overflow: scroll-x !important;
}

:root .u-overflow-scroll-y {
  overflow: scroll-y !important;
}

:root .u-overflow-inherit {
  overflow: inherit !important;
}

:root .u-overflow-hidden {
  overflow: hidden !important;
}

:root .u-overflow-visible {
  overflow: visible !important;
}

:root .u-transition-background {
  transition-property: background !important;
}

:root .u-transition-color {
  transition-property: color !important;
}

:root .u-transition-opacity {
  transition-property: opacity !important;
}

:root .u-transition-transform {
  transition-property: -webkit-transform !important;
  transition-property: transform !important;
  transition-property: transform, -webkit-transform !important;
}

:root .u-transition-all {
  transition-property: all !important;
}

:root .u-cursor-pointer {
  cursor: pointer !important;
}

:root .u-cursor-default {
  cursor: default !important;
}

:root .u-cursor-auto {
  cursor: auto !important;
}

:root .u-cursor-none {
  cursor: none !important;
}

:root .u-cursor-not-allowed {
  cursor: not-allowed !important;
}

:root .u-cursor-help {
  cursor: help !important;
}

:root .u-cursor-progress {
  cursor: progress !important;
}

:root .u-cursor-cell {
  cursor: cell !important;
}

:root .u-cursor-wait {
  cursor: wait !important;
}

:root .u-cursor-text {
  cursor: text !important;
}

:root .u-cursor-copy {
  cursor: copy !important;
}

:root .u-cursor-move {
  cursor: move !important;
}

:root .u-cursor-no-drop {
  cursor: no-drop !important;
}

:root .u-cursor-col-resize {
  cursor: col-resize !important;
}

:root .u-cursor-context-menu {
  cursor: context-menu !important;
}

:root .u-cursor-row-resize {
  cursor: row-resize !important;
}

:root .u-cursor-n-resize {
  cursor: n-resize !important;
}

:root .u-cursor-e-resize {
  cursor: e-resize !important;
}

:root .u-cursor-s-resize {
  cursor: s-resize !important;
}

:root .u-cursor-w-resize {
  cursor: w-resize !important;
}

:root .u-cursor-grab {
  cursor: -webkit-grab !important;
  cursor: grab !important;
}

:root .u-cursor-grabbing {
  cursor: -webkit-grabbing !important;
  cursor: grabbing !important;
}

:root .u-cursor-zoom-in {
  cursor: zoom-in !important;
}

:root .u-cursor-zoom-out {
  cursor: zoom-out !important;
}

:root .clearfix:before,
:root .clearfix:after,
:root .u-clearfix:before,
:root .u-clearfix:after {
  display: table;
  content: " ";
}

:root .clearfix:after,
:root .u-clearfix:after {
  clear: both;
}

:root .scroll-x,
:root .scroll-y {
  -webkit-overflow-scrolling: touch;
}

:root .scroll-x {
  overflow-x: auto;
}

:root .scroll-y {
  overflow-y: auto;
}

:root .full-width,
:root .fluid,
:root .full {
  width: 100%;
}

:root .float.right,
:root .float .fr {
  float: right !important;
}

:root .float.left,
:root .float .fl {
  float: left !important;
}

:root img.full-width {
  width: 100%;
  max-width: 100%;
}

:root img.responsive {
  height: auto;
  width: 100%;
  max-width: 100%;
}

:root img.round {
  border-radius: 50%;
}

:root .no-margin {
  margin: 0 !important;
}

:root .no-margin-top {
  margin-top: 0;
}

:root .no-margin-bottom {
  margin-bottom: 0;
}

:root .no-margin-left {
  margin-left: 0;
}

:root .no-margin-right {
  margin-right: 0;
}

:root .no-border {
  border: 0 !important;
}

:root .no-padding {
  padding: 0 !important;
}

:root .no-padding-top {
  padding-top: 0;
}

:root .no-padding-bottom {
  padding-bottom: 0;
}

:root .no-padding-right {
  padding-right: 0;
}

:root .no-padding-left {
  padding-left: 0;
}

:root .text-decoration-underline,
:root .t-d-u {
  text-decoration: underline;
}

:root .text-decoration-strike,
:root .t-d-s {
  text-decoration: line-through;
}

:root .text-decoration-none,
:root .no-text-decoration,
:root .no-t-d {
  text-decoration: none;
}

:root .color-primary,
:root a.color-primary {
  color: #0f5fb6 !important;
}

:root .color-alt,
:root a.color-alt {
  color: #9799a3 !important;
}

:root .color-dark,
:root a.color-dark {
  color: #323232 !important;
}

:root .color-light,
:root a.color-light {
  color: #eeeeee !important;
}

:root .color-green,
:root a.color-green {
  color: #4aaa1d !important;
}

:root .color-red,
:root a.color-red {
  color: #da2839 !important;
}

:root .color-blue,
:root a.color-blue {
  color: #0d5fb7;
}

:root .color-yellow,
:root a.color-yellow {
  color: #fccf53;
}

:root .color-white,
:root a.color-white {
  color: #feffff !important;
}

:root .hover-btn-outline:hover {
  background: transparent;
  border: 1px solid;
}

:root .hover-btn-outline-reverse:hover {
  background: auto;
  border: 1px solid transparent;
}

:root .hover-opacity-0:hover {
  opacity: 0;
}

:root .hover-opacity-25:hover {
  opacity: 0.25;
}

:root .hover-opacity-50:hover {
  opacity: 0.5;
}

:root .hover-opacity-75:hover {
  opacity: 0.75;
}

:root .hover-opacity-100:hover {
  opacity: 1;
}

:root .hover-scale-0:hover {
  -webkit-transform: scale(0);
  transform: scale(0);
}

:root .hover-scale-25:hover {
  -webkit-transform: scale(0.25);
  transform: scale(0.25);
}

:root .hover-scale-50:hover {
  -webkit-transform: scale(0.5);
  transform: scale(0.5);
}

:root .hover-scale-100:hover {
  -webkit-transform: scale(1);
  transform: scale(1);
}

:root .hover-scale-105:hover {
  -webkit-transform: scale(1.05);
  transform: scale(1.05);
}

:root .hover-scale-125:hover {
  -webkit-transform: scale(1.25);
  transform: scale(1.25);
}

:root .sr-only {
  height: 1px;
  width: 1px;
  position: absolute;
  overflow: hidden;
  margin: -1px;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

:root [aria-hidden="true"] {
  display: none;
}

:root .switch {
  position: relative;
  display: inline-block;
  vertical-align: top;
  box-sizing: border-box;
  background-clip: padding-box;
  position: relative;
  overflow: hidden;
  font-size: 17px;
  padding: 0 20px;
  border: none;
  overflow: visible;
  width: 51px;
  height: 32px;
  z-index: 0;
  text-align: left;
}

:root .switch input {
  position: absolute;
  overflow: hidden;
  right: 0;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 0;
  border: 0;
  opacity: 0.001;
  z-index: 1;
  vertical-align: top;
  outline: none;
  width: 100%;
  height: 100%;
  margin: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 51px;
  height: 44px;
  margin-top: -6px;
  top: 0;
  left: 0;
  transition: all 0.2s linear;
}

:root .switch__toggle {
  background-color: #ddd;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 30px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: ease-out;
}

:root .switch__toggle:before {
  box-sizing: border-box;
  background-clip: padding-box;
  position: absolute;
  content: '';
  border-radius: 28px;
  height: 28px;
  width: 28px;
  background-color: #fff;
  left: 2px;
  top: 2px;
  transition-property: all;
  transition-duration: 0.35s;
  transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1);
}

:root .switch input:checked + .toggle {
  background-color: #4cd964;
}

:root .switch input:checked + .toggle:before {
  -webkit-transform: translateX(18px);
  transform: translateX(18px);
}

:root .switch input:not(:checked) + .toggle:before {
  -webkit-transform: translateX(0px);
  transform: translateX(0px);
}

:root .switch input:disabled + .toggle {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

:root .switch.table-row {
  float: right;
  margin-top: 6px;
  margin-right: 10px;
}

:root .range {
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  box-sizing: border-box;
  background-clip: padding-box;
  vertical-align: top;
  outline: none;
  line-height: 1;
  border-radius: 4px;
  border: none;
  height: 2px;
  border-radius: 0;
  border-radius: 3px;
  background-image: linear-gradient(#b1b1bc, #b1b1bc);
  background-position: left center;
  background-size: 100% 2px;
  background-repeat: no-repeat;
  overflow: hidden;
  height: 31px;
}

:root .range::-moz-range-track {
  position: relative;
  border: none;
  background-color: #b1b1bc;
  height: 2px;
  border-radius: 30px;
  box-shadow: none;
  top: 0;
  margin: 0;
  padding: 0;
}

:root .range::-webkit-slider-thumb {
  cursor: pointer;
  position: relative;
  height: 29px;
  width: 29px;
  background-color: #fff;
  border: 1px solid #b1b1bc;
  border-radius: 30px;
  box-shadow: none;
  top: 0;
  margin: 0;
  padding: 0;
}

:root .range::-moz-range-thumb {
  cursor: pointer;
  position: relative;
  height: 29px;
  width: 29px;
  background-color: #fff;
  border: 1px solid #b1b1bc;
  border-radius: 30px;
  box-shadow: none;
  margin: 0;
  padding: 0;
}

:root .range::-webkit-slider-thumb:before {
  position: absolute;
  top: 13px;
  right: 0;
  left: -1024px;
  width: 1024px;
  height: 2px;
  background-color: #0a9ec1;
  content: '';
  margin: 0;
  padding: 0;
}

:root .range:disabled {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
}

</style>

</head><body><div hidden="" by-vulcanize=""><script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>
<script type="text/javascript">
/** @polymerBehavior */
var BaseElement = {
	properties: {
		var: {
			type: Object
		}
	},
	logger: {
		logApi: function (type, o) {
			console.log('API', type, o);
		}
	},
	emit: function (event, data) {
		return pxMobile.PubSub.emit(this.localName + ':' + event, data);
	},
	on: function (event, cb) {
		return pxMobile.PubSub.on(event, cb);
	}
};

</script>
<script>(function () {
function resolve() {
document.body.removeAttribute('unresolved');
}
if (window.WebComponents) {
addEventListener('WebComponentsReady', resolve);
} else {
if (document.readyState === 'interactive' || document.readyState === 'complete') {
resolve();
} else {
addEventListener('DOMContentLoaded', resolve);
}
}
}());
window.Polymer = {
Settings: function () {
var user = window.Polymer || {};
var parts = location.search.slice(1).split('&');
for (var i = 0, o; i < parts.length && (o = parts[i]); i++) {
o = o.split('=');
o[0] && (user[o[0]] = o[1] || true);
}
var wantShadow = user.dom === 'shadow';
var hasShadow = Boolean(Element.prototype.createShadowRoot);
var nativeShadow = hasShadow && !window.ShadowDOMPolyfill;
var useShadow = wantShadow && hasShadow;
var hasNativeImports = Boolean('import' in document.createElement('link'));
var useNativeImports = hasNativeImports;
var useNativeCustomElements = !window.CustomElements || window.CustomElements.useNative;
return {
wantShadow: wantShadow,
hasShadow: hasShadow,
nativeShadow: nativeShadow,
useShadow: useShadow,
useNativeShadow: useShadow && nativeShadow,
useNativeImports: useNativeImports,
useNativeCustomElements: useNativeCustomElements
};
}()
};
(function () {
var userPolymer = window.Polymer;
window.Polymer = function (prototype) {
if (typeof prototype === 'function') {
prototype = prototype.prototype;
}
if (!prototype) {
prototype = {};
}
var factory = desugar(prototype);
prototype = factory.prototype;
var options = { prototype: prototype };
if (prototype.extends) {
options.extends = prototype.extends;
}
Polymer.telemetry._registrate(prototype);
document.registerElement(prototype.is, options);
return factory;
};
var desugar = function (prototype) {
var base = Polymer.Base;
if (prototype.extends) {
base = Polymer.Base._getExtendedPrototype(prototype.extends);
}
prototype = Polymer.Base.chainObject(prototype, base);
prototype.registerCallback();
return prototype.constructor;
};
window.Polymer = Polymer;
if (userPolymer) {
for (var i in userPolymer) {
Polymer[i] = userPolymer[i];
}
}
Polymer.Class = desugar;
}());
Polymer.telemetry = {
registrations: [],
_regLog: function (prototype) {
console.log('[' + prototype.is + ']: registered');
},
_registrate: function (prototype) {
this.registrations.push(prototype);
Polymer.log && this._regLog(prototype);
},
dumpRegistrations: function () {
this.registrations.forEach(this._regLog);
}
};
Object.defineProperty(window, 'currentImport', {
enumerable: true,
configurable: true,
get: function () {
return (document._currentScript || document.currentScript).ownerDocument;
}
});
Polymer.RenderStatus = {
_ready: false,
_callbacks: [],
whenReady: function (cb) {
if (this._ready) {
cb();
} else {
this._callbacks.push(cb);
}
},
_makeReady: function () {
this._ready = true;
for (var i = 0; i < this._callbacks.length; i++) {
this._callbacks[i]();
}
this._callbacks = [];
},
_catchFirstRender: function () {
requestAnimationFrame(function () {
Polymer.RenderStatus._makeReady();
});
},
_afterNextRenderQueue: [],
_waitingNextRender: false,
afterNextRender: function (element, fn, args) {
this._watchNextRender();
this._afterNextRenderQueue.push([
element,
fn,
args
]);
},
_watchNextRender: function () {
if (!this._waitingNextRender) {
this._waitingNextRender = true;
var fn = function () {
Polymer.RenderStatus._flushNextRender();
};
if (!this._ready) {
this.whenReady(fn);
} else {
requestAnimationFrame(fn);
}
}
},
_flushNextRender: function () {
var self = this;
setTimeout(function () {
self._flushRenderCallbacks(self._afterNextRenderQueue);
self._afterNextRenderQueue = [];
self._waitingNextRender = false;
});
},
_flushRenderCallbacks: function (callbacks) {
for (var i = 0, h; i < callbacks.length; i++) {
h = callbacks[i];
h[1].apply(h[0], h[2] || Polymer.nar);
}
;
}
};
if (window.HTMLImports) {
HTMLImports.whenReady(function () {
Polymer.RenderStatus._catchFirstRender();
});
} else {
Polymer.RenderStatus._catchFirstRender();
}
Polymer.ImportStatus = Polymer.RenderStatus;
Polymer.ImportStatus.whenLoaded = Polymer.ImportStatus.whenReady;
Polymer.Base = {
__isPolymerInstance__: true,
_addFeature: function (feature) {
this.extend(this, feature);
},
registerCallback: function () {
this._desugarBehaviors();
this._doBehavior('beforeRegister');
this._registerFeatures();
this._doBehavior('registered');
},
createdCallback: function () {
Polymer.telemetry.instanceCount++;
this.root = this;
this._doBehavior('created');
this._initFeatures();
},
attachedCallback: function () {
var self = this;
Polymer.RenderStatus.whenReady(function () {
self.isAttached = true;
self._doBehavior('attached');
});
},
detachedCallback: function () {
this.isAttached = false;
this._doBehavior('detached');
},
attributeChangedCallback: function (name, oldValue, newValue) {
this._attributeChangedImpl(name);
this._doBehavior('attributeChanged', [
name,
oldValue,
newValue
]);
},
_attributeChangedImpl: function (name) {
this._setAttributeToProperty(this, name);
},
extend: function (prototype, api) {
if (prototype && api) {
var n$ = Object.getOwnPropertyNames(api);
for (var i = 0, n; i < n$.length && (n = n$[i]); i++) {
this.copyOwnProperty(n, api, prototype);
}
}
return prototype || api;
},
mixin: function (target, source) {
for (var i in source) {
target[i] = source[i];
}
return target;
},
copyOwnProperty: function (name, source, target) {
var pd = Object.getOwnPropertyDescriptor(source, name);
if (pd) {
Object.defineProperty(target, name, pd);
}
},
_log: console.log.apply.bind(console.log, console),
_warn: console.warn.apply.bind(console.warn, console),
_error: console.error.apply.bind(console.error, console),
_logf: function () {
return this._logPrefix.concat([this.is]).concat(Array.prototype.slice.call(arguments, 0));
}
};
Polymer.Base._logPrefix = function () {
var color = window.chrome || /firefox/i.test(navigator.userAgent);
return color ? [
'%c[%s::%s]:',
'font-weight: bold; background-color:#EEEE00;'
] : ['[%s::%s]:'];
}();
Polymer.Base.chainObject = function (object, inherited) {
if (object && inherited && object !== inherited) {
if (!Object.__proto__) {
object = Polymer.Base.extend(Object.create(inherited), object);
}
object.__proto__ = inherited;
}
return object;
};
Polymer.Base = Polymer.Base.chainObject(Polymer.Base, HTMLElement.prototype);
if (window.CustomElements) {
Polymer.instanceof = CustomElements.instanceof;
} else {
Polymer.instanceof = function (obj, ctor) {
return obj instanceof ctor;
};
}
Polymer.isInstance = function (obj) {
return Boolean(obj && obj.__isPolymerInstance__);
};
Polymer.telemetry.instanceCount = 0;
(function () {
var modules = {};
var lcModules = {};
var findModule = function (id) {
return modules[id] || lcModules[id.toLowerCase()];
};
var DomModule = function () {
return document.createElement('dom-module');
};
DomModule.prototype = Object.create(HTMLElement.prototype);
Polymer.Base.extend(DomModule.prototype, {
constructor: DomModule,
createdCallback: function () {
this.register();
},
register: function (id) {
var id = id || this.id || this.getAttribute('name') || this.getAttribute('is');
if (id) {
this.id = id;
modules[id] = this;
lcModules[id.toLowerCase()] = this;
}
},
import: function (id, selector) {
if (id) {
var m = findModule(id);
if (!m) {
forceDomModulesUpgrade();
m = findModule(id);
}
if (m && selector) {
m = m.querySelector(selector);
}
return m;
}
}
});
var cePolyfill = window.CustomElements && !CustomElements.useNative;
document.registerElement('dom-module', DomModule);
function forceDomModulesUpgrade() {
if (cePolyfill) {
var script = document._currentScript || document.currentScript;
var doc = script && script.ownerDocument || document;
var modules = doc.querySelectorAll('dom-module');
for (var i = modules.length - 1, m; i >= 0 && (m = modules[i]); i--) {
if (m.__upgraded__) {
return;
} else {
CustomElements.upgrade(m);
}
}
}
}
}());
Polymer.Base._addFeature({
_prepIs: function () {
if (!this.is) {
var module = (document._currentScript || document.currentScript).parentNode;
if (module.localName === 'dom-module') {
var id = module.id || module.getAttribute('name') || module.getAttribute('is');
this.is = id;
}
}
if (this.is) {
this.is = this.is.toLowerCase();
}
}
});
Polymer.Base._addFeature({
behaviors: [],
_desugarBehaviors: function () {
if (this.behaviors.length) {
this.behaviors = this._desugarSomeBehaviors(this.behaviors);
}
},
_desugarSomeBehaviors: function (behaviors) {
behaviors = this._flattenBehaviorsList(behaviors);
for (var i = behaviors.length - 1; i >= 0; i--) {
this._mixinBehavior(behaviors[i]);
}
return behaviors;
},
_flattenBehaviorsList: function (behaviors) {
var flat = [];
for (var i = 0; i < behaviors.length; i++) {
var b = behaviors[i];
if (b instanceof Array) {
flat = flat.concat(this._flattenBehaviorsList(b));
} else if (b) {
flat.push(b);
} else {
this._warn(this._logf('_flattenBehaviorsList', 'behavior is null, check for missing or 404 import'));
}
}
return flat;
},
_mixinBehavior: function (b) {
var n$ = Object.getOwnPropertyNames(b);
for (var i = 0, n; i < n$.length && (n = n$[i]); i++) {
if (!Polymer.Base._behaviorProperties[n] && !this.hasOwnProperty(n)) {
this.copyOwnProperty(n, b, this);
}
}
},
_prepBehaviors: function () {
this._prepFlattenedBehaviors(this.behaviors);
},
_prepFlattenedBehaviors: function (behaviors) {
for (var i = 0, l = behaviors.length; i < l; i++) {
this._prepBehavior(behaviors[i]);
}
this._prepBehavior(this);
},
_doBehavior: function (name, args) {
for (var i = 0; i < this.behaviors.length; i++) {
this._invokeBehavior(this.behaviors[i], name, args);
}
this._invokeBehavior(this, name, args);
},
_invokeBehavior: function (b, name, args) {
var fn = b[name];
if (fn) {
fn.apply(this, args || Polymer.nar);
}
},
_marshalBehaviors: function () {
for (var i = 0; i < this.behaviors.length; i++) {
this._marshalBehavior(this.behaviors[i]);
}
this._marshalBehavior(this);
}
});
Polymer.Base._behaviorProperties = {
hostAttributes: true,
beforeRegister: true,
registered: true,
properties: true,
observers: true,
listeners: true,
created: true,
attached: true,
detached: true,
attributeChanged: true,
ready: true
};
Polymer.Base._addFeature({
_getExtendedPrototype: function (tag) {
return this._getExtendedNativePrototype(tag);
},
_nativePrototypes: {},
_getExtendedNativePrototype: function (tag) {
var p = this._nativePrototypes[tag];
if (!p) {
var np = this.getNativePrototype(tag);
p = this.extend(Object.create(np), Polymer.Base);
this._nativePrototypes[tag] = p;
}
return p;
},
getNativePrototype: function (tag) {
return Object.getPrototypeOf(document.createElement(tag));
}
});
Polymer.Base._addFeature({
_prepConstructor: function () {
this._factoryArgs = this.extends ? [
this.extends,
this.is
] : [this.is];
var ctor = function () {
return this._factory(arguments);
};
if (this.hasOwnProperty('extends')) {
ctor.extends = this.extends;
}
Object.defineProperty(this, 'constructor', {
value: ctor,
writable: true,
configurable: true
});
ctor.prototype = this;
},
_factory: function (args) {
var elt = document.createElement.apply(document, this._factoryArgs);
if (this.factoryImpl) {
this.factoryImpl.apply(elt, args);
}
return elt;
}
});
Polymer.nob = Object.create(null);
Polymer.Base._addFeature({
properties: {},
getPropertyInfo: function (property) {
var info = this._getPropertyInfo(property, this.properties);
if (!info) {
for (var i = 0; i < this.behaviors.length; i++) {
info = this._getPropertyInfo(property, this.behaviors[i].properties);
if (info) {
return info;
}
}
;
}
return info || Polymer.nob;
},
_getPropertyInfo: function (property, properties) {
var p = properties && properties[property];
if (typeof p === 'function') {
p = properties[property] = { type: p };
}
if (p) {
p.defined = true;
}
return p;
},
_prepPropertyInfo: function () {
this._propertyInfo = {};
for (var i = 0, p; i < this.behaviors.length; i++) {
this._addPropertyInfo(this._propertyInfo, this.behaviors[i].properties);
}
this._addPropertyInfo(this._propertyInfo, this.properties);
this._addPropertyInfo(this._propertyInfo, this._propertyEffects);
},
_addPropertyInfo: function (target, source) {
if (source) {
var t, s;
for (var i in source) {
t = target[i];
s = source[i];
if (i[0] === '_' && !s.readOnly) {
continue;
}
if (!target[i]) {
target[i] = {
type: typeof s === 'function' ? s : s.type,
readOnly: s.readOnly,
attribute: Polymer.CaseMap.camelToDashCase(i)
};
} else {
if (!t.type) {
t.type = s.type;
}
if (!t.readOnly) {
t.readOnly = s.readOnly;
}
}
}
}
}
});
Polymer.CaseMap = {
_caseMap: {},
dashToCamelCase: function (dash) {
var mapped = Polymer.CaseMap._caseMap[dash];
if (mapped) {
return mapped;
}
if (dash.indexOf('-') < 0) {
return Polymer.CaseMap._caseMap[dash] = dash;
}
return Polymer.CaseMap._caseMap[dash] = dash.replace(/-([a-z])/g, function (m) {
return m[1].toUpperCase();
});
},
camelToDashCase: function (camel) {
var mapped = Polymer.CaseMap._caseMap[camel];
if (mapped) {
return mapped;
}
return Polymer.CaseMap._caseMap[camel] = camel.replace(/([a-z][A-Z])/g, function (g) {
return g[0] + '-' + g[1].toLowerCase();
});
}
};
Polymer.Base._addFeature({
_addHostAttributes: function (attributes) {
if (!this._aggregatedAttributes) {
this._aggregatedAttributes = {};
}
if (attributes) {
this.mixin(this._aggregatedAttributes, attributes);
}
},
_marshalHostAttributes: function () {
if (this._aggregatedAttributes) {
this._applyAttributes(this, this._aggregatedAttributes);
}
},
_applyAttributes: function (node, attr$) {
for (var n in attr$) {
if (!this.hasAttribute(n) && n !== 'class') {
var v = attr$[n];
this.serializeValueToAttribute(v, n, this);
}
}
},
_marshalAttributes: function () {
this._takeAttributesToModel(this);
},
_takeAttributesToModel: function (model) {
if (this.hasAttributes()) {
for (var i in this._propertyInfo) {
var info = this._propertyInfo[i];
if (this.hasAttribute(info.attribute)) {
this._setAttributeToProperty(model, info.attribute, i, info);
}
}
}
},
_setAttributeToProperty: function (model, attribute, property, info) {
if (!this._serializing) {
var property = property || Polymer.CaseMap.dashToCamelCase(attribute);
info = info || this._propertyInfo && this._propertyInfo[property];
if (info && !info.readOnly) {
var v = this.getAttribute(attribute);
model[property] = this.deserialize(v, info.type);
}
}
},
_serializing: false,
reflectPropertyToAttribute: function (property, attribute, value) {
this._serializing = true;
value = value === undefined ? this[property] : value;
this.serializeValueToAttribute(value, attribute || Polymer.CaseMap.camelToDashCase(property));
this._serializing = false;
},
serializeValueToAttribute: function (value, attribute, node) {
var str = this.serialize(value);
node = node || this;
if (str === undefined) {
node.removeAttribute(attribute);
} else {
node.setAttribute(attribute, str);
}
},
deserialize: function (value, type) {
switch (type) {
case Number:
value = Number(value);
break;
case Boolean:
value = value !== null;
break;
case Object:
try {
value = JSON.parse(value);
} catch (x) {
}
break;
case Array:
try {
value = JSON.parse(value);
} catch (x) {
value = null;
console.warn('Polymer::Attributes: couldn`t decode Array as JSON');
}
break;
case Date:
value = new Date(value);
break;
case String:
default:
break;
}
return value;
},
serialize: function (value) {
switch (typeof value) {
case 'boolean':
return value ? '' : undefined;
case 'object':
if (value instanceof Date) {
return value;
} else if (value) {
try {
return JSON.stringify(value);
} catch (x) {
return '';
}
}
default:
return value != null ? value : undefined;
}
}
});
Polymer.version = '1.2.4';
Polymer.Base._addFeature({
_registerFeatures: function () {
this._prepIs();
this._prepBehaviors();
this._prepConstructor();
this._prepPropertyInfo();
},
_prepBehavior: function (b) {
this._addHostAttributes(b.hostAttributes);
},
_marshalBehavior: function (b) {
},
_initFeatures: function () {
this._marshalHostAttributes();
this._marshalBehaviors();
}
});</script><script>Polymer.Base._addFeature({
_prepTemplate: function () {
if (this._template === undefined) {
this._template = Polymer.DomModule.import(this.is, 'template');
}
if (this._template && this._template.hasAttribute('is')) {
this._warn(this._logf('_prepTemplate', 'top-level Polymer template ' + 'must not be a type-extension, found', this._template, 'Move inside simple <template>.'));
}
if (this._template && !this._template.content && window.HTMLTemplateElement && HTMLTemplateElement.decorate) {
HTMLTemplateElement.decorate(this._template);
}
},
_stampTemplate: function () {
if (this._template) {
this.root = this.instanceTemplate(this._template);
}
},
instanceTemplate: function (template) {
var dom = document.importNode(template._content || template.content, true);
return dom;
}
});
(function () {
var baseAttachedCallback = Polymer.Base.attachedCallback;
Polymer.Base._addFeature({
_hostStack: [],
ready: function () {
},
_registerHost: function (host) {
this.dataHost = host = host || Polymer.Base._hostStack[Polymer.Base._hostStack.length - 1];
if (host && host._clients) {
host._clients.push(this);
}
this._clients = null;
this._clientsReadied = false;
},
_beginHosting: function () {
Polymer.Base._hostStack.push(this);
if (!this._clients) {
this._clients = [];
}
},
_endHosting: function () {
Polymer.Base._hostStack.pop();
},
_tryReady: function () {
this._readied = false;
if (this._canReady()) {
this._ready();
}
},
_canReady: function () {
return !this.dataHost || this.dataHost._clientsReadied;
},
_ready: function () {
this._beforeClientsReady();
if (this._template) {
this._setupRoot();
this._readyClients();
}
this._clientsReadied = true;
this._clients = null;
this._afterClientsReady();
this._readySelf();
},
_readyClients: function () {
this._beginDistribute();
var c$ = this._clients;
if (c$) {
for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) {
c._ready();
}
}
this._finishDistribute();
},
_readySelf: function () {
this._doBehavior('ready');
this._readied = true;
if (this._attachedPending) {
this._attachedPending = false;
this.attachedCallback();
}
},
_beforeClientsReady: function () {
},
_afterClientsReady: function () {
},
_beforeAttached: function () {
},
attachedCallback: function () {
if (this._readied) {
this._beforeAttached();
baseAttachedCallback.call(this);
} else {
this._attachedPending = true;
}
}
});
}());
Polymer.ArraySplice = function () {
function newSplice(index, removed, addedCount) {
return {
index: index,
removed: removed,
addedCount: addedCount
};
}
var EDIT_LEAVE = 0;
var EDIT_UPDATE = 1;
var EDIT_ADD = 2;
var EDIT_DELETE = 3;
function ArraySplice() {
}
ArraySplice.prototype = {
calcEditDistances: function (current, currentStart, currentEnd, old, oldStart, oldEnd) {
var rowCount = oldEnd - oldStart + 1;
var columnCount = currentEnd - currentStart + 1;
var distances = new Array(rowCount);
for (var i = 0; i < rowCount; i++) {
distances[i] = new Array(columnCount);
distances[i][0] = i;
}
for (var j = 0; j < columnCount; j++)
distances[0][j] = j;
for (var i = 1; i < rowCount; i++) {
for (var j = 1; j < columnCount; j++) {
if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))
distances[i][j] = distances[i - 1][j - 1];
else {
var north = distances[i - 1][j] + 1;
var west = distances[i][j - 1] + 1;
distances[i][j] = north < west ? north : west;
}
}
}
return distances;
},
spliceOperationsFromEditDistances: function (distances) {
var i = distances.length - 1;
var j = distances[0].length - 1;
var current = distances[i][j];
var edits = [];
while (i > 0 || j > 0) {
if (i == 0) {
edits.push(EDIT_ADD);
j--;
continue;
}
if (j == 0) {
edits.push(EDIT_DELETE);
i--;
continue;
}
var northWest = distances[i - 1][j - 1];
var west = distances[i - 1][j];
var north = distances[i][j - 1];
var min;
if (west < north)
min = west < northWest ? west : northWest;
else
min = north < northWest ? north : northWest;
if (min == northWest) {
if (northWest == current) {
edits.push(EDIT_LEAVE);
} else {
edits.push(EDIT_UPDATE);
current = northWest;
}
i--;
j--;
} else if (min == west) {
edits.push(EDIT_DELETE);
i--;
current = west;
} else {
edits.push(EDIT_ADD);
j--;
current = north;
}
}
edits.reverse();
return edits;
},
calcSplices: function (current, currentStart, currentEnd, old, oldStart, oldEnd) {
var prefixCount = 0;
var suffixCount = 0;
var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);
if (currentStart == 0 && oldStart == 0)
prefixCount = this.sharedPrefix(current, old, minLength);
if (currentEnd == current.length && oldEnd == old.length)
suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);
currentStart += prefixCount;
oldStart += prefixCount;
currentEnd -= suffixCount;
oldEnd -= suffixCount;
if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)
return [];
if (currentStart == currentEnd) {
var splice = newSplice(currentStart, [], 0);
while (oldStart < oldEnd)
splice.removed.push(old[oldStart++]);
return [splice];
} else if (oldStart == oldEnd)
return [newSplice(currentStart, [], currentEnd - currentStart)];
var ops = this.spliceOperationsFromEditDistances(this.calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));
var splice = undefined;
var splices = [];
var index = currentStart;
var oldIndex = oldStart;
for (var i = 0; i < ops.length; i++) {
switch (ops[i]) {
case EDIT_LEAVE:
if (splice) {
splices.push(splice);
splice = undefined;
}
index++;
oldIndex++;
break;
case EDIT_UPDATE:
if (!splice)
splice = newSplice(index, [], 0);
splice.addedCount++;
index++;
splice.removed.push(old[oldIndex]);
oldIndex++;
break;
case EDIT_ADD:
if (!splice)
splice = newSplice(index, [], 0);
splice.addedCount++;
index++;
break;
case EDIT_DELETE:
if (!splice)
splice = newSplice(index, [], 0);
splice.removed.push(old[oldIndex]);
oldIndex++;
break;
}
}
if (splice) {
splices.push(splice);
}
return splices;
},
sharedPrefix: function (current, old, searchLength) {
for (var i = 0; i < searchLength; i++)
if (!this.equals(current[i], old[i]))
return i;
return searchLength;
},
sharedSuffix: function (current, old, searchLength) {
var index1 = current.length;
var index2 = old.length;
var count = 0;
while (count < searchLength && this.equals(current[--index1], old[--index2]))
count++;
return count;
},
calculateSplices: function (current, previous) {
return this.calcSplices(current, 0, current.length, previous, 0, previous.length);
},
equals: function (currentValue, previousValue) {
return currentValue === previousValue;
}
};
return new ArraySplice();
}();
Polymer.domInnerHTML = function () {
var escapeAttrRegExp = /[&\u00A0"]/g;
var escapeDataRegExp = /[&\u00A0<>]/g;
function escapeReplace(c) {
switch (c) {
case '&':
return '&amp;';
case '<':
return '&lt;';
case '>':
return '&gt;';
case '"':
return '&quot;';
case '\xA0':
return '&nbsp;';
}
}
function escapeAttr(s) {
return s.replace(escapeAttrRegExp, escapeReplace);
}
function escapeData(s) {
return s.replace(escapeDataRegExp, escapeReplace);
}
function makeSet(arr) {
var set = {};
for (var i = 0; i < arr.length; i++) {
set[arr[i]] = true;
}
return set;
}
var voidElements = makeSet([
'area',
'base',
'br',
'col',
'command',
'embed',
'hr',
'img',
'input',
'keygen',
'link',
'meta',
'param',
'source',
'track',
'wbr'
]);
var plaintextParents = makeSet([
'style',
'script',
'xmp',
'iframe',
'noembed',
'noframes',
'plaintext',
'noscript'
]);
function getOuterHTML(node, parentNode, composed) {
switch (node.nodeType) {
case Node.ELEMENT_NODE:
var tagName = node.localName;
var s = '<' + tagName;
var attrs = node.attributes;
for (var i = 0, attr; attr = attrs[i]; i++) {
s += ' ' + attr.name + '="' + escapeAttr(attr.value) + '"';
}
s += '>';
if (voidElements[tagName]) {
return s;
}
return s + getInnerHTML(node, composed) + '</' + tagName + '>';
case Node.TEXT_NODE:
var data = node.data;
if (parentNode && plaintextParents[parentNode.localName]) {
return data;
}
return escapeData(data);
case Node.COMMENT_NODE:
return '<!--' + node.data + '-->';
default:
console.error(node);
throw new Error('not implemented');
}
}
function getInnerHTML(node, composed) {
if (node instanceof HTMLTemplateElement)
node = node.content;
var s = '';
var c$ = Polymer.dom(node).childNodes;
for (var i = 0, l = c$.length, child; i < l && (child = c$[i]); i++) {
s += getOuterHTML(child, node, composed);
}
return s;
}
return { getInnerHTML: getInnerHTML };
}();
(function () {
'use strict';
var nativeInsertBefore = Element.prototype.insertBefore;
var nativeAppendChild = Element.prototype.appendChild;
var nativeRemoveChild = Element.prototype.removeChild;
var TreeApi = Polymer.TreeApi = {
arrayCopyChildNodes: function (parent) {
var copy = [], i = 0;
for (var n = parent.firstChild; n; n = n.nextSibling) {
copy[i++] = n;
}
return copy;
},
arrayCopyChildren: function (parent) {
var copy = [], i = 0;
for (var n = parent.firstElementChild; n; n = n.nextElementSibling) {
copy[i++] = n;
}
return copy;
},
arrayCopy: function (a$) {
var l = a$.length;
var copy = new Array(l);
for (var i = 0; i < l; i++) {
copy[i] = a$[i];
}
return copy;
}
};
Polymer.TreeApi.Logical = {
hasParentNode: function (node) {
return Boolean(node.__dom && node.__dom.parentNode);
},
hasChildNodes: function (node) {
return Boolean(node.__dom && node.__dom.childNodes !== undefined);
},
getChildNodes: function (node) {
return this.hasChildNodes(node) ? this._getChildNodes(node) : node.childNodes;
},
_getChildNodes: function (node) {
if (!node.__dom.childNodes) {
node.__dom.childNodes = [];
for (var n = node.__dom.firstChild; n; n = n.__dom.nextSibling) {
node.__dom.childNodes.push(n);
}
}
return node.__dom.childNodes;
},
getParentNode: function (node) {
return node.__dom && node.__dom.parentNode !== undefined ? node.__dom.parentNode : node.parentNode;
},
getFirstChild: function (node) {
return node.__dom && node.__dom.firstChild !== undefined ? node.__dom.firstChild : node.firstChild;
},
getLastChild: function (node) {
return node.__dom && node.__dom.lastChild !== undefined ? node.__dom.lastChild : node.lastChild;
},
getNextSibling: function (node) {
return node.__dom && node.__dom.nextSibling !== undefined ? node.__dom.nextSibling : node.nextSibling;
},
getPreviousSibling: function (node) {
return node.__dom && node.__dom.previousSibling !== undefined ? node.__dom.previousSibling : node.previousSibling;
},
getFirstElementChild: function (node) {
return node.__dom && node.__dom.firstChild !== undefined ? this._getFirstElementChild(node) : node.firstElementChild;
},
_getFirstElementChild: function (node) {
var n = node.__dom.firstChild;
while (n && n.nodeType !== Node.ELEMENT_NODE) {
n = n.__dom.nextSibling;
}
return n;
},
getLastElementChild: function (node) {
return node.__dom && node.__dom.lastChild !== undefined ? this._getLastElementChild(node) : node.lastElementChild;
},
_getLastElementChild: function (node) {
var n = node.__dom.lastChild;
while (n && n.nodeType !== Node.ELEMENT_NODE) {
n = n.__dom.previousSibling;
}
return n;
},
getNextElementSibling: function (node) {
return node.__dom && node.__dom.nextSibling !== undefined ? this._getNextElementSibling(node) : node.nextElementSibling;
},
_getNextElementSibling: function (node) {
var n = node.__dom.nextSibling;
while (n && n.nodeType !== Node.ELEMENT_NODE) {
n = n.__dom.nextSibling;
}
return n;
},
getPreviousElementSibling: function (node) {
return node.__dom && node.__dom.previousSibling !== undefined ? this._getPreviousElementSibling(node) : node.previousElementSibling;
},
_getPreviousElementSibling: function (node) {
var n = node.__dom.previousSibling;
while (n && n.nodeType !== Node.ELEMENT_NODE) {
n = n.__dom.previousSibling;
}
return n;
},
saveChildNodes: function (node) {
if (!this.hasChildNodes(node)) {
node.__dom = node.__dom || {};
node.__dom.firstChild = node.firstChild;
node.__dom.lastChild = node.lastChild;
node.__dom.childNodes = [];
for (var n = node.firstChild; n; n = n.nextSibling) {
n.__dom = n.__dom || {};
n.__dom.parentNode = node;
node.__dom.childNodes.push(n);
n.__dom.nextSibling = n.nextSibling;
n.__dom.previousSibling = n.previousSibling;
}
}
},
recordInsertBefore: function (node, container, ref_node) {
container.__dom.childNodes = null;
if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
for (var n = node.firstChild; n; n = n.nextSibling) {
this._linkNode(n, container, ref_node);
}
} else {
this._linkNode(node, container, ref_node);
}
},
_linkNode: function (node, container, ref_node) {
node.__dom = node.__dom || {};
container.__dom = container.__dom || {};
if (ref_node) {
ref_node.__dom = ref_node.__dom || {};
}
node.__dom.previousSibling = ref_node ? ref_node.__dom.previousSibling : container.__dom.lastChild;
if (node.__dom.previousSibling) {
node.__dom.previousSibling.__dom.nextSibling = node;
}
node.__dom.nextSibling = ref_node;
if (node.__dom.nextSibling) {
node.__dom.nextSibling.__dom.previousSibling = node;
}
node.__dom.parentNode = container;
if (ref_node) {
if (ref_node === container.__dom.firstChild) {
container.__dom.firstChild = node;
}
} else {
container.__dom.lastChild = node;
if (!container.__dom.firstChild) {
container.__dom.firstChild = node;
}
}
container.__dom.childNodes = null;
},
recordRemoveChild: function (node, container) {
node.__dom = node.__dom || {};
container.__dom = container.__dom || {};
if (node === container.__dom.firstChild) {
container.__dom.firstChild = node.__dom.nextSibling;
}
if (node === container.__dom.lastChild) {
container.__dom.lastChild = node.__dom.previousSibling;
}
var p = node.__dom.previousSibling;
var n = node.__dom.nextSibling;
if (p) {
p.__dom.nextSibling = n;
}
if (n) {
n.__dom.previousSibling = p;
}
node.__dom.parentNode = node.__dom.previousSibling = node.__dom.nextSibling = undefined;
container.__dom.childNodes = null;
}
};
Polymer.TreeApi.Composed = {
getChildNodes: function (node) {
return Polymer.TreeApi.arrayCopyChildNodes(node);
},
getParentNode: function (node) {
return node.parentNode;
},
clearChildNodes: function (node) {
node.textContent = '';
},
insertBefore: function (parentNode, newChild, refChild) {
return nativeInsertBefore.call(parentNode, newChild, refChild || null);
},
appendChild: function (parentNode, newChild) {
return nativeAppendChild.call(parentNode, newChild);
},
removeChild: function (parentNode, node) {
return nativeRemoveChild.call(parentNode, node);
}
};
}());
Polymer.DomApi = function () {
'use strict';
var Settings = Polymer.Settings;
var TreeApi = Polymer.TreeApi;
var DomApi = function (node) {
this.node = needsToWrap ? DomApi.wrap(node) : node;
};
var needsToWrap = Settings.hasShadow && !Settings.nativeShadow;
DomApi.wrap = window.wrap ? window.wrap : function (node) {
return node;
};
DomApi.prototype = {
flush: function () {
Polymer.dom.flush();
},
deepContains: function (node) {
if (this.node.contains(node)) {
return true;
}
var n = node;
var doc = node.ownerDocument;
while (n && n !== doc && n !== this.node) {
n = Polymer.dom(n).parentNode || n.host;
}
return n === this.node;
},
queryDistributedElements: function (selector) {
var c$ = this.getEffectiveChildNodes();
var list = [];
for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) {
if (c.nodeType === Node.ELEMENT_NODE && DomApi.matchesSelector.call(c, selector)) {
list.push(c);
}
}
return list;
},
getEffectiveChildNodes: function () {
var list = [];
var c$ = this.childNodes;
for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) {
if (c.localName === CONTENT) {
var d$ = dom(c).getDistributedNodes();
for (var j = 0; j < d$.length; j++) {
list.push(d$[j]);
}
} else {
list.push(c);
}
}
return list;
},
observeNodes: function (callback) {
if (callback) {
if (!this.observer) {
this.observer = this.node.localName === CONTENT ? new DomApi.DistributedNodesObserver(this) : new DomApi.EffectiveNodesObserver(this);
}
return this.observer.addListener(callback);
}
},
unobserveNodes: function (handle) {
if (this.observer) {
this.observer.removeListener(handle);
}
},
notifyObserver: function () {
if (this.observer) {
this.observer.notify();
}
},
_query: function (matcher, node, halter) {
node = node || this.node;
var list = [];
this._queryElements(TreeApi.Logical.getChildNodes(node), matcher, halter, list);
return list;
},
_queryElements: function (elements, matcher, halter, list) {
for (var i = 0, l = elements.length, c; i < l && (c = elements[i]); i++) {
if (c.nodeType === Node.ELEMENT_NODE) {
if (this._queryElement(c, matcher, halter, list)) {
return true;
}
}
}
},
_queryElement: function (node, matcher, halter, list) {
var result = matcher(node);
if (result) {
list.push(node);
}
if (halter && halter(result)) {
return result;
}
this._queryElements(TreeApi.Logical.getChildNodes(node), matcher, halter, list);
}
};
var CONTENT = DomApi.CONTENT = 'content';
var dom = DomApi.factory = function (node) {
node = node || document;
if (!node.__domApi) {
node.__domApi = new DomApi.ctor(node);
}
return node.__domApi;
};
DomApi.hasApi = function (node) {
return Boolean(node.__domApi);
};
DomApi.ctor = DomApi;
Polymer.dom = function (obj, patch) {
if (obj instanceof Event) {
return Polymer.EventApi.factory(obj);
} else {
return DomApi.factory(obj, patch);
}
};
var p = Element.prototype;
DomApi.matchesSelector = p.matches || p.matchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector || p.webkitMatchesSelector;
return DomApi;
}();
(function () {
'use strict';
var Settings = Polymer.Settings;
var DomApi = Polymer.DomApi;
var dom = DomApi.factory;
var TreeApi = Polymer.TreeApi;
var getInnerHTML = Polymer.domInnerHTML.getInnerHTML;
var CONTENT = DomApi.CONTENT;
if (Settings.useShadow) {
return;
}
var nativeCloneNode = Element.prototype.cloneNode;
var nativeImportNode = Document.prototype.importNode;
Polymer.Base.extend(DomApi.prototype, {
_lazyDistribute: function (host) {
if (host.shadyRoot && host.shadyRoot._distributionClean) {
host.shadyRoot._distributionClean = false;
Polymer.dom.addDebouncer(host.debounce('_distribute', host._distributeContent));
}
},
appendChild: function (node) {
return this.insertBefore(node);
},
insertBefore: function (node, ref_node) {
if (ref_node && TreeApi.Logical.getParentNode(ref_node) !== this.node) {
throw Error('The ref_node to be inserted before is not a child ' + 'of this node');
}
if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {
var parent = TreeApi.Logical.getParentNode(node);
if (parent) {
if (DomApi.hasApi(parent)) {
dom(parent).notifyObserver();
}
this._removeNode(node);
} else {
this._removeOwnerShadyRoot(node);
}
}
if (!this._addNode(node, ref_node)) {
if (ref_node) {
ref_node = ref_node.localName === CONTENT ? this._firstComposedNode(ref_node) : ref_node;
}
var container = this.node._isShadyRoot ? this.node.host : this.node;
if (ref_node) {
TreeApi.Composed.insertBefore(container, node, ref_node);
} else {
TreeApi.Composed.appendChild(container, node);
}
}
this.notifyObserver();
return node;
},
_addNode: function (node, ref_node) {
var root = this.getOwnerRoot();
if (root) {
var ipAdded = this._maybeAddInsertionPoint(node, this.node);
if (!root._invalidInsertionPoints) {
root._invalidInsertionPoints = ipAdded;
}
this._addNodeToHost(root.host, node);
}
if (TreeApi.Logical.hasChildNodes(this.node)) {
TreeApi.Logical.recordInsertBefore(node, this.node, ref_node);
}
var handled = this._maybeDistribute(node) || this.node.shadyRoot;
if (handled) {
if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
while (node.firstChild) {
TreeApi.Composed.removeChild(node, node.firstChild);
}
} else {
var parent = TreeApi.Composed.getParentNode(node);
if (parent) {
TreeApi.Composed.removeChild(parent, node);
}
}
}
return handled;
},
removeChild: function (node) {
if (TreeApi.Logical.getParentNode(node) !== this.node) {
throw Error('The node to be removed is not a child of this node: ' + node);
}
if (!this._removeNode(node)) {
var container = this.node._isShadyRoot ? this.node.host : this.node;
var parent = TreeApi.Composed.getParentNode(node);
if (container === parent) {
TreeApi.Composed.removeChild(container, node);
}
}
this.notifyObserver();
return node;
},
_removeNode: function (node) {
var logicalParent = TreeApi.Logical.hasParentNode(node) && TreeApi.Logical.getParentNode(node);
var distributed;
var root = this._ownerShadyRootForNode(node);
if (logicalParent) {
distributed = dom(node)._maybeDistributeParent();
TreeApi.Logical.recordRemoveChild(node, logicalParent);
if (root && this._removeDistributedChildren(root, node)) {
root._invalidInsertionPoints = true;
this._lazyDistribute(root.host);
}
}
this._removeOwnerShadyRoot(node);
if (root) {
this._removeNodeFromHost(root.host, node);
}
return distributed;
},
replaceChild: function (node, ref_node) {
this.insertBefore(node, ref_node);
this.removeChild(ref_node);
return node;
},
_hasCachedOwnerRoot: function (node) {
return Boolean(node._ownerShadyRoot !== undefined);
},
getOwnerRoot: function () {
return this._ownerShadyRootForNode(this.node);
},
_ownerShadyRootForNode: function (node) {
if (!node) {
return;
}
var root = node._ownerShadyRoot;
if (root === undefined) {
if (node._isShadyRoot) {
root = node;
} else {
var parent = TreeApi.Logical.getParentNode(node);
if (parent) {
root = parent._isShadyRoot ? parent : this._ownerShadyRootForNode(parent);
} else {
root = null;
}
}
if (root || document.documentElement.contains(node)) {
node._ownerShadyRoot = root;
}
}
return root;
},
_maybeDistribute: function (node) {
var fragContent = node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !node.__noContent && dom(node).querySelector(CONTENT);
var wrappedContent = fragContent && TreeApi.Logical.getParentNode(fragContent).nodeType !== Node.DOCUMENT_FRAGMENT_NODE;
var hasContent = fragContent || node.localName === CONTENT;
if (hasContent) {
var root = this.getOwnerRoot();
if (root) {
this._lazyDistribute(root.host);
}
}
var needsDist = this._nodeNeedsDistribution(this.node);
if (needsDist) {
this._lazyDistribute(this.node);
}
return needsDist || hasContent && !wrappedContent;
},
_maybeAddInsertionPoint: function (node, parent) {
var added;
if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !node.__noContent) {
var c$ = dom(node).querySelectorAll(CONTENT);
for (var i = 0, n, np, na; i < c$.length && (n = c$[i]); i++) {
np = TreeApi.Logical.getParentNode(n);
if (np === node) {
np = parent;
}
na = this._maybeAddInsertionPoint(n, np);
added = added || na;
}
} else if (node.localName === CONTENT) {
TreeApi.Logical.saveChildNodes(parent);
TreeApi.Logical.saveChildNodes(node);
added = true;
}
return added;
},
_updateInsertionPoints: function (host) {
var i$ = host.shadyRoot._insertionPoints = dom(host.shadyRoot).querySelectorAll(CONTENT);
for (var i = 0, c; i < i$.length; i++) {
c = i$[i];
TreeApi.Logical.saveChildNodes(c);
TreeApi.Logical.saveChildNodes(TreeApi.Logical.getParentNode(c));
}
},
_nodeNeedsDistribution: function (node) {
return node && node.shadyRoot && DomApi.hasInsertionPoint(node.shadyRoot);
},
_addNodeToHost: function (host, node) {
if (host._elementAdd) {
host._elementAdd(node);
}
},
_removeNodeFromHost: function (host, node) {
if (host._elementRemove) {
host._elementRemove(node);
}
},
_removeDistributedChildren: function (root, container) {
var hostNeedsDist;
var ip$ = root._insertionPoints;
for (var i = 0; i < ip$.length; i++) {
var content = ip$[i];
if (this._contains(container, content)) {
var dc$ = dom(content).getDistributedNodes();
for (var j = 0; j < dc$.length; j++) {
hostNeedsDist = true;
var node = dc$[j];
var parent = TreeApi.Composed.getParentNode(node);
if (parent) {
TreeApi.Composed.removeChild(parent, node);
}
}
}
}
return hostNeedsDist;
},
_contains: function (container, node) {
while (node) {
if (node == container) {
return true;
}
node = TreeApi.Logical.getParentNode(node);
}
},
_removeOwnerShadyRoot: function (node) {
if (this._hasCachedOwnerRoot(node)) {
var c$ = TreeApi.Logical.getChildNodes(node);
for (var i = 0, l = c$.length, n; i < l && (n = c$[i]); i++) {
this._removeOwnerShadyRoot(n);
}
}
node._ownerShadyRoot = undefined;
},
_firstComposedNode: function (content) {
var n$ = dom(content).getDistributedNodes();
for (var i = 0, l = n$.length, n, p$; i < l && (n = n$[i]); i++) {
p$ = dom(n).getDestinationInsertionPoints();
if (p$[p$.length - 1] === content) {
return n;
}
}
},
querySelector: function (selector) {
var result = this._query(function (n) {
return DomApi.matchesSelector.call(n, selector);
}, this.node, function (n) {
return Boolean(n);
})[0];
return result || null;
},
querySelectorAll: function (selector) {
return this._query(function (n) {
return DomApi.matchesSelector.call(n, selector);
}, this.node);
},
getDestinationInsertionPoints: function () {
return this.node._destinationInsertionPoints || [];
},
getDistributedNodes: function () {
return this.node._distributedNodes || [];
},
_clear: function () {
while (this.childNodes.length) {
this.removeChild(this.childNodes[0]);
}
},
setAttribute: function (name, value) {
this.node.setAttribute(name, value);
this._maybeDistributeParent();
},
removeAttribute: function (name) {
this.node.removeAttribute(name);
this._maybeDistributeParent();
},
_maybeDistributeParent: function () {
if (this._nodeNeedsDistribution(this.parentNode)) {
this._lazyDistribute(this.parentNode);
return true;
}
},
cloneNode: function (deep) {
var n = nativeCloneNode.call(this.node, false);
if (deep) {
var c$ = this.childNodes;
var d = dom(n);
for (var i = 0, nc; i < c$.length; i++) {
nc = dom(c$[i]).cloneNode(true);
d.appendChild(nc);
}
}
return n;
},
importNode: function (externalNode, deep) {
var doc = this.node instanceof Document ? this.node : this.node.ownerDocument;
var n = nativeImportNode.call(doc, externalNode, false);
if (deep) {
var c$ = TreeApi.Logical.getChildNodes(externalNode);
var d = dom(n);
for (var i = 0, nc; i < c$.length; i++) {
nc = dom(doc).importNode(c$[i], true);
d.appendChild(nc);
}
}
return n;
},
_getComposedInnerHTML: function () {
return getInnerHTML(this.node, true);
}
});
Object.defineProperties(DomApi.prototype, {
activeElement: {
get: function () {
var active = document.activeElement;
if (!active) {
return null;
}
var isShadyRoot = !!this.node._isShadyRoot;
if (this.node !== document) {
if (!isShadyRoot) {
return null;
}
if (this.node.host === active || !this.node.host.contains(active)) {
return null;
}
}
var activeRoot = dom(active).getOwnerRoot();
while (activeRoot && activeRoot !== this.node) {
active = activeRoot.host;
activeRoot = dom(active).getOwnerRoot();
}
if (this.node === document) {
return activeRoot ? null : active;
} else {
return activeRoot === this.node ? active : null;
}
},
configurable: true
},
childNodes: {
get: function () {
var c$ = TreeApi.Logical.getChildNodes(this.node);
return Array.isArray(c$) ? c$ : TreeApi.arrayCopyChildNodes(this.node);
},
configurable: true
},
children: {
get: function () {
if (TreeApi.Logical.hasChildNodes(this.node)) {
return Array.prototype.filter.call(this.childNodes, function (n) {
return n.nodeType === Node.ELEMENT_NODE;
});
} else {
return TreeApi.arrayCopyChildren(this.node);
}
},
configurable: true
},
parentNode: {
get: function () {
return TreeApi.Logical.getParentNode(this.node);
},
configurable: true
},
firstChild: {
get: function () {
return TreeApi.Logical.getFirstChild(this.node);
},
configurable: true
},
lastChild: {
get: function () {
return TreeApi.Logical.getLastChild(this.node);
},
configurable: true
},
nextSibling: {
get: function () {
return TreeApi.Logical.getNextSibling(this.node);
},
configurable: true
},
previousSibling: {
get: function () {
return TreeApi.Logical.getPreviousSibling(this.node);
},
configurable: true
},
firstElementChild: {
get: function () {
return TreeApi.Logical.getFirstElementChild(this.node);
},
configurable: true
},
lastElementChild: {
get: function () {
return TreeApi.Logical.getLastElementChild(this.node);
},
configurable: true
},
nextElementSibling: {
get: function () {
return TreeApi.Logical.getNextElementSibling(this.node);
},
configurable: true
},
previousElementSibling: {
get: function () {
return TreeApi.Logical.getPreviousElementSibling(this.node);
},
configurable: true
},
textContent: {
get: function () {
var nt = this.node.nodeType;
if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) {
return this.node.textContent;
} else {
var tc = [];
for (var i = 0, cn = this.childNodes, c; c = cn[i]; i++) {
if (c.nodeType !== Node.COMMENT_NODE) {
tc.push(c.textContent);
}
}
return tc.join('');
}
},
set: function (text) {
var nt = this.node.nodeType;
if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) {
this.node.textContent = text;
} else {
this._clear();
if (text) {
this.appendChild(document.createTextNode(text));
}
}
},
configurable: true
},
innerHTML: {
get: function () {
var nt = this.node.nodeType;
if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) {
return null;
} else {
return getInnerHTML(this.node);
}
},
set: function (text) {
var nt = this.node.nodeType;
if (nt !== Node.TEXT_NODE || nt !== Node.COMMENT_NODE) {
this._clear();
var d = document.createElement('div');
d.innerHTML = text;
var c$ = TreeApi.arrayCopyChildNodes(d);
for (var i = 0; i < c$.length; i++) {
this.appendChild(c$[i]);
}
}
},
configurable: true
}
});
DomApi.hasInsertionPoint = function (root) {
return Boolean(root && root._insertionPoints.length);
};
}());
(function () {
'use strict';
var Settings = Polymer.Settings;
var TreeApi = Polymer.TreeApi;
var DomApi = Polymer.DomApi;
if (!Settings.useShadow) {
return;
}
Polymer.Base.extend(DomApi.prototype, {
querySelectorAll: function (selector) {
return TreeApi.arrayCopy(this.node.querySelectorAll(selector));
},
getOwnerRoot: function () {
var n = this.node;
while (n) {
if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE && n.host) {
return n;
}
n = n.parentNode;
}
},
importNode: function (externalNode, deep) {
var doc = this.node instanceof Document ? this.node : this.node.ownerDocument;
return doc.importNode(externalNode, deep);
},
getDestinationInsertionPoints: function () {
var n$ = this.node.getDestinationInsertionPoints && this.node.getDestinationInsertionPoints();
return n$ ? TreeApi.arrayCopy(n$) : [];
},
getDistributedNodes: function () {
var n$ = this.node.getDistributedNodes && this.node.getDistributedNodes();
return n$ ? TreeApi.arrayCopy(n$) : [];
}
});
Object.defineProperties(DomApi.prototype, {
activeElement: {
get: function () {
var node = DomApi.wrap(this.node);
var activeElement = node.activeElement;
return node.contains(activeElement) ? activeElement : null;
},
configurable: true
},
childNodes: {
get: function () {
return TreeApi.arrayCopyChildNodes(this.node);
},
configurable: true
},
children: {
get: function () {
return TreeApi.arrayCopyChildren(this.node);
},
configurable: true
},
textContent: {
get: function () {
return this.node.textContent;
},
set: function (value) {
return this.node.textContent = value;
},
configurable: true
},
innerHTML: {
get: function () {
return this.node.innerHTML;
},
set: function (value) {
return this.node.innerHTML = value;
},
configurable: true
}
});
var forwardMethods = function (m$) {
for (var i = 0; i < m$.length; i++) {
forwardMethod(m$[i]);
}
};
var forwardMethod = function (method) {
DomApi.prototype[method] = function () {
return this.node[method].apply(this.node, arguments);
};
};
forwardMethods([
'cloneNode',
'appendChild',
'insertBefore',
'removeChild',
'replaceChild',
'setAttribute',
'removeAttribute',
'querySelector'
]);
var forwardProperties = function (f$) {
for (var i = 0; i < f$.length; i++) {
forwardProperty(f$[i]);
}
};
var forwardProperty = function (name) {
Object.defineProperty(DomApi.prototype, name, {
get: function () {
return this.node[name];
},
configurable: true
});
};
forwardProperties([
'parentNode',
'firstChild',
'lastChild',
'nextSibling',
'previousSibling',
'firstElementChild',
'lastElementChild',
'nextElementSibling',
'previousElementSibling'
]);
}());
Polymer.Base.extend(Polymer.dom, {
_flushGuard: 0,
_FLUSH_MAX: 100,
_needsTakeRecords: !Polymer.Settings.useNativeCustomElements,
_debouncers: [],
_staticFlushList: [],
_finishDebouncer: null,
flush: function () {
this._flushGuard = 0;
this._prepareFlush();
while (this._debouncers.length && this._flushGuard < this._FLUSH_MAX) {
while (this._debouncers.length) {
this._debouncers.shift().complete();
}
if (this._finishDebouncer) {
this._finishDebouncer.complete();
}
this._prepareFlush();
this._flushGuard++;
}
if (this._flushGuard >= this._FLUSH_MAX) {
console.warn('Polymer.dom.flush aborted. Flush may not be complete.');
}
},
_prepareFlush: function () {
if (this._needsTakeRecords) {
CustomElements.takeRecords();
}
for (var i = 0; i < this._staticFlushList.length; i++) {
this._staticFlushList[i]();
}
},
addStaticFlush: function (fn) {
this._staticFlushList.push(fn);
},
removeStaticFlush: function (fn) {
var i = this._staticFlushList.indexOf(fn);
if (i >= 0) {
this._staticFlushList.splice(i, 1);
}
},
addDebouncer: function (debouncer) {
this._debouncers.push(debouncer);
this._finishDebouncer = Polymer.Debounce(this._finishDebouncer, this._finishFlush);
},
_finishFlush: function () {
Polymer.dom._debouncers = [];
}
});
Polymer.EventApi = function () {
'use strict';
var DomApi = Polymer.DomApi.ctor;
var Settings = Polymer.Settings;
DomApi.Event = function (event) {
this.event = event;
};
if (Settings.useShadow) {
DomApi.Event.prototype = {
get rootTarget() {
return this.event.path[0];
},
get localTarget() {
return this.event.target;
},
get path() {
return this.event.path;
}
};
} else {
DomApi.Event.prototype = {
get rootTarget() {
return this.event.target;
},
get localTarget() {
var current = this.event.currentTarget;
var currentRoot = current && Polymer.dom(current).getOwnerRoot();
var p$ = this.path;
for (var i = 0; i < p$.length; i++) {
if (Polymer.dom(p$[i]).getOwnerRoot() === currentRoot) {
return p$[i];
}
}
},
get path() {
if (!this.event._path) {
var path = [];
var current = this.rootTarget;
while (current) {
path.push(current);
var insertionPoints = Polymer.dom(current).getDestinationInsertionPoints();
if (insertionPoints.length) {
for (var i = 0; i < insertionPoints.length - 1; i++) {
path.push(insertionPoints[i]);
}
current = insertionPoints[insertionPoints.length - 1];
} else {
current = Polymer.dom(current).parentNode || current.host;
}
}
path.push(window);
this.event._path = path;
}
return this.event._path;
}
};
}
var factory = function (event) {
if (!event.__eventApi) {
event.__eventApi = new DomApi.Event(event);
}
return event.__eventApi;
};
return { factory: factory };
}();
(function () {
'use strict';
var DomApi = Polymer.DomApi.ctor;
var useShadow = Polymer.Settings.useShadow;
Object.defineProperty(DomApi.prototype, 'classList', {
get: function () {
if (!this._classList) {
this._classList = new DomApi.ClassList(this);
}
return this._classList;
},
configurable: true
});
DomApi.ClassList = function (host) {
this.domApi = host;
this.node = host.node;
};
DomApi.ClassList.prototype = {
add: function () {
this.node.classList.add.apply(this.node.classList, arguments);
this._distributeParent();
},
remove: function () {
this.node.classList.remove.apply(this.node.classList, arguments);
this._distributeParent();
},
toggle: function () {
this.node.classList.toggle.apply(this.node.classList, arguments);
this._distributeParent();
},
_distributeParent: function () {
if (!useShadow) {
this.domApi._maybeDistributeParent();
}
},
contains: function () {
return this.node.classList.contains.apply(this.node.classList, arguments);
}
};
}());
(function () {
'use strict';
var DomApi = Polymer.DomApi.ctor;
var Settings = Polymer.Settings;
var hasDomApi = Polymer.DomApi.hasDomApi;
DomApi.EffectiveNodesObserver = function (domApi) {
this.domApi = domApi;
this.node = this.domApi.node;
this._listeners = [];
};
DomApi.EffectiveNodesObserver.prototype = {
addListener: function (callback) {
if (!this._isSetup) {
this._setup();
this._isSetup = true;
}
var listener = {
fn: callback,
_nodes: []
};
this._listeners.push(listener);
this._scheduleNotify();
return listener;
},
removeListener: function (handle) {
var i = this._listeners.indexOf(handle);
if (i >= 0) {
this._listeners.splice(i, 1);
handle._nodes = [];
}
if (!this._hasListeners()) {
this._cleanup();
this._isSetup = false;
}
},
_setup: function () {
this._observeContentElements(this.domApi.childNodes);
},
_cleanup: function () {
this._unobserveContentElements(this.domApi.childNodes);
},
_hasListeners: function () {
return Boolean(this._listeners.length);
},
_scheduleNotify: function () {
if (this._debouncer) {
this._debouncer.stop();
}
this._debouncer = Polymer.Debounce(this._debouncer, this._notify);
this._debouncer.context = this;
Polymer.dom.addDebouncer(this._debouncer);
},
notify: function () {
if (this._hasListeners()) {
this._scheduleNotify();
}
},
_notify: function (mxns) {
this._beforeCallListeners();
this._callListeners();
},
_beforeCallListeners: function () {
this._updateContentElements();
},
_updateContentElements: function () {
this._observeContentElements(this.domApi.childNodes);
},
_observeContentElements: function (elements) {
for (var i = 0, n; i < elements.length && (n = elements[i]); i++) {
if (this._isContent(n)) {
n.__observeNodesMap = n.__observeNodesMap || new WeakMap();
if (!n.__observeNodesMap.has(this)) {
n.__observeNodesMap.set(this, this._observeContent(n));
}
}
}
},
_observeContent: function (content) {
var self = this;
var h = Polymer.dom(content).observeNodes(function () {
self._scheduleNotify();
});
h._avoidChangeCalculation = true;
return h;
},
_unobserveContentElements: function (elements) {
for (var i = 0, n, h; i < elements.length && (n = elements[i]); i++) {
if (this._isContent(n)) {
h = n.__observeNodesMap.get(this);
if (h) {
Polymer.dom(n).unobserveNodes(h);
n.__observeNodesMap.delete(this);
}
}
}
},
_isContent: function (node) {
return node.localName === 'content';
},
_callListeners: function () {
var o$ = this._listeners;
var nodes = this._getEffectiveNodes();
for (var i = 0, o; i < o$.length && (o = o$[i]); i++) {
var info = this._generateListenerInfo(o, nodes);
if (info || o._alwaysNotify) {
this._callListener(o, info);
}
}
},
_getEffectiveNodes: function () {
return this.domApi.getEffectiveChildNodes();
},
_generateListenerInfo: function (listener, newNodes) {
if (listener._avoidChangeCalculation) {
return true;
}
var oldNodes = listener._nodes;
var info = {
target: this.node,
addedNodes: [],
removedNodes: []
};
var splices = Polymer.ArraySplice.calculateSplices(newNodes, oldNodes);
for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
for (var j = 0, n; j < s.removed.length && (n = s.removed[j]); j++) {
info.removedNodes.push(n);
}
}
for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
for (var j = s.index; j < s.index + s.addedCount; j++) {
info.addedNodes.push(newNodes[j]);
}
}
listener._nodes = newNodes;
if (info.addedNodes.length || info.removedNodes.length) {
return info;
}
},
_callListener: function (listener, info) {
return listener.fn.call(this.node, info);
},
enableShadowAttributeTracking: function () {
}
};
if (Settings.useShadow) {
var baseSetup = DomApi.EffectiveNodesObserver.prototype._setup;
var baseCleanup = DomApi.EffectiveNodesObserver.prototype._cleanup;
var beforeCallListeners = DomApi.EffectiveNodesObserver.prototype._beforeCallListeners;
Polymer.Base.extend(DomApi.EffectiveNodesObserver.prototype, {
_setup: function () {
if (!this._observer) {
var self = this;
this._mutationHandler = function (mxns) {
if (mxns && mxns.length) {
self._scheduleNotify();
}
};
this._observer = new MutationObserver(this._mutationHandler);
this._boundFlush = function () {
self._flush();
};
Polymer.dom.addStaticFlush(this._boundFlush);
this._observer.observe(this.node, { childList: true });
}
baseSetup.call(this);
},
_cleanup: function () {
this._observer.disconnect();
this._observer = null;
this._mutationHandler = null;
Polymer.dom.removeStaticFlush(this._boundFlush);
baseCleanup.call(this);
},
_flush: function () {
if (this._observer) {
this._mutationHandler(this._observer.takeRecords());
}
},
enableShadowAttributeTracking: function () {
if (this._observer) {
this._makeContentListenersAlwaysNotify();
this._observer.disconnect();
this._observer.observe(this.node, {
childList: true,
attributes: true,
subtree: true
});
var root = this.domApi.getOwnerRoot();
var host = root && root.host;
if (host && Polymer.dom(host).observer) {
Polymer.dom(host).observer.enableShadowAttributeTracking();
}
}
},
_makeContentListenersAlwaysNotify: function () {
for (var i = 0, h; i < this._listeners.length; i++) {
h = this._listeners[i];
h._alwaysNotify = h._isContentListener;
}
}
});
}
}());
(function () {
'use strict';
var DomApi = Polymer.DomApi.ctor;
var Settings = Polymer.Settings;
DomApi.DistributedNodesObserver = function (domApi) {
DomApi.EffectiveNodesObserver.call(this, domApi);
};
DomApi.DistributedNodesObserver.prototype = Object.create(DomApi.EffectiveNodesObserver.prototype);
Polymer.Base.extend(DomApi.DistributedNodesObserver.prototype, {
_setup: function () {
},
_cleanup: function () {
},
_beforeCallListeners: function () {
},
_getEffectiveNodes: function () {
return this.domApi.getDistributedNodes();
}
});
if (Settings.useShadow) {
Polymer.Base.extend(DomApi.DistributedNodesObserver.prototype, {
_setup: function () {
if (!this._observer) {
var root = this.domApi.getOwnerRoot();
var host = root && root.host;
if (host) {
var self = this;
this._observer = Polymer.dom(host).observeNodes(function () {
self._scheduleNotify();
});
this._observer._isContentListener = true;
if (this._hasAttrSelect()) {
Polymer.dom(host).observer.enableShadowAttributeTracking();
}
}
}
},
_hasAttrSelect: function () {
var select = this.node.getAttribute('select');
return select && select.match(/[[.]+/);
},
_cleanup: function () {
var root = this.domApi.getOwnerRoot();
var host = root && root.host;
if (host) {
Polymer.dom(host).unobserveNodes(this._observer);
}
this._observer = null;
}
});
}
}());
(function () {
var DomApi = Polymer.DomApi;
var TreeApi = Polymer.TreeApi;
Polymer.Base._addFeature({
_prepShady: function () {
this._useContent = this._useContent || Boolean(this._template);
},
_setupShady: function () {
this.shadyRoot = null;
if (!this.__domApi) {
this.__domApi = null;
}
if (!this.__dom) {
this.__dom = null;
}
if (!this._ownerShadyRoot) {
this._ownerShadyRoot = undefined;
}
},
_poolContent: function () {
if (this._useContent) {
TreeApi.Logical.saveChildNodes(this);
}
},
_setupRoot: function () {
if (this._useContent) {
this._createLocalRoot();
if (!this.dataHost) {
upgradeLogicalChildren(TreeApi.Logical.getChildNodes(this));
}
}
},
_createLocalRoot: function () {
this.shadyRoot = this.root;
this.shadyRoot._distributionClean = false;
this.shadyRoot._hasDistributed = false;
this.shadyRoot._isShadyRoot = true;
this.shadyRoot._dirtyRoots = [];
var i$ = this.shadyRoot._insertionPoints = !this._notes || this._notes._hasContent ? this.shadyRoot.querySelectorAll('content') : [];
TreeApi.Logical.saveChildNodes(this.shadyRoot);
for (var i = 0, c; i < i$.length; i++) {
c = i$[i];
TreeApi.Logical.saveChildNodes(c);
TreeApi.Logical.saveChildNodes(c.parentNode);
}
this.shadyRoot.host = this;
},
get domHost() {
var root = Polymer.dom(this).getOwnerRoot();
return root && root.host;
},
distributeContent: function (updateInsertionPoints) {
if (this.shadyRoot) {
this.shadyRoot._invalidInsertionPoints = this.shadyRoot._invalidInsertionPoints || updateInsertionPoints;
var host = getTopDistributingHost(this);
Polymer.dom(this)._lazyDistribute(host);
}
},
_distributeContent: function () {
if (this._useContent && !this.shadyRoot._distributionClean) {
if (this.shadyRoot._invalidInsertionPoints) {
Polymer.dom(this)._updateInsertionPoints(this);
this.shadyRoot._invalidInsertionPoints = false;
}
this._beginDistribute();
this._distributeDirtyRoots();
this._finishDistribute();
}
},
_beginDistribute: function () {
if (this._useContent && DomApi.hasInsertionPoint(this.shadyRoot)) {
this._resetDistribution();
this._distributePool(this.shadyRoot, this._collectPool());
}
},
_distributeDirtyRoots: function () {
var c$ = this.shadyRoot._dirtyRoots;
for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) {
c._distributeContent();
}
this.shadyRoot._dirtyRoots = [];
},
_finishDistribute: function () {
if (this._useContent) {
this.shadyRoot._distributionClean = true;
if (DomApi.hasInsertionPoint(this.shadyRoot)) {
this._composeTree();
notifyContentObservers(this.shadyRoot);
} else {
if (!this.shadyRoot._hasDistributed) {
TreeApi.Composed.clearChildNodes(this);
this.appendChild(this.shadyRoot);
} else {
var children = this._composeNode(this);
this._updateChildNodes(this, children);
}
}
if (!this.shadyRoot._hasDistributed) {
notifyInitialDistribution(this);
}
this.shadyRoot._hasDistributed = true;
}
},
elementMatches: function (selector, node) {
node = node || this;
return DomApi.matchesSelector.call(node, selector);
},
_resetDistribution: function () {
var children = TreeApi.Logical.getChildNodes(this);
for (var i = 0; i < children.length; i++) {
var child = children[i];
if (child._destinationInsertionPoints) {
child._destinationInsertionPoints = undefined;
}
if (isInsertionPoint(child)) {
clearDistributedDestinationInsertionPoints(child);
}
}
var root = this.shadyRoot;
var p$ = root._insertionPoints;
for (var j = 0; j < p$.length; j++) {
p$[j]._distributedNodes = [];
}
},
_collectPool: function () {
var pool = [];
var children = TreeApi.Logical.getChildNodes(this);
for (var i = 0; i < children.length; i++) {
var child = children[i];
if (isInsertionPoint(child)) {
pool.push.apply(pool, child._distributedNodes);
} else {
pool.push(child);
}
}
return pool;
},
_distributePool: function (node, pool) {
var p$ = node._insertionPoints;
for (var i = 0, l = p$.length, p; i < l && (p = p$[i]); i++) {
this._distributeInsertionPoint(p, pool);
maybeRedistributeParent(p, this);
}
},
_distributeInsertionPoint: function (content, pool) {
var anyDistributed = false;
for (var i = 0, l = pool.length, node; i < l; i++) {
node = pool[i];
if (!node) {
continue;
}
if (this._matchesContentSelect(node, content)) {
distributeNodeInto(node, content);
pool[i] = undefined;
anyDistributed = true;
}
}
if (!anyDistributed) {
var children = TreeApi.Logical.getChildNodes(content);
for (var j = 0; j < children.length; j++) {
distributeNodeInto(children[j], content);
}
}
},
_composeTree: function () {
this._updateChildNodes(this, this._composeNode(this));
var p$ = this.shadyRoot._insertionPoints;
for (var i = 0, l = p$.length, p, parent; i < l && (p = p$[i]); i++) {
parent = TreeApi.Logical.getParentNode(p);
if (!parent._useContent && parent !== this && parent !== this.shadyRoot) {
this._updateChildNodes(parent, this._composeNode(parent));
}
}
},
_composeNode: function (node) {
var children = [];
var c$ = TreeApi.Logical.getChildNodes(node.shadyRoot || node);
for (var i = 0; i < c$.length; i++) {
var child = c$[i];
if (isInsertionPoint(child)) {
var distributedNodes = child._distributedNodes;
for (var j = 0; j < distributedNodes.length; j++) {
var distributedNode = distributedNodes[j];
if (isFinalDestination(child, distributedNode)) {
children.push(distributedNode);
}
}
} else {
children.push(child);
}
}
return children;
},
_updateChildNodes: function (container, children) {
var composed = TreeApi.Composed.getChildNodes(container);
var splices = Polymer.ArraySplice.calculateSplices(children, composed);
for (var i = 0, d = 0, s; i < splices.length && (s = splices[i]); i++) {
for (var j = 0, n; j < s.removed.length && (n = s.removed[j]); j++) {
if (TreeApi.Composed.getParentNode(n) === container) {
TreeApi.Composed.removeChild(container, n);
}
composed.splice(s.index + d, 1);
}
d -= s.addedCount;
}
for (var i = 0, s, next; i < splices.length && (s = splices[i]); i++) {
next = composed[s.index];
for (var j = s.index, n; j < s.index + s.addedCount; j++) {
n = children[j];
TreeApi.Composed.insertBefore(container, n, next);
composed.splice(j, 0, n);
}
}
},
_matchesContentSelect: function (node, contentElement) {
var select = contentElement.getAttribute('select');
if (!select) {
return true;
}
select = select.trim();
if (!select) {
return true;
}
if (!(node instanceof Element)) {
return false;
}
var validSelectors = /^(:not\()?[*.#[a-zA-Z_|]/;
if (!validSelectors.test(select)) {
return false;
}
return this.elementMatches(select, node);
},
_elementAdd: function () {
},
_elementRemove: function () {
}
});
function distributeNodeInto(child, insertionPoint) {
insertionPoint._distributedNodes.push(child);
var points = child._destinationInsertionPoints;
if (!points) {
child._destinationInsertionPoints = [insertionPoint];
} else {
points.push(insertionPoint);
}
}
function clearDistributedDestinationInsertionPoints(content) {
var e$ = content._distributedNodes;
if (e$) {
for (var i = 0; i < e$.length; i++) {
var d = e$[i]._destinationInsertionPoints;
if (d) {
d.splice(d.indexOf(content) + 1, d.length);
}
}
}
}
function maybeRedistributeParent(content, host) {
var parent = TreeApi.Logical.getParentNode(content);
if (parent && parent.shadyRoot && DomApi.hasInsertionPoint(parent.shadyRoot) && parent.shadyRoot._distributionClean) {
parent.shadyRoot._distributionClean = false;
host.shadyRoot._dirtyRoots.push(parent);
}
}
function isFinalDestination(insertionPoint, node) {
var points = node._destinationInsertionPoints;
return points && points[points.length - 1] === insertionPoint;
}
function isInsertionPoint(node) {
return node.localName == 'content';
}
function getTopDistributingHost(host) {
while (host && hostNeedsRedistribution(host)) {
host = host.domHost;
}
return host;
}
function hostNeedsRedistribution(host) {
var c$ = TreeApi.Logical.getChildNodes(host);
for (var i = 0, c; i < c$.length; i++) {
c = c$[i];
if (c.localName && c.localName === 'content') {
return host.domHost;
}
}
}
function notifyContentObservers(root) {
for (var i = 0, c; i < root._insertionPoints.length; i++) {
c = root._insertionPoints[i];
if (DomApi.hasApi(c)) {
Polymer.dom(c).notifyObserver();
}
}
}
function notifyInitialDistribution(host) {
if (DomApi.hasApi(host)) {
Polymer.dom(host).notifyObserver();
}
}
var needsUpgrade = window.CustomElements && !CustomElements.useNative;
function upgradeLogicalChildren(children) {
if (needsUpgrade && children) {
for (var i = 0; i < children.length; i++) {
CustomElements.upgrade(children[i]);
}
}
}
}());
if (Polymer.Settings.useShadow) {
Polymer.Base._addFeature({
_poolContent: function () {
},
_beginDistribute: function () {
},
distributeContent: function () {
},
_distributeContent: function () {
},
_finishDistribute: function () {
},
_createLocalRoot: function () {
this.createShadowRoot();
this.shadowRoot.appendChild(this.root);
this.root = this.shadowRoot;
}
});
}
Polymer.Async = {
_currVal: 0,
_lastVal: 0,
_callbacks: [],
_twiddleContent: 0,
_twiddle: document.createTextNode(''),
run: function (callback, waitTime) {
if (waitTime > 0) {
return ~setTimeout(callback, waitTime);
} else {
this._twiddle.textContent = this._twiddleContent++;
this._callbacks.push(callback);
return this._currVal++;
}
},
cancel: function (handle) {
if (handle < 0) {
clearTimeout(~handle);
} else {
var idx = handle - this._lastVal;
if (idx >= 0) {
if (!this._callbacks[idx]) {
throw 'invalid async handle: ' + handle;
}
this._callbacks[idx] = null;
}
}
},
_atEndOfMicrotask: function () {
var len = this._callbacks.length;
for (var i = 0; i < len; i++) {
var cb = this._callbacks[i];
if (cb) {
try {
cb();
} catch (e) {
i++;
this._callbacks.splice(0, i);
this._lastVal += i;
this._twiddle.textContent = this._twiddleContent++;
throw e;
}
}
}
this._callbacks.splice(0, len);
this._lastVal += len;
}
};
new window.MutationObserver(function () {
Polymer.Async._atEndOfMicrotask();
}).observe(Polymer.Async._twiddle, { characterData: true });
Polymer.Debounce = function () {
var Async = Polymer.Async;
var Debouncer = function (context) {
this.context = context;
var self = this;
this.boundComplete = function () {
self.complete();
};
};
Debouncer.prototype = {
go: function (callback, wait) {
var h;
this.finish = function () {
Async.cancel(h);
};
h = Async.run(this.boundComplete, wait);
this.callback = callback;
},
stop: function () {
if (this.finish) {
this.finish();
this.finish = null;
}
},
complete: function () {
if (this.finish) {
this.stop();
this.callback.call(this.context);
}
}
};
function debounce(debouncer, callback, wait) {
if (debouncer) {
debouncer.stop();
} else {
debouncer = new Debouncer(this);
}
debouncer.go(callback, wait);
return debouncer;
}
return debounce;
}();
Polymer.Base._addFeature({
_setupDebouncers: function () {
this._debouncers = {};
},
debounce: function (jobName, callback, wait) {
return this._debouncers[jobName] = Polymer.Debounce.call(this, this._debouncers[jobName], callback, wait);
},
isDebouncerActive: function (jobName) {
var debouncer = this._debouncers[jobName];
return !!(debouncer && debouncer.finish);
},
flushDebouncer: function (jobName) {
var debouncer = this._debouncers[jobName];
if (debouncer) {
debouncer.complete();
}
},
cancelDebouncer: function (jobName) {
var debouncer = this._debouncers[jobName];
if (debouncer) {
debouncer.stop();
}
}
});
Polymer.DomModule = document.createElement('dom-module');
Polymer.Base._addFeature({
_registerFeatures: function () {
this._prepIs();
this._prepBehaviors();
this._prepConstructor();
this._prepTemplate();
this._prepShady();
this._prepPropertyInfo();
},
_prepBehavior: function (b) {
this._addHostAttributes(b.hostAttributes);
},
_initFeatures: function () {
this._registerHost();
if (this._template) {
this._poolContent();
this._beginHosting();
this._stampTemplate();
this._endHosting();
}
this._marshalHostAttributes();
this._setupDebouncers();
this._marshalBehaviors();
this._tryReady();
},
_marshalBehavior: function (b) {
}
});</script><script>Polymer.nar = [];
Polymer.Annotations = {
parseAnnotations: function (template) {
var list = [];
var content = template._content || template.content;
this._parseNodeAnnotations(content, list, template.hasAttribute('strip-whitespace'));
return list;
},
_parseNodeAnnotations: function (node, list, stripWhiteSpace) {
return node.nodeType === Node.TEXT_NODE ? this._parseTextNodeAnnotation(node, list) : this._parseElementAnnotations(node, list, stripWhiteSpace);
},
_bindingRegex: function () {
var IDENT = '(?:' + '[a-zA-Z_$][\\w.:$-*]*' + ')';
var NUMBER = '(?:' + '[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';
var SQUOTE_STRING = '(?:' + '\'(?:[^\'\\\\]|\\\\.)*\'' + ')';
var DQUOTE_STRING = '(?:' + '"(?:[^"\\\\]|\\\\.)*"' + ')';
var STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';
var ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' + STRING + '\\s*' + ')';
var ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\s*' + ARGUMENT + ')*' + ')';
var ARGUMENT_LIST = '(?:' + '\\(\\s*' + '(?:' + ARGUMENTS + '?' + ')' + '\\)\\s*' + ')';
var BINDING = '(' + IDENT + '\\s*' + ARGUMENT_LIST + '?' + ')';
var OPEN_BRACKET = '(\\[\\[|{{)' + '\\s*';
var CLOSE_BRACKET = '(?:]]|}})';
var NEGATE = '(?:(!)\\s*)?';
var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;
return new RegExp(EXPRESSION, 'g');
}(),
_parseBindings: function (text) {
var re = this._bindingRegex;
var parts = [];
var lastIndex = 0;
var m;
while ((m = re.exec(text)) !== null) {
if (m.index > lastIndex) {
parts.push({ literal: text.slice(lastIndex, m.index) });
}
var mode = m[1][0];
var negate = Boolean(m[2]);
var value = m[3].trim();
var customEvent, notifyEvent, colon;
if (mode == '{' && (colon = value.indexOf('::')) > 0) {
notifyEvent = value.substring(colon + 2);
value = value.substring(0, colon);
customEvent = true;
}
parts.push({
compoundIndex: parts.length,
value: value,
mode: mode,
negate: negate,
event: notifyEvent,
customEvent: customEvent
});
lastIndex = re.lastIndex;
}
if (lastIndex && lastIndex < text.length) {
var literal = text.substring(lastIndex);
if (literal) {
parts.push({ literal: literal });
}
}
if (parts.length) {
return parts;
}
},
_literalFromParts: function (parts) {
var s = '';
for (var i = 0; i < parts.length; i++) {
var literal = parts[i].literal;
s += literal || '';
}
return s;
},
_parseTextNodeAnnotation: function (node, list) {
var parts = this._parseBindings(node.textContent);
if (parts) {
node.textContent = this._literalFromParts(parts) || ' ';
var annote = {
bindings: [{
kind: 'text',
name: 'textContent',
parts: parts,
isCompound: parts.length !== 1
}]
};
list.push(annote);
return annote;
}
},
_parseElementAnnotations: function (element, list, stripWhiteSpace) {
var annote = {
bindings: [],
events: []
};
if (element.localName === 'content') {
list._hasContent = true;
}
this._parseChildNodesAnnotations(element, annote, list, stripWhiteSpace);
if (element.attributes) {
this._parseNodeAttributeAnnotations(element, annote, list);
if (this.prepElement) {
this.prepElement(element);
}
}
if (annote.bindings.length || annote.events.length || annote.id) {
list.push(annote);
}
return annote;
},
_parseChildNodesAnnotations: function (root, annote, list, stripWhiteSpace) {
if (root.firstChild) {
var node = root.firstChild;
var i = 0;
while (node) {
var next = node.nextSibling;
if (node.localName === 'template' && !node.hasAttribute('preserve-content')) {
this._parseTemplate(node, i, list, annote);
}
if (node.nodeType === Node.TEXT_NODE) {
var n = next;
while (n && n.nodeType === Node.TEXT_NODE) {
node.textContent += n.textContent;
next = n.nextSibling;
root.removeChild(n);
n = next;
}
if (stripWhiteSpace && !node.textContent.trim()) {
root.removeChild(node);
i--;
}
}
if (node.parentNode) {
var childAnnotation = this._parseNodeAnnotations(node, list, stripWhiteSpace);
if (childAnnotation) {
childAnnotation.parent = annote;
childAnnotation.index = i;
}
}
node = next;
i++;
}
}
},
_parseTemplate: function (node, index, list, parent) {
var content = document.createDocumentFragment();
content._notes = this.parseAnnotations(node);
content.appendChild(node.content);
list.push({
bindings: Polymer.nar,
events: Polymer.nar,
templateContent: content,
parent: parent,
index: index
});
},
_parseNodeAttributeAnnotations: function (node, annotation) {
var attrs = Array.prototype.slice.call(node.attributes);
for (var i = attrs.length - 1, a; a = attrs[i]; i--) {
var n = a.name;
var v = a.value;
var b;
if (n.slice(0, 3) === 'on-') {
node.removeAttribute(n);
annotation.events.push({
name: n.slice(3),
value: v
});
} else if (b = this._parseNodeAttributeAnnotation(node, n, v)) {
annotation.bindings.push(b);
} else if (n === 'id') {
annotation.id = v;
}
}
},
_parseNodeAttributeAnnotation: function (node, name, value) {
var parts = this._parseBindings(value);
if (parts) {
var origName = name;
var kind = 'property';
if (name[name.length - 1] == '$') {
name = name.slice(0, -1);
kind = 'attribute';
}
var literal = this._literalFromParts(parts);
if (literal && kind == 'attribute') {
node.setAttribute(name, literal);
}
if (node.localName === 'input' && origName === 'value') {
node.setAttribute(origName, '');
}
node.removeAttribute(origName);
if (kind === 'property') {
name = Polymer.CaseMap.dashToCamelCase(name);
}
return {
kind: kind,
name: name,
parts: parts,
literal: literal,
isCompound: parts.length !== 1
};
}
},
findAnnotatedNode: function (root, annote) {
var parent = annote.parent && Polymer.Annotations.findAnnotatedNode(root, annote.parent);
if (parent) {
for (var n = parent.firstChild, i = 0; n; n = n.nextSibling) {
if (annote.index === i++) {
return n;
}
}
} else {
return root;
}
}
};
(function () {
function resolveCss(cssText, ownerDocument) {
return cssText.replace(CSS_URL_RX, function (m, pre, url, post) {
return pre + '\'' + resolve(url.replace(/["']/g, ''), ownerDocument) + '\'' + post;
});
}
function resolveAttrs(element, ownerDocument) {
for (var name in URL_ATTRS) {
var a$ = URL_ATTRS[name];
for (var i = 0, l = a$.length, a, at, v; i < l && (a = a$[i]); i++) {
if (name === '*' || element.localName === name) {
at = element.attributes[a];
v = at && at.value;
if (v && v.search(BINDING_RX) < 0) {
at.value = a === 'style' ? resolveCss(v, ownerDocument) : resolve(v, ownerDocument);
}
}
}
}
}
function resolve(url, ownerDocument) {
if (url && url[0] === '#') {
return url;
}
var resolver = getUrlResolver(ownerDocument);
resolver.href = url;
return resolver.href || url;
}
var tempDoc;
var tempDocBase;
function resolveUrl(url, baseUri) {
if (!tempDoc) {
tempDoc = document.implementation.createHTMLDocument('temp');
tempDocBase = tempDoc.createElement('base');
tempDoc.head.appendChild(tempDocBase);
}
tempDocBase.href = baseUri;
return resolve(url, tempDoc);
}
function getUrlResolver(ownerDocument) {
return ownerDocument.__urlResolver || (ownerDocument.__urlResolver = ownerDocument.createElement('a'));
}
var CSS_URL_RX = /(url\()([^)]*)(\))/g;
var URL_ATTRS = {
'*': [
'href',
'src',
'style',
'url'
],
form: ['action']
};
var BINDING_RX = /\{\{|\[\[/;
Polymer.ResolveUrl = {
resolveCss: resolveCss,
resolveAttrs: resolveAttrs,
resolveUrl: resolveUrl
};
}());
Polymer.Base._addFeature({
_prepAnnotations: function () {
if (!this._template) {
this._notes = [];
} else {
var self = this;
Polymer.Annotations.prepElement = function (element) {
self._prepElement(element);
};
if (this._template._content && this._template._content._notes) {
this._notes = this._template._content._notes;
} else {
this._notes = Polymer.Annotations.parseAnnotations(this._template);
this._processAnnotations(this._notes);
}
Polymer.Annotations.prepElement = null;
}
},
_processAnnotations: function (notes) {
for (var i = 0; i < notes.length; i++) {
var note = notes[i];
for (var j = 0; j < note.bindings.length; j++) {
var b = note.bindings[j];
for (var k = 0; k < b.parts.length; k++) {
var p = b.parts[k];
if (!p.literal) {
p.signature = this._parseMethod(p.value);
if (!p.signature) {
p.model = this._modelForPath(p.value);
}
}
}
}
if (note.templateContent) {
this._processAnnotations(note.templateContent._notes);
var pp = note.templateContent._parentProps = this._discoverTemplateParentProps(note.templateContent._notes);
var bindings = [];
for (var prop in pp) {
bindings.push({
index: note.index,
kind: 'property',
name: '_parent_' + prop,
parts: [{
mode: '{',
model: prop,
value: prop
}]
});
}
note.bindings = note.bindings.concat(bindings);
}
}
},
_discoverTemplateParentProps: function (notes) {
var pp = {};
for (var i = 0, n; i < notes.length && (n = notes[i]); i++) {
for (var j = 0, b$ = n.bindings, b; j < b$.length && (b = b$[j]); j++) {
for (var k = 0, p$ = b.parts, p; k < p$.length && (p = p$[k]); k++) {
if (p.signature) {
var args = p.signature.args;
for (var kk = 0; kk < args.length; kk++) {
var model = args[kk].model;
if (model) {
pp[model] = true;
}
}
} else {
if (p.model) {
pp[p.model] = true;
}
}
}
}
if (n.templateContent) {
var tpp = n.templateContent._parentProps;
Polymer.Base.mixin(pp, tpp);
}
}
return pp;
},
_prepElement: function (element) {
Polymer.ResolveUrl.resolveAttrs(element, this._template.ownerDocument);
},
_findAnnotatedNode: Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences: function () {
if (this._template) {
this._marshalIdNodes();
this._marshalAnnotatedNodes();
this._marshalAnnotatedListeners();
}
},
_configureAnnotationReferences: function (config) {
var notes = this._notes;
var nodes = this._nodes;
for (var i = 0; i < notes.length; i++) {
var note = notes[i];
var node = nodes[i];
this._configureTemplateContent(note, node);
this._configureCompoundBindings(note, node);
}
},
_configureTemplateContent: function (note, node) {
if (note.templateContent) {
node._content = note.templateContent;
}
},
_configureCompoundBindings: function (note, node) {
var bindings = note.bindings;
for (var i = 0; i < bindings.length; i++) {
var binding = bindings[i];
if (binding.isCompound) {
var storage = node.__compoundStorage__ || (node.__compoundStorage__ = {});
var parts = binding.parts;
var literals = new Array(parts.length);
for (var j = 0; j < parts.length; j++) {
literals[j] = parts[j].literal;
}
var name = binding.name;
storage[name] = literals;
if (binding.literal && binding.kind == 'property') {
if (node._configValue) {
node._configValue(name, binding.literal);
} else {
node[name] = binding.literal;
}
}
}
}
},
_marshalIdNodes: function () {
this.$ = {};
for (var i = 0, l = this._notes.length, a; i < l && (a = this._notes[i]); i++) {
if (a.id) {
this.$[a.id] = this._findAnnotatedNode(this.root, a);
}
}
},
_marshalAnnotatedNodes: function () {
if (this._notes && this._notes.length) {
var r = new Array(this._notes.length);
for (var i = 0; i < this._notes.length; i++) {
r[i] = this._findAnnotatedNode(this.root, this._notes[i]);
}
this._nodes = r;
}
},
_marshalAnnotatedListeners: function () {
for (var i = 0, l = this._notes.length, a; i < l && (a = this._notes[i]); i++) {
if (a.events && a.events.length) {
var node = this._findAnnotatedNode(this.root, a);
for (var j = 0, e$ = a.events, e; j < e$.length && (e = e$[j]); j++) {
this.listen(node, e.name, e.value);
}
}
}
}
});
Polymer.Base._addFeature({
listeners: {},
_listenListeners: function (listeners) {
var node, name, eventName;
for (eventName in listeners) {
if (eventName.indexOf('.') < 0) {
node = this;
name = eventName;
} else {
name = eventName.split('.');
node = this.$[name[0]];
name = name[1];
}
this.listen(node, name, listeners[eventName]);
}
},
listen: function (node, eventName, methodName) {
var handler = this._recallEventHandler(this, eventName, node, methodName);
if (!handler) {
handler = this._createEventHandler(node, eventName, methodName);
}
if (handler._listening) {
return;
}
this._listen(node, eventName, handler);
handler._listening = true;
},
_boundListenerKey: function (eventName, methodName) {
return eventName + ':' + methodName;
},
_recordEventHandler: function (host, eventName, target, methodName, handler) {
var hbl = host.__boundListeners;
if (!hbl) {
hbl = host.__boundListeners = new WeakMap();
}
var bl = hbl.get(target);
if (!bl) {
bl = {};
hbl.set(target, bl);
}
var key = this._boundListenerKey(eventName, methodName);
bl[key] = handler;
},
_recallEventHandler: function (host, eventName, target, methodName) {
var hbl = host.__boundListeners;
if (!hbl) {
return;
}
var bl = hbl.get(target);
if (!bl) {
return;
}
var key = this._boundListenerKey(eventName, methodName);
return bl[key];
},
_createEventHandler: function (node, eventName, methodName) {
var host = this;
var handler = function (e) {
if (host[methodName]) {
host[methodName](e, e.detail);
} else {
host._warn(host._logf('_createEventHandler', 'listener method `' + methodName + '` not defined'));
}
};
handler._listening = false;
this._recordEventHandler(host, eventName, node, methodName, handler);
return handler;
},
unlisten: function (node, eventName, methodName) {
var handler = this._recallEventHandler(this, eventName, node, methodName);
if (handler) {
this._unlisten(node, eventName, handler);
handler._listening = false;
}
},
_listen: function (node, eventName, handler) {
node.addEventListener(eventName, handler);
},
_unlisten: function (node, eventName, handler) {
node.removeEventListener(eventName, handler);
}
});
(function () {
'use strict';
var wrap = Polymer.DomApi.wrap;
var HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';
var GESTURE_KEY = '__polymerGestures';
var HANDLED_OBJ = '__polymerGesturesHandled';
var TOUCH_ACTION = '__polymerGesturesTouchAction';
var TAP_DISTANCE = 25;
var TRACK_DISTANCE = 5;
var TRACK_LENGTH = 2;
var MOUSE_TIMEOUT = 2500;
var MOUSE_EVENTS = [
'mousedown',
'mousemove',
'mouseup',
'click'
];
var MOUSE_WHICH_TO_BUTTONS = [
0,
1,
4,
2
];
var MOUSE_HAS_BUTTONS = function () {
try {
return new MouseEvent('test', { buttons: 1 }).buttons === 1;
} catch (e) {
return false;
}
}();
var IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);
var mouseCanceller = function (mouseEvent) {
mouseEvent[HANDLED_OBJ] = { skip: true };
if (mouseEvent.type === 'click') {
var path = Polymer.dom(mouseEvent).path;
for (var i = 0; i < path.length; i++) {
if (path[i] === POINTERSTATE.mouse.target) {
return;
}
}
mouseEvent.preventDefault();
mouseEvent.stopPropagation();
}
};
function setupTeardownMouseCanceller(setup) {
for (var i = 0, en; i < MOUSE_EVENTS.length; i++) {
en = MOUSE_EVENTS[i];
if (setup) {
document.addEventListener(en, mouseCanceller, true);
} else {
document.removeEventListener(en, mouseCanceller, true);
}
}
}
function ignoreMouse() {
if (IS_TOUCH_ONLY) {
return;
}
if (!POINTERSTATE.mouse.mouseIgnoreJob) {
setupTeardownMouseCanceller(true);
}
var unset = function () {
setupTeardownMouseCanceller();
POINTERSTATE.mouse.target = null;
POINTERSTATE.mouse.mouseIgnoreJob = null;
};
POINTERSTATE.mouse.mouseIgnoreJob = Polymer.Debounce(POINTERSTATE.mouse.mouseIgnoreJob, unset, MOUSE_TIMEOUT);
}
function hasLeftMouseButton(ev) {
var type = ev.type;
if (MOUSE_EVENTS.indexOf(type) === -1) {
return false;
}
if (type === 'mousemove') {
var buttons = ev.buttons === undefined ? 1 : ev.buttons;
if (ev instanceof window.MouseEvent && !MOUSE_HAS_BUTTONS) {
buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;
}
return Boolean(buttons & 1);
} else {
var button = ev.button === undefined ? 0 : ev.button;
return button === 0;
}
}
function isSyntheticClick(ev) {
if (ev.type === 'click') {
if (ev.detail === 0) {
return true;
}
var t = Gestures.findOriginalTarget(ev);
var bcr = t.getBoundingClientRect();
var x = ev.pageX, y = ev.pageY;
return !(x >= bcr.left && x <= bcr.right && (y >= bcr.top && y <= bcr.bottom));
}
return false;
}
var POINTERSTATE = {
mouse: {
target: null,
mouseIgnoreJob: null
},
touch: {
x: 0,
y: 0,
id: -1,
scrollDecided: false
}
};
function firstTouchAction(ev) {
var path = Polymer.dom(ev).path;
var ta = 'auto';
for (var i = 0, n; i < path.length; i++) {
n = path[i];
if (n[TOUCH_ACTION]) {
ta = n[TOUCH_ACTION];
break;
}
}
return ta;
}
function trackDocument(stateObj, movefn, upfn) {
stateObj.movefn = movefn;
stateObj.upfn = upfn;
document.addEventListener('mousemove', movefn);
document.addEventListener('mouseup', upfn);
}
function untrackDocument(stateObj) {
document.removeEventListener('mousemove', stateObj.movefn);
document.removeEventListener('mouseup', stateObj.upfn);
stateObj.movefn = null;
stateObj.upfn = null;
}
var Gestures = {
gestures: {},
recognizers: [],
deepTargetFind: function (x, y) {
var node = document.elementFromPoint(x, y);
var next = node;
while (next && next.shadowRoot) {
next = next.shadowRoot.elementFromPoint(x, y);
if (next) {
node = next;
}
}
return node;
},
findOriginalTarget: function (ev) {
if (ev.path) {
return ev.path[0];
}
return ev.target;
},
handleNative: function (ev) {
var handled;
var type = ev.type;
var node = wrap(ev.currentTarget);
var gobj = node[GESTURE_KEY];
if (!gobj) {
return;
}
var gs = gobj[type];
if (!gs) {
return;
}
if (!ev[HANDLED_OBJ]) {
ev[HANDLED_OBJ] = {};
if (type.slice(0, 5) === 'touch') {
var t = ev.changedTouches[0];
if (type === 'touchstart') {
if (ev.touches.length === 1) {
POINTERSTATE.touch.id = t.identifier;
}
}
if (POINTERSTATE.touch.id !== t.identifier) {
return;
}
if (!HAS_NATIVE_TA) {
if (type === 'touchstart' || type === 'touchmove') {
Gestures.handleTouchAction(ev);
}
}
if (type === 'touchend') {
POINTERSTATE.mouse.target = Polymer.dom(ev).rootTarget;
ignoreMouse(true);
}
}
}
handled = ev[HANDLED_OBJ];
if (handled.skip) {
return;
}
var recognizers = Gestures.recognizers;
for (var i = 0, r; i < recognizers.length; i++) {
r = recognizers[i];
if (gs[r.name] && !handled[r.name]) {
if (r.flow && r.flow.start.indexOf(ev.type) > -1) {
if (r.reset) {
r.reset();
}
}
}
}
for (var i = 0, r; i < recognizers.length; i++) {
r = recognizers[i];
if (gs[r.name] && !handled[r.name]) {
handled[r.name] = true;
r[type](ev);
}
}
},
handleTouchAction: function (ev) {
var t = ev.changedTouches[0];
var type = ev.type;
if (type === 'touchstart') {
POINTERSTATE.touch.x = t.clientX;
POINTERSTATE.touch.y = t.clientY;
POINTERSTATE.touch.scrollDecided = false;
} else if (type === 'touchmove') {
if (POINTERSTATE.touch.scrollDecided) {
return;
}
POINTERSTATE.touch.scrollDecided = true;
var ta = firstTouchAction(ev);
var prevent = false;
var dx = Math.abs(POINTERSTATE.touch.x - t.clientX);
var dy = Math.abs(POINTERSTATE.touch.y - t.clientY);
if (!ev.cancelable) {
} else if (ta === 'none') {
prevent = true;
} else if (ta === 'pan-x') {
prevent = dy > dx;
} else if (ta === 'pan-y') {
prevent = dx > dy;
}
if (prevent) {
ev.preventDefault();
} else {
Gestures.prevent('track');
}
}
},
add: function (node, evType, handler) {
node = wrap(node);
var recognizer = this.gestures[evType];
var deps = recognizer.deps;
var name = recognizer.name;
var gobj = node[GESTURE_KEY];
if (!gobj) {
node[GESTURE_KEY] = gobj = {};
}
for (var i = 0, dep, gd; i < deps.length; i++) {
dep = deps[i];
if (IS_TOUCH_ONLY && MOUSE_EVENTS.indexOf(dep) > -1) {
continue;
}
gd = gobj[dep];
if (!gd) {
gobj[dep] = gd = { _count: 0 };
}
if (gd._count === 0) {
node.addEventListener(dep, this.handleNative);
}
gd[name] = (gd[name] || 0) + 1;
gd._count = (gd._count || 0) + 1;
}
node.addEventListener(evType, handler);
if (recognizer.touchAction) {
this.setTouchAction(node, recognizer.touchAction);
}
},
remove: function (node, evType, handler) {
node = wrap(node);
var recognizer = this.gestures[evType];
var deps = recognizer.deps;
var name = recognizer.name;
var gobj = node[GESTURE_KEY];
if (gobj) {
for (var i = 0, dep, gd; i < deps.length; i++) {
dep = deps[i];
gd = gobj[dep];
if (gd && gd[name]) {
gd[name] = (gd[name] || 1) - 1;
gd._count = (gd._count || 1) - 1;
if (gd._count === 0) {
node.removeEventListener(dep, this.handleNative);
}
}
}
}
node.removeEventListener(evType, handler);
},
register: function (recog) {
this.recognizers.push(recog);
for (var i = 0; i < recog.emits.length; i++) {
this.gestures[recog.emits[i]] = recog;
}
},
findRecognizerByEvent: function (evName) {
for (var i = 0, r; i < this.recognizers.length; i++) {
r = this.recognizers[i];
for (var j = 0, n; j < r.emits.length; j++) {
n = r.emits[j];
if (n === evName) {
return r;
}
}
}
return null;
},
setTouchAction: function (node, value) {
if (HAS_NATIVE_TA) {
node.style.touchAction = value;
}
node[TOUCH_ACTION] = value;
},
fire: function (target, type, detail) {
var ev = Polymer.Base.fire(type, detail, {
node: target,
bubbles: true,
cancelable: true
});
if (ev.defaultPrevented) {
var se = detail.sourceEvent;
if (se && se.preventDefault) {
se.preventDefault();
}
}
},
prevent: function (evName) {
var recognizer = this.findRecognizerByEvent(evName);
if (recognizer.info) {
recognizer.info.prevent = true;
}
}
};
Gestures.register({
name: 'downup',
deps: [
'mousedown',
'touchstart',
'touchend'
],
flow: {
start: [
'mousedown',
'touchstart'
],
end: [
'mouseup',
'touchend'
]
},
emits: [
'down',
'up'
],
info: {
movefn: null,
upfn: null
},
reset: function () {
untrackDocument(this.info);
},
mousedown: function (e) {
if (!hasLeftMouseButton(e)) {
return;
}
var t = Gestures.findOriginalTarget(e);
var self = this;
var movefn = function movefn(e) {
if (!hasLeftMouseButton(e)) {
self.fire('up', t, e);
untrackDocument(self.info);
}
};
var upfn = function upfn(e) {
if (hasLeftMouseButton(e)) {
self.fire('up', t, e);
}
untrackDocument(self.info);
};
trackDocument(this.info, movefn, upfn);
this.fire('down', t, e);
},
touchstart: function (e) {
this.fire('down', Gestures.findOriginalTarget(e), e.changedTouches[0]);
},
touchend: function (e) {
this.fire('up', Gestures.findOriginalTarget(e), e.changedTouches[0]);
},
fire: function (type, target, event) {
Gestures.fire(target, type, {
x: event.clientX,
y: event.clientY,
sourceEvent: event,
prevent: function (e) {
return Gestures.prevent(e);
}
});
}
});
Gestures.register({
name: 'track',
touchAction: 'none',
deps: [
'mousedown',
'touchstart',
'touchmove',
'touchend'
],
flow: {
start: [
'mousedown',
'touchstart'
],
end: [
'mouseup',
'touchend'
]
},
emits: ['track'],
info: {
x: 0,
y: 0,
state: 'start',
started: false,
moves: [],
addMove: function (move) {
if (this.moves.length > TRACK_LENGTH) {
this.moves.shift();
}
this.moves.push(move);
},
movefn: null,
upfn: null,
prevent: false
},
reset: function () {
this.info.state = 'start';
this.info.started = false;
this.info.moves = [];
this.info.x = 0;
this.info.y = 0;
this.info.prevent = false;
untrackDocument(this.info);
},
hasMovedEnough: function (x, y) {
if (this.info.prevent) {
return false;
}
if (this.info.started) {
return true;
}
var dx = Math.abs(this.info.x - x);
var dy = Math.abs(this.info.y - y);
return dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE;
},
mousedown: function (e) {
if (!hasLeftMouseButton(e)) {
return;
}
var t = Gestures.findOriginalTarget(e);
var self = this;
var movefn = function movefn(e) {
var x = e.clientX, y = e.clientY;
if (self.hasMovedEnough(x, y)) {
self.info.state = self.info.started ? e.type === 'mouseup' ? 'end' : 'track' : 'start';
self.info.addMove({
x: x,
y: y
});
if (!hasLeftMouseButton(e)) {
self.info.state = 'end';
untrackDocument(self.info);
}
self.fire(t, e);
self.info.started = true;
}
};
var upfn = function upfn(e) {
if (self.info.started) {
Gestures.prevent('tap');
movefn(e);
}
untrackDocument(self.info);
};
trackDocument(this.info, movefn, upfn);
this.info.x = e.clientX;
this.info.y = e.clientY;
},
touchstart: function (e) {
var ct = e.changedTouches[0];
this.info.x = ct.clientX;
this.info.y = ct.clientY;
},
touchmove: function (e) {
var t = Gestures.findOriginalTarget(e);
var ct = e.changedTouches[0];
var x = ct.clientX, y = ct.clientY;
if (this.hasMovedEnough(x, y)) {
this.info.addMove({
x: x,
y: y
});
this.fire(t, ct);
this.info.state = 'track';
this.info.started = true;
}
},
touchend: function (e) {
var t = Gestures.findOriginalTarget(e);
var ct = e.changedTouches[0];
if (this.info.started) {
Gestures.prevent('tap');
this.info.state = 'end';
this.info.addMove({
x: ct.clientX,
y: ct.clientY
});
this.fire(t, ct);
}
},
fire: function (target, touch) {
var secondlast = this.info.moves[this.info.moves.length - 2];
var lastmove = this.info.moves[this.info.moves.length - 1];
var dx = lastmove.x - this.info.x;
var dy = lastmove.y - this.info.y;
var ddx, ddy = 0;
if (secondlast) {
ddx = lastmove.x - secondlast.x;
ddy = lastmove.y - secondlast.y;
}
return Gestures.fire(target, 'track', {
state: this.info.state,
x: touch.clientX,
y: touch.clientY,
dx: dx,
dy: dy,
ddx: ddx,
ddy: ddy,
sourceEvent: touch,
hover: function () {
return Gestures.deepTargetFind(touch.clientX, touch.clientY);
}
});
}
});
Gestures.register({
name: 'tap',
deps: [
'mousedown',
'click',
'touchstart',
'touchend'
],
flow: {
start: [
'mousedown',
'touchstart'
],
end: [
'click',
'touchend'
]
},
emits: ['tap'],
info: {
x: NaN,
y: NaN,
prevent: false
},
reset: function () {
this.info.x = NaN;
this.info.y = NaN;
this.info.prevent = false;
},
save: function (e) {
this.info.x = e.clientX;
this.info.y = e.clientY;
},
mousedown: function (e) {
if (hasLeftMouseButton(e)) {
this.save(e);
}
},
click: function (e) {
if (hasLeftMouseButton(e)) {
this.forward(e);
}
},
touchstart: function (e) {
this.save(e.changedTouches[0]);
},
touchend: function (e) {
this.forward(e.changedTouches[0]);
},
forward: function (e) {
var dx = Math.abs(e.clientX - this.info.x);
var dy = Math.abs(e.clientY - this.info.y);
var t = Gestures.findOriginalTarget(e);
if (isNaN(dx) || isNaN(dy) || dx <= TAP_DISTANCE && dy <= TAP_DISTANCE || isSyntheticClick(e)) {
if (!this.info.prevent) {
Gestures.fire(t, 'tap', {
x: e.clientX,
y: e.clientY,
sourceEvent: e
});
}
}
}
});
var DIRECTION_MAP = {
x: 'pan-x',
y: 'pan-y',
none: 'none',
all: 'auto'
};
Polymer.Base._addFeature({
_setupGestures: function () {
this.__polymerGestures = null;
},
_listen: function (node, eventName, handler) {
if (Gestures.gestures[eventName]) {
Gestures.add(node, eventName, handler);
} else {
node.addEventListener(eventName, handler);
}
},
_unlisten: function (node, eventName, handler) {
if (Gestures.gestures[eventName]) {
Gestures.remove(node, eventName, handler);
} else {
node.removeEventListener(eventName, handler);
}
},
setScrollDirection: function (direction, node) {
node = node || this;
Gestures.setTouchAction(node, DIRECTION_MAP[direction] || 'auto');
}
});
Polymer.Gestures = Gestures;
}());
Polymer.Base._addFeature({
$$: function (slctr) {
return Polymer.dom(this.root).querySelector(slctr);
},
toggleClass: function (name, bool, node) {
node = node || this;
if (arguments.length == 1) {
bool = !node.classList.contains(name);
}
if (bool) {
Polymer.dom(node).classList.add(name);
} else {
Polymer.dom(node).classList.remove(name);
}
},
toggleAttribute: function (name, bool, node) {
node = node || this;
if (arguments.length == 1) {
bool = !node.hasAttribute(name);
}
if (bool) {
Polymer.dom(node).setAttribute(name, '');
} else {
Polymer.dom(node).removeAttribute(name);
}
},
classFollows: function (name, toElement, fromElement) {
if (fromElement) {
Polymer.dom(fromElement).classList.remove(name);
}
if (toElement) {
Polymer.dom(toElement).classList.add(name);
}
},
attributeFollows: function (name, toElement, fromElement) {
if (fromElement) {
Polymer.dom(fromElement).removeAttribute(name);
}
if (toElement) {
Polymer.dom(toElement).setAttribute(name, '');
}
},
getEffectiveChildNodes: function () {
return Polymer.dom(this).getEffectiveChildNodes();
},
getEffectiveChildren: function () {
var list = Polymer.dom(this).getEffectiveChildNodes();
return list.filter(function (n) {
return n.nodeType === Node.ELEMENT_NODE;
});
},
getEffectiveTextContent: function () {
var cn = this.getEffectiveChildNodes();
var tc = [];
for (var i = 0, c; c = cn[i]; i++) {
if (c.nodeType !== Node.COMMENT_NODE) {
tc.push(Polymer.dom(c).textContent);
}
}
return tc.join('');
},
queryEffectiveChildren: function (slctr) {
var e$ = Polymer.dom(this).queryDistributedElements(slctr);
return e$ && e$[0];
},
queryAllEffectiveChildren: function (slctr) {
return Polymer.dom(this).queryDistributedElements(slctr);
},
getContentChildNodes: function (slctr) {
var content = Polymer.dom(this.root).querySelector(slctr || 'content');
return content ? Polymer.dom(content).getDistributedNodes() : [];
},
getContentChildren: function (slctr) {
return this.getContentChildNodes(slctr).filter(function (n) {
return n.nodeType === Node.ELEMENT_NODE;
});
},
fire: function (type, detail, options) {
options = options || Polymer.nob;
var node = options.node || this;
var detail = detail === null || detail === undefined ? {} : detail;
var bubbles = options.bubbles === undefined ? true : options.bubbles;
var cancelable = Boolean(options.cancelable);
var useCache = options._useCache;
var event = this._getEvent(type, bubbles, cancelable, useCache);
event.detail = detail;
if (useCache) {
this.__eventCache[type] = null;
}
node.dispatchEvent(event);
if (useCache) {
this.__eventCache[type] = event;
}
return event;
},
__eventCache: {},
_getEvent: function (type, bubbles, cancelable, useCache) {
var event = useCache && this.__eventCache[type];
if (!event || (event.bubbles != bubbles || event.cancelable != cancelable)) {
event = new Event(type, {
bubbles: Boolean(bubbles),
cancelable: cancelable
});
}
return event;
},
async: function (callback, waitTime) {
var self = this;
return Polymer.Async.run(function () {
callback.call(self);
}, waitTime);
},
cancelAsync: function (handle) {
Polymer.Async.cancel(handle);
},
arrayDelete: function (path, item) {
var index;
if (Array.isArray(path)) {
index = path.indexOf(item);
if (index >= 0) {
return path.splice(index, 1);
}
} else {
var arr = this._get(path);
index = arr.indexOf(item);
if (index >= 0) {
return this.splice(path, index, 1);
}
}
},
transform: function (transform, node) {
node = node || this;
node.style.webkitTransform = transform;
node.style.transform = transform;
},
translate3d: function (x, y, z, node) {
node = node || this;
this.transform('translate3d(' + x + ',' + y + ',' + z + ')', node);
},
importHref: function (href, onload, onerror, optAsync) {
var l = document.createElement('link');
l.rel = 'import';
l.href = href;
optAsync = Boolean(optAsync);
if (optAsync) {
l.setAttribute('async', '');
}
var self = this;
if (onload) {
l.onload = function (e) {
return onload.call(self, e);
};
}
if (onerror) {
l.onerror = function (e) {
return onerror.call(self, e);
};
}
document.head.appendChild(l);
return l;
},
create: function (tag, props) {
var elt = document.createElement(tag);
if (props) {
for (var n in props) {
elt[n] = props[n];
}
}
return elt;
},
isLightDescendant: function (node) {
return this !== node && this.contains(node) && Polymer.dom(this).getOwnerRoot() === Polymer.dom(node).getOwnerRoot();
},
isLocalDescendant: function (node) {
return this.root === Polymer.dom(node).getOwnerRoot();
}
});
Polymer.Bind = {
_dataEventCache: {},
prepareModel: function (model) {
Polymer.Base.mixin(model, this._modelApi);
},
_modelApi: {
_notifyChange: function (source, event, value) {
value = value === undefined ? this[source] : value;
event = event || Polymer.CaseMap.camelToDashCase(source) + '-changed';
this.fire(event, { value: value }, {
bubbles: false,
cancelable: false,
_useCache: true
});
},
_propertySetter: function (property, value, effects, fromAbove) {
var old = this.__data__[property];
if (old !== value && (old === old || value === value)) {
this.__data__[property] = value;
if (typeof value == 'object') {
this._clearPath(property);
}
if (this._propertyChanged) {
this._propertyChanged(property, value, old);
}
if (effects) {
this._effectEffects(property, value, effects, old, fromAbove);
}
}
return old;
},
__setProperty: function (property, value, quiet, node) {
node = node || this;
var effects = node._propertyEffects && node._propertyEffects[property];
if (effects) {
node._propertySetter(property, value, effects, quiet);
} else {
node[property] = value;
}
},
_effectEffects: function (property, value, effects, old, fromAbove) {
for (var i = 0, l = effects.length, fx; i < l && (fx = effects[i]); i++) {
fx.fn.call(this, property, value, fx.effect, old, fromAbove);
}
},
_clearPath: function (path) {
for (var prop in this.__data__) {
if (prop.indexOf(path + '.') === 0) {
this.__data__[prop] = undefined;
}
}
}
},
ensurePropertyEffects: function (model, property) {
if (!model._propertyEffects) {
model._propertyEffects = {};
}
var fx = model._propertyEffects[property];
if (!fx) {
fx = model._propertyEffects[property] = [];
}
return fx;
},
addPropertyEffect: function (model, property, kind, effect) {
var fx = this.ensurePropertyEffects(model, property);
var propEffect = {
kind: kind,
effect: effect,
fn: Polymer.Bind['_' + kind + 'Effect']
};
fx.push(propEffect);
return propEffect;
},
createBindings: function (model) {
var fx$ = model._propertyEffects;
if (fx$) {
for (var n in fx$) {
var fx = fx$[n];
fx.sort(this._sortPropertyEffects);
this._createAccessors(model, n, fx);
}
}
},
_sortPropertyEffects: function () {
var EFFECT_ORDER = {
'compute': 0,
'annotation': 1,
'computedAnnotation': 2,
'reflect': 3,
'notify': 4,
'observer': 5,
'complexObserver': 6,
'function': 7
};
return function (a, b) {
return EFFECT_ORDER[a.kind] - EFFECT_ORDER[b.kind];
};
}(),
_createAccessors: function (model, property, effects) {
var defun = {
get: function () {
return this.__data__[property];
}
};
var setter = function (value) {
this._propertySetter(property, value, effects);
};
var info = model.getPropertyInfo && model.getPropertyInfo(property);
if (info && info.readOnly) {
if (!info.computed) {
model['_set' + this.upper(property)] = setter;
}
} else {
defun.set = setter;
}
Object.defineProperty(model, property, defun);
},
upper: function (name) {
return name[0].toUpperCase() + name.substring(1);
},
_addAnnotatedListener: function (model, index, property, path, event) {
if (!model._bindListeners) {
model._bindListeners = [];
}
var fn = this._notedListenerFactory(property, path, this._isStructured(path));
var eventName = event || Polymer.CaseMap.camelToDashCase(property) + '-changed';
model._bindListeners.push({
index: index,
property: property,
path: path,
changedFn: fn,
event: eventName
});
},
_isStructured: function (path) {
return path.indexOf('.') > 0;
},
_isEventBogus: function (e, target) {
return e.path && e.path[0] !== target;
},
_notedListenerFactory: function (property, path, isStructured) {
return function (target, value, targetPath) {
if (targetPath) {
this._notifyPath(this._fixPath(path, property, targetPath), value);
} else {
value = target[property];
if (!isStructured) {
this[path] = value;
} else {
if (this.__data__[path] != value) {
this.set(path, value);
}
}
}
};
},
prepareInstance: function (inst) {
inst.__data__ = Object.create(null);
},
setupBindListeners: function (inst) {
var b$ = inst._bindListeners;
for (var i = 0, l = b$.length, info; i < l && (info = b$[i]); i++) {
var node = inst._nodes[info.index];
this._addNotifyListener(node, inst, info.event, info.changedFn);
}
;
},
_addNotifyListener: function (element, context, event, changedFn) {
element.addEventListener(event, function (e) {
return context._notifyListener(changedFn, e);
});
}
};
Polymer.Base.extend(Polymer.Bind, {
_shouldAddListener: function (effect) {
return effect.name && effect.kind != 'attribute' && effect.kind != 'text' && !effect.isCompound && effect.parts[0].mode === '{' && !effect.parts[0].negate;
},
_annotationEffect: function (source, value, effect) {
if (source != effect.value) {
value = this._get(effect.value);
this.__data__[effect.value] = value;
}
var calc = effect.negate ? !value : value;
if (!effect.customEvent || this._nodes[effect.index][effect.name] !== calc) {
return this._applyEffectValue(effect, calc);
}
},
_reflectEffect: function (source, value, effect) {
this.reflectPropertyToAttribute(source, effect.attribute, value);
},
_notifyEffect: function (source, value, effect, old, fromAbove) {
if (!fromAbove) {
this._notifyChange(source, effect.event, value);
}
},
_functionEffect: function (source, value, fn, old, fromAbove) {
fn.call(this, source, value, old, fromAbove);
},
_observerEffect: function (source, value, effect, old) {
var fn = this[effect.method];
if (fn) {
fn.call(this, value, old);
} else {
this._warn(this._logf('_observerEffect', 'observer method `' + effect.method + '` not defined'));
}
},
_complexObserverEffect: function (source, value, effect) {
var fn = this[effect.method];
if (fn) {
var args = Polymer.Bind._marshalArgs(this.__data__, effect, source, value);
if (args) {
fn.apply(this, args);
}
} else {
this._warn(this._logf('_complexObserverEffect', 'observer method `' + effect.method + '` not defined'));
}
},
_computeEffect: function (source, value, effect) {
var args = Polymer.Bind._marshalArgs(this.__data__, effect, source, value);
if (args) {
var fn = this[effect.method];
if (fn) {
this.__setProperty(effect.name, fn.apply(this, args));
} else {
this._warn(this._logf('_computeEffect', 'compute method `' + effect.method + '` not defined'));
}
}
},
_annotatedComputationEffect: function (source, value, effect) {
var computedHost = this._rootDataHost || this;
var fn = computedHost[effect.method];
if (fn) {
var args = Polymer.Bind._marshalArgs(this.__data__, effect, source, value);
if (args) {
var computedvalue = fn.apply(computedHost, args);
if (effect.negate) {
computedvalue = !computedvalue;
}
this._applyEffectValue(effect, computedvalue);
}
} else {
computedHost._warn(computedHost._logf('_annotatedComputationEffect', 'compute method `' + effect.method + '` not defined'));
}
},
_marshalArgs: function (model, effect, path, value) {
var values = [];
var args = effect.args;
for (var i = 0, l = args.length; i < l; i++) {
var arg = args[i];
var name = arg.name;
var v;
if (arg.literal) {
v = arg.value;
} else if (arg.structured) {
v = Polymer.Base._get(name, model);
} else {
v = model[name];
}
if (args.length > 1 && v === undefined) {
return;
}
if (arg.wildcard) {
var baseChanged = name.indexOf(path + '.') === 0;
var matches = effect.trigger.name.indexOf(name) === 0 && !baseChanged;
values[i] = {
path: matches ? path : name,
value: matches ? value : v,
base: v
};
} else {
values[i] = v;
}
}
return values;
}
});
Polymer.Base._addFeature({
_addPropertyEffect: function (property, kind, effect) {
var prop = Polymer.Bind.addPropertyEffect(this, property, kind, effect);
prop.pathFn = this['_' + prop.kind + 'PathEffect'];
},
_prepEffects: function () {
Polymer.Bind.prepareModel(this);
this._addAnnotationEffects(this._notes);
},
_prepBindings: function () {
Polymer.Bind.createBindings(this);
},
_addPropertyEffects: function (properties) {
if (properties) {
for (var p in properties) {
var prop = properties[p];
if (prop.observer) {
this._addObserverEffect(p, prop.observer);
}
if (prop.computed) {
prop.readOnly = true;
this._addComputedEffect(p, prop.computed);
}
if (prop.notify) {
this._addPropertyEffect(p, 'notify', { event: Polymer.CaseMap.camelToDashCase(p) + '-changed' });
}
if (prop.reflectToAttribute) {
this._addPropertyEffect(p, 'reflect', { attribute: Polymer.CaseMap.camelToDashCase(p) });
}
if (prop.readOnly) {
Polymer.Bind.ensurePropertyEffects(this, p);
}
}
}
},
_addComputedEffect: function (name, expression) {
var sig = this._parseMethod(expression);
for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++) {
this._addPropertyEffect(arg.model, 'compute', {
method: sig.method,
args: sig.args,
trigger: arg,
name: name
});
}
},
_addObserverEffect: function (property, observer) {
this._addPropertyEffect(property, 'observer', {
method: observer,
property: property
});
},
_addComplexObserverEffects: function (observers) {
if (observers) {
for (var i = 0, o; i < observers.length && (o = observers[i]); i++) {
this._addComplexObserverEffect(o);
}
}
},
_addComplexObserverEffect: function (observer) {
var sig = this._parseMethod(observer);
if (!sig) {
throw new Error('Malformed observer expression \'' + observer + '\'');
}
for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++) {
this._addPropertyEffect(arg.model, 'complexObserver', {
method: sig.method,
args: sig.args,
trigger: arg
});
}
},
_addAnnotationEffects: function (notes) {
for (var i = 0, note; i < notes.length && (note = notes[i]); i++) {
var b$ = note.bindings;
for (var j = 0, binding; j < b$.length && (binding = b$[j]); j++) {
this._addAnnotationEffect(binding, i);
}
}
},
_addAnnotationEffect: function (note, index) {
if (Polymer.Bind._shouldAddListener(note)) {
Polymer.Bind._addAnnotatedListener(this, index, note.name, note.parts[0].value, note.parts[0].event);
}
for (var i = 0; i < note.parts.length; i++) {
var part = note.parts[i];
if (part.signature) {
this._addAnnotatedComputationEffect(note, part, index);
} else if (!part.literal) {
this._addPropertyEffect(part.model, 'annotation', {
kind: note.kind,
index: index,
name: note.name,
value: part.value,
isCompound: note.isCompound,
compoundIndex: part.compoundIndex,
event: part.event,
customEvent: part.customEvent,
negate: part.negate
});
}
}
},
_addAnnotatedComputationEffect: function (note, part, index) {
var sig = part.signature;
if (sig.static) {
this.__addAnnotatedComputationEffect('__static__', index, note, part, null);
} else {
for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++) {
if (!arg.literal) {
this.__addAnnotatedComputationEffect(arg.model, index, note, part, arg);
}
}
}
},
__addAnnotatedComputationEffect: function (property, index, note, part, trigger) {
this._addPropertyEffect(property, 'annotatedComputation', {
index: index,
isCompound: note.isCompound,
compoundIndex: part.compoundIndex,
kind: note.kind,
name: note.name,
negate: part.negate,
method: part.signature.method,
args: part.signature.args,
trigger: trigger
});
},
_parseMethod: function (expression) {
var m = expression.match(/([^\s]+?)\((.*)\)/);
if (m) {
var sig = {
method: m[1],
static: true
};
if (m[2].trim()) {
var args = m[2].replace(/\\,/g, '&comma;').split(',');
return this._parseArgs(args, sig);
} else {
sig.args = Polymer.nar;
return sig;
}
}
},
_parseArgs: function (argList, sig) {
sig.args = argList.map(function (rawArg) {
var arg = this._parseArg(rawArg);
if (!arg.literal) {
sig.static = false;
}
return arg;
}, this);
return sig;
},
_parseArg: function (rawArg) {
var arg = rawArg.trim().replace(/&comma;/g, ',').replace(/\\(.)/g, '$1');
var a = { name: arg };
var fc = arg[0];
if (fc === '-') {
fc = arg[1];
}
if (fc >= '0' && fc <= '9') {
fc = '#';
}
switch (fc) {
case '\'':
case '"':
a.value = arg.slice(1, -1);
a.literal = true;
break;
case '#':
a.value = Number(arg);
a.literal = true;
break;
}
if (!a.literal) {
a.model = this._modelForPath(arg);
a.structured = arg.indexOf('.') > 0;
if (a.structured) {
a.wildcard = arg.slice(-2) == '.*';
if (a.wildcard) {
a.name = arg.slice(0, -2);
}
}
}
return a;
},
_marshalInstanceEffects: function () {
Polymer.Bind.prepareInstance(this);
if (this._bindListeners) {
Polymer.Bind.setupBindListeners(this);
}
},
_applyEffectValue: function (info, value) {
var node = this._nodes[info.index];
var property = info.name;
if (info.isCompound) {
var storage = node.__compoundStorage__[property];
storage[info.compoundIndex] = value;
value = storage.join('');
}
if (info.kind == 'attribute') {
this.serializeValueToAttribute(value, property, node);
} else {
if (property === 'className') {
value = this._scopeElementClass(node, value);
}
if (property === 'textContent' || node.localName == 'input' && property == 'value') {
value = value == undefined ? '' : value;
}
var pinfo;
if (!node._propertyInfo || !(pinfo = node._propertyInfo[property]) || !pinfo.readOnly) {
this.__setProperty(property, value, false, node);
}
}
},
_executeStaticEffects: function () {
if (this._propertyEffects && this._propertyEffects.__static__) {
this._effectEffects('__static__', null, this._propertyEffects.__static__);
}
}
});
Polymer.Base._addFeature({
_setupConfigure: function (initialConfig) {
this._config = {};
this._handlers = [];
this._aboveConfig = null;
if (initialConfig) {
for (var i in initialConfig) {
if (initialConfig[i] !== undefined) {
this._config[i] = initialConfig[i];
}
}
}
},
_marshalAttributes: function () {
this._takeAttributesToModel(this._config);
},
_attributeChangedImpl: function (name) {
var model = this._clientsReadied ? this : this._config;
this._setAttributeToProperty(model, name);
},
_configValue: function (name, value) {
var info = this._propertyInfo[name];
if (!info || !info.readOnly) {
this._config[name] = value;
}
},
_beforeClientsReady: function () {
this._configure();
},
_configure: function () {
this._configureAnnotationReferences();
this._aboveConfig = this.mixin({}, this._config);
var config = {};
for (var i = 0; i < this.behaviors.length; i++) {
this._configureProperties(this.behaviors[i].properties, config);
}
this._configureProperties(this.properties, config);
this.mixin(config, this._aboveConfig);
this._config = config;
if (this._clients && this._clients.length) {
this._distributeConfig(this._config);
}
},
_configureProperties: function (properties, config) {
for (var i in properties) {
var c = properties[i];
if (c.value !== undefined) {
var value = c.value;
if (typeof value == 'function') {
value = value.call(this, this._config);
}
config[i] = value;
}
}
},
_distributeConfig: function (config) {
var fx$ = this._propertyEffects;
if (fx$) {
for (var p in config) {
var fx = fx$[p];
if (fx) {
for (var i = 0, l = fx.length, x; i < l && (x = fx[i]); i++) {
if (x.kind === 'annotation' && !x.isCompound) {
var node = this._nodes[x.effect.index];
if (node._configValue) {
var value = p === x.effect.value ? config[p] : this._get(x.effect.value, config);
node._configValue(x.effect.name, value);
}
}
}
}
}
}
},
_afterClientsReady: function () {
this._executeStaticEffects();
this._applyConfig(this._config, this._aboveConfig);
this._flushHandlers();
},
_applyConfig: function (config, aboveConfig) {
for (var n in config) {
if (this[n] === undefined) {
this.__setProperty(n, config[n], n in aboveConfig);
}
}
},
_notifyListener: function (fn, e) {
if (!Polymer.Bind._isEventBogus(e, e.target)) {
var value, path;
if (e.detail) {
value = e.detail.value;
path = e.detail.path;
}
if (!this._clientsReadied) {
this._queueHandler([
fn,
e.target,
value,
path
]);
} else {
return fn.call(this, e.target, value, path);
}
}
},
_queueHandler: function (args) {
this._handlers.push(args);
},
_flushHandlers: function () {
var h$ = this._handlers;
for (var i = 0, l = h$.length, h; i < l && (h = h$[i]); i++) {
h[0].call(this, h[1], h[2], h[3]);
}
this._handlers = [];
}
});
(function () {
'use strict';
Polymer.Base._addFeature({
notifyPath: function (path, value, fromAbove) {
var info = {};
this._get(path, this, info);
if (info.path) {
this._notifyPath(info.path, value, fromAbove);
}
},
_notifyPath: function (path, value, fromAbove) {
var old = this._propertySetter(path, value);
if (old !== value && (old === old || value === value)) {
this._pathEffector(path, value);
if (!fromAbove) {
this._notifyPathUp(path, value);
}
return true;
}
},
_getPathParts: function (path) {
if (Array.isArray(path)) {
var parts = [];
for (var i = 0; i < path.length; i++) {
var args = path[i].toString().split('.');
for (var j = 0; j < args.length; j++) {
parts.push(args[j]);
}
}
return parts;
} else {
return path.toString().split('.');
}
},
set: function (path, value, root) {
var prop = root || this;
var parts = this._getPathParts(path);
var array;
var last = parts[parts.length - 1];
if (parts.length > 1) {
for (var i = 0; i < parts.length - 1; i++) {
var part = parts[i];
if (array && part[0] == '#') {
prop = Polymer.Collection.get(array).getItem(part);
} else {
prop = prop[part];
if (array && parseInt(part, 10) == part) {
parts[i] = Polymer.Collection.get(array).getKey(prop);
}
}
if (!prop) {
return;
}
array = Array.isArray(prop) ? prop : null;
}
if (array) {
var coll = Polymer.Collection.get(array);
if (last[0] == '#') {
var key = last;
var old = coll.getItem(key);
last = array.indexOf(old);
coll.setItem(key, value);
} else if (parseInt(last, 10) == last) {
var old = prop[last];
var key = coll.getKey(old);
parts[i] = key;
coll.setItem(key, value);
}
}
prop[last] = value;
if (!root) {
this._notifyPath(parts.join('.'), value);
}
} else {
prop[path] = value;
}
},
get: function (path, root) {
return this._get(path, root);
},
_get: function (path, root, info) {
var prop = root || this;
var parts = this._getPathParts(path);
var array;
for (var i = 0; i < parts.length; i++) {
if (!prop) {
return;
}
var part = parts[i];
if (array && part[0] == '#') {
prop = Polymer.Collection.get(array).getItem(part);
} else {
prop = prop[part];
if (info && array && parseInt(part, 10) == part) {
parts[i] = Polymer.Collection.get(array).getKey(prop);
}
}
array = Array.isArray(prop) ? prop : null;
}
if (info) {
info.path = parts.join('.');
}
return prop;
},
_pathEffector: function (path, value) {
var model = this._modelForPath(path);
var fx$ = this._propertyEffects && this._propertyEffects[model];
if (fx$) {
for (var i = 0, fx; i < fx$.length && (fx = fx$[i]); i++) {
var fxFn = fx.pathFn;
if (fxFn) {
fxFn.call(this, path, value, fx.effect);
}
}
}
if (this._boundPaths) {
this._notifyBoundPaths(path, value);
}
},
_annotationPathEffect: function (path, value, effect) {
if (effect.value === path || effect.value.indexOf(path + '.') === 0) {
Polymer.Bind._annotationEffect.call(this, path, value, effect);
} else if (path.indexOf(effect.value + '.') === 0 && !effect.negate) {
var node = this._nodes[effect.index];
if (node && node._notifyPath) {
var p = this._fixPath(effect.name, effect.value, path);
node._notifyPath(p, value, true);
}
}
},
_complexObserverPathEffect: function (path, value, effect) {
if (this._pathMatchesEffect(path, effect)) {
Polymer.Bind._complexObserverEffect.call(this, path, value, effect);
}
},
_computePathEffect: function (path, value, effect) {
if (this._pathMatchesEffect(path, effect)) {
Polymer.Bind._computeEffect.call(this, path, value, effect);
}
},
_annotatedComputationPathEffect: function (path, value, effect) {
if (this._pathMatchesEffect(path, effect)) {
Polymer.Bind._annotatedComputationEffect.call(this, path, value, effect);
}
},
_pathMatchesEffect: function (path, effect) {
var effectArg = effect.trigger.name;
return effectArg == path || effectArg.indexOf(path + '.') === 0 || effect.trigger.wildcard && path.indexOf(effectArg) === 0;
},
linkPaths: function (to, from) {
this._boundPaths = this._boundPaths || {};
if (from) {
this._boundPaths[to] = from;
} else {
this.unlinkPaths(to);
}
},
unlinkPaths: function (path) {
if (this._boundPaths) {
delete this._boundPaths[path];
}
},
_notifyBoundPaths: function (path, value) {
for (var a in this._boundPaths) {
var b = this._boundPaths[a];
if (path.indexOf(a + '.') == 0) {
this._notifyPath(this._fixPath(b, a, path), value);
} else if (path.indexOf(b + '.') == 0) {
this._notifyPath(this._fixPath(a, b, path), value);
}
}
},
_fixPath: function (property, root, path) {
return property + path.slice(root.length);
},
_notifyPathUp: function (path, value) {
var rootName = this._modelForPath(path);
var dashCaseName = Polymer.CaseMap.camelToDashCase(rootName);
var eventName = dashCaseName + this._EVENT_CHANGED;
this.fire(eventName, {
path: path,
value: value
}, {
bubbles: false,
_useCache: true
});
},
_modelForPath: function (path) {
var dot = path.indexOf('.');
return dot < 0 ? path : path.slice(0, dot);
},
_EVENT_CHANGED: '-changed',
notifySplices: function (path, splices) {
var info = {};
var array = this._get(path, this, info);
this._notifySplices(array, info.path, splices);
},
_notifySplices: function (array, path, splices) {
var change = {
keySplices: Polymer.Collection.applySplices(array, splices),
indexSplices: splices
};
if (!array.hasOwnProperty('splices')) {
Object.defineProperty(array, 'splices', {
configurable: true,
writable: true
});
}
array.splices = change;
this._notifyPath(path + '.splices', change);
this._notifyPath(path + '.length', array.length);
change.keySplices = null;
change.indexSplices = null;
},
_notifySplice: function (array, path, index, added, removed) {
this._notifySplices(array, path, [{
index: index,
addedCount: added,
removed: removed,
object: array,
type: 'splice'
}]);
},
push: function (path) {
var info = {};
var array = this._get(path, this, info);
var args = Array.prototype.slice.call(arguments, 1);
var len = array.length;
var ret = array.push.apply(array, args);
if (args.length) {
this._notifySplice(array, info.path, len, args.length, []);
}
return ret;
},
pop: function (path) {
var info = {};
var array = this._get(path, this, info);
var hadLength = Boolean(array.length);
var args = Array.prototype.slice.call(arguments, 1);
var ret = array.pop.apply(array, args);
if (hadLength) {
this._notifySplice(array, info.path, array.length, 0, [ret]);
}
return ret;
},
splice: function (path, start, deleteCount) {
var info = {};
var array = this._get(path, this, info);
if (start < 0) {
start = array.length - Math.floor(-start);
} else {
start = Math.floor(start);
}
if (!start) {
start = 0;
}
var args = Array.prototype.slice.call(arguments, 1);
var ret = array.splice.apply(array, args);
var addedCount = Math.max(args.length - 2, 0);
if (addedCount || ret.length) {
this._notifySplice(array, info.path, start, addedCount, ret);
}
return ret;
},
shift: function (path) {
var info = {};
var array = this._get(path, this, info);
var hadLength = Boolean(array.length);
var args = Array.prototype.slice.call(arguments, 1);
var ret = array.shift.apply(array, args);
if (hadLength) {
this._notifySplice(array, info.path, 0, 0, [ret]);
}
return ret;
},
unshift: function (path) {
var info = {};
var array = this._get(path, this, info);
var args = Array.prototype.slice.call(arguments, 1);
var ret = array.unshift.apply(array, args);
if (args.length) {
this._notifySplice(array, info.path, 0, args.length, []);
}
return ret;
},
prepareModelNotifyPath: function (model) {
this.mixin(model, {
fire: Polymer.Base.fire,
_getEvent: Polymer.Base._getEvent,
__eventCache: Polymer.Base.__eventCache,
notifyPath: Polymer.Base.notifyPath,
_get: Polymer.Base._get,
_EVENT_CHANGED: Polymer.Base._EVENT_CHANGED,
_notifyPath: Polymer.Base._notifyPath,
_notifyPathUp: Polymer.Base._notifyPathUp,
_pathEffector: Polymer.Base._pathEffector,
_annotationPathEffect: Polymer.Base._annotationPathEffect,
_complexObserverPathEffect: Polymer.Base._complexObserverPathEffect,
_annotatedComputationPathEffect: Polymer.Base._annotatedComputationPathEffect,
_computePathEffect: Polymer.Base._computePathEffect,
_modelForPath: Polymer.Base._modelForPath,
_pathMatchesEffect: Polymer.Base._pathMatchesEffect,
_notifyBoundPaths: Polymer.Base._notifyBoundPaths,
_getPathParts: Polymer.Base._getPathParts
});
}
});
}());
Polymer.Base._addFeature({
resolveUrl: function (url) {
var module = Polymer.DomModule.import(this.is);
var root = '';
if (module) {
var assetPath = module.getAttribute('assetpath') || '';
root = Polymer.ResolveUrl.resolveUrl(assetPath, module.ownerDocument.baseURI);
}
return Polymer.ResolveUrl.resolveUrl(url, root);
}
});
Polymer.CssParse = function () {
return {
parse: function (text) {
text = this._clean(text);
return this._parseCss(this._lex(text), text);
},
_clean: function (cssText) {
return cssText.replace(this._rx.comments, '').replace(this._rx.port, '');
},
_lex: function (text) {
var root = {
start: 0,
end: text.length
};
var n = root;
for (var i = 0, l = text.length; i < l; i++) {
switch (text[i]) {
case this.OPEN_BRACE:
if (!n.rules) {
n.rules = [];
}
var p = n;
var previous = p.rules[p.rules.length - 1];
n = {
start: i + 1,
parent: p,
previous: previous
};
p.rules.push(n);
break;
case this.CLOSE_BRACE:
n.end = i + 1;
n = n.parent || root;
break;
}
}
return root;
},
_parseCss: function (node, text) {
var t = text.substring(node.start, node.end - 1);
node.parsedCssText = node.cssText = t.trim();
if (node.parent) {
var ss = node.previous ? node.previous.end : node.parent.start;
t = text.substring(ss, node.start - 1);
t = this._expandUnicodeEscapes(t);
t = t.replace(this._rx.multipleSpaces, ' ');
t = t.substring(t.lastIndexOf(';') + 1);
var s = node.parsedSelector = node.selector = t.trim();
node.atRule = s.indexOf(this.AT_START) === 0;
if (node.atRule) {
if (s.indexOf(this.MEDIA_START) === 0) {
node.type = this.types.MEDIA_RULE;
} else if (s.match(this._rx.keyframesRule)) {
node.type = this.types.KEYFRAMES_RULE;
}
} else {
if (s.indexOf(this.VAR_START) === 0) {
node.type = this.types.MIXIN_RULE;
} else {
node.type = this.types.STYLE_RULE;
}
}
}
var r$ = node.rules;
if (r$) {
for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {
this._parseCss(r, text);
}
}
return node;
},
_expandUnicodeEscapes: function (s) {
return s.replace(/\\([0-9a-f]{1,6})\s/gi, function () {
var code = arguments[1], repeat = 6 - code.length;
while (repeat--) {
code = '0' + code;
}
return '\\' + code;
});
},
stringify: function (node, preserveProperties, text) {
text = text || '';
var cssText = '';
if (node.cssText || node.rules) {
var r$ = node.rules;
if (r$ && (preserveProperties || !this._hasMixinRules(r$))) {
for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {
cssText = this.stringify(r, preserveProperties, cssText);
}
} else {
cssText = preserveProperties ? node.cssText : this.removeCustomProps(node.cssText);
cssText = cssText.trim();
if (cssText) {
cssText = '  ' + cssText + '\n';
}
}
}
if (cssText) {
if (node.selector) {
text += node.selector + ' ' + this.OPEN_BRACE + '\n';
}
text += cssText;
if (node.selector) {
text += this.CLOSE_BRACE + '\n\n';
}
}
return text;
},
_hasMixinRules: function (rules) {
return rules[0].selector.indexOf(this.VAR_START) === 0;
},
removeCustomProps: function (cssText) {
cssText = this.removeCustomPropAssignment(cssText);
return this.removeCustomPropApply(cssText);
},
removeCustomPropAssignment: function (cssText) {
return cssText.replace(this._rx.customProp, '').replace(this._rx.mixinProp, '');
},
removeCustomPropApply: function (cssText) {
return cssText.replace(this._rx.mixinApply, '').replace(this._rx.varApply, '');
},
types: {
STYLE_RULE: 1,
KEYFRAMES_RULE: 7,
MEDIA_RULE: 4,
MIXIN_RULE: 1000
},
OPEN_BRACE: '{',
CLOSE_BRACE: '}',
_rx: {
comments: /\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,
port: /@import[^;]*;/gim,
customProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,
mixinProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,
mixinApply: /@apply[\s]*\([^)]*?\)[\s]*(?:[;\n]|$)?/gim,
varApply: /[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,
keyframesRule: /^@[^\s]*keyframes/,
multipleSpaces: /\s+/g
},
VAR_START: '--',
MEDIA_START: '@media',
AT_START: '@'
};
}();
Polymer.StyleUtil = function () {
return {
MODULE_STYLES_SELECTOR: 'style, link[rel=import][type~=css], template',
INCLUDE_ATTR: 'include',
toCssText: function (rules, callback, preserveProperties) {
if (typeof rules === 'string') {
rules = this.parser.parse(rules);
}
if (callback) {
this.forEachStyleRule(rules, callback);
}
return this.parser.stringify(rules, preserveProperties);
},
forRulesInStyles: function (styles, callback) {
if (styles) {
for (var i = 0, l = styles.length, s; i < l && (s = styles[i]); i++) {
this.forEachStyleRule(this.rulesForStyle(s), callback);
}
}
},
rulesForStyle: function (style) {
if (!style.__cssRules && style.textContent) {
style.__cssRules = this.parser.parse(style.textContent);
}
return style.__cssRules;
},
forEachStyleRule: function (node, callback) {
if (!node) {
return;
}
var skipRules = false;
if (node.type === this.ruleTypes.STYLE_RULE) {
callback(node);
} else if (node.type === this.ruleTypes.KEYFRAMES_RULE || node.type === this.ruleTypes.MIXIN_RULE) {
skipRules = true;
}
var r$ = node.rules;
if (r$ && !skipRules) {
for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {
this.forEachStyleRule(r, callback);
}
}
},
applyCss: function (cssText, moniker, target, afterNode) {
var style = document.createElement('style');
if (moniker) {
style.setAttribute('scope', moniker);
}
style.textContent = cssText;
target = target || document.head;
if (!afterNode) {
var n$ = target.querySelectorAll('style[scope]');
afterNode = n$[n$.length - 1];
}
target.insertBefore(style, afterNode && afterNode.nextSibling || target.firstChild);
return style;
},
cssFromModules: function (moduleIds, warnIfNotFound) {
var modules = moduleIds.trim().split(' ');
var cssText = '';
for (var i = 0; i < modules.length; i++) {
cssText += this.cssFromModule(modules[i], warnIfNotFound);
}
return cssText;
},
cssFromModule: function (moduleId, warnIfNotFound) {
var m = Polymer.DomModule.import(moduleId);
if (m && !m._cssText) {
m._cssText = this.cssFromElement(m);
}
if (!m && warnIfNotFound) {
console.warn('Could not find style data in module named', moduleId);
}
return m && m._cssText || '';
},
cssFromElement: function (element) {
var cssText = '';
var content = element.content || element;
var e$ = Polymer.TreeApi.arrayCopy(content.querySelectorAll(this.MODULE_STYLES_SELECTOR));
for (var i = 0, e; i < e$.length; i++) {
e = e$[i];
if (e.localName === 'template') {
cssText += this.cssFromElement(e);
} else {
if (e.localName === 'style') {
var include = e.getAttribute(this.INCLUDE_ATTR);
if (include) {
cssText += this.cssFromModules(include, true);
}
e = e.__appliedElement || e;
e.parentNode.removeChild(e);
cssText += this.resolveCss(e.textContent, element.ownerDocument);
} else if (e.import && e.import.body) {
cssText += this.resolveCss(e.import.body.textContent, e.import);
}
}
}
return cssText;
},
resolveCss: Polymer.ResolveUrl.resolveCss,
parser: Polymer.CssParse,
ruleTypes: Polymer.CssParse.types
};
}();
Polymer.StyleTransformer = function () {
var nativeShadow = Polymer.Settings.useNativeShadow;
var styleUtil = Polymer.StyleUtil;
var api = {
dom: function (node, scope, useAttr, shouldRemoveScope) {
this._transformDom(node, scope || '', useAttr, shouldRemoveScope);
},
_transformDom: function (node, selector, useAttr, shouldRemoveScope) {
if (node.setAttribute) {
this.element(node, selector, useAttr, shouldRemoveScope);
}
var c$ = Polymer.dom(node).childNodes;
for (var i = 0; i < c$.length; i++) {
this._transformDom(c$[i], selector, useAttr, shouldRemoveScope);
}
},
element: function (element, scope, useAttr, shouldRemoveScope) {
if (useAttr) {
if (shouldRemoveScope) {
element.removeAttribute(SCOPE_NAME);
} else {
element.setAttribute(SCOPE_NAME, scope);
}
} else {
if (scope) {
if (element.classList) {
if (shouldRemoveScope) {
element.classList.remove(SCOPE_NAME);
element.classList.remove(scope);
} else {
element.classList.add(SCOPE_NAME);
element.classList.add(scope);
}
} else if (element.getAttribute) {
var c = element.getAttribute(CLASS);
if (shouldRemoveScope) {
if (c) {
element.setAttribute(CLASS, c.replace(SCOPE_NAME, '').replace(scope, ''));
}
} else {
element.setAttribute(CLASS, (c ? c + ' ' : '') + SCOPE_NAME + ' ' + scope);
}
}
}
}
},
elementStyles: function (element, callback) {
var styles = element._styles;
var cssText = '';
for (var i = 0, l = styles.length, s; i < l && (s = styles[i]); i++) {
var rules = styleUtil.rulesForStyle(s);
cssText += nativeShadow ? styleUtil.toCssText(rules, callback) : this.css(rules, element.is, element.extends, callback, element._scopeCssViaAttr) + '\n\n';
}
return cssText.trim();
},
css: function (rules, scope, ext, callback, useAttr) {
var hostScope = this._calcHostScope(scope, ext);
scope = this._calcElementScope(scope, useAttr);
var self = this;
return styleUtil.toCssText(rules, function (rule) {
if (!rule.isScoped) {
self.rule(rule, scope, hostScope);
rule.isScoped = true;
}
if (callback) {
callback(rule, scope, hostScope);
}
});
},
_calcElementScope: function (scope, useAttr) {
if (scope) {
return useAttr ? CSS_ATTR_PREFIX + scope + CSS_ATTR_SUFFIX : CSS_CLASS_PREFIX + scope;
} else {
return '';
}
},
_calcHostScope: function (scope, ext) {
return ext ? '[is=' + scope + ']' : scope;
},
rule: function (rule, scope, hostScope) {
this._transformRule(rule, this._transformComplexSelector, scope, hostScope);
},
_transformRule: function (rule, transformer, scope, hostScope) {
var p$ = rule.selector.split(COMPLEX_SELECTOR_SEP);
for (var i = 0, l = p$.length, p; i < l && (p = p$[i]); i++) {
p$[i] = transformer.call(this, p, scope, hostScope);
}
rule.selector = rule.transformedSelector = p$.join(COMPLEX_SELECTOR_SEP);
},
_transformComplexSelector: function (selector, scope, hostScope) {
var stop = false;
var hostContext = false;
var self = this;
selector = selector.replace(SIMPLE_SELECTOR_SEP, function (m, c, s) {
if (!stop) {
var info = self._transformCompoundSelector(s, c, scope, hostScope);
stop = stop || info.stop;
hostContext = hostContext || info.hostContext;
c = info.combinator;
s = info.value;
} else {
s = s.replace(SCOPE_JUMP, ' ');
}
return c + s;
});
if (hostContext) {
selector = selector.replace(HOST_CONTEXT_PAREN, function (m, pre, paren, post) {
return pre + paren + ' ' + hostScope + post + COMPLEX_SELECTOR_SEP + ' ' + pre + hostScope + paren + post;
});
}
return selector;
},
_transformCompoundSelector: function (selector, combinator, scope, hostScope) {
var jumpIndex = selector.search(SCOPE_JUMP);
var hostContext = false;
if (selector.indexOf(HOST_CONTEXT) >= 0) {
hostContext = true;
} else if (selector.indexOf(HOST) >= 0) {
selector = selector.replace(HOST_PAREN, function (m, host, paren) {
return hostScope + paren;
});
selector = selector.replace(HOST, hostScope);
} else if (jumpIndex !== 0) {
selector = scope ? this._transformSimpleSelector(selector, scope) : selector;
}
if (selector.indexOf(CONTENT) >= 0) {
combinator = '';
}
var stop;
if (jumpIndex >= 0) {
selector = selector.replace(SCOPE_JUMP, ' ');
stop = true;
}
return {
value: selector,
combinator: combinator,
stop: stop,
hostContext: hostContext
};
},
_transformSimpleSelector: function (selector, scope) {
var p$ = selector.split(PSEUDO_PREFIX);
p$[0] += scope;
return p$.join(PSEUDO_PREFIX);
},
documentRule: function (rule) {
rule.selector = rule.parsedSelector;
this.normalizeRootSelector(rule);
if (!nativeShadow) {
this._transformRule(rule, this._transformDocumentSelector);
}
},
normalizeRootSelector: function (rule) {
if (rule.selector === ROOT) {
rule.selector = 'body';
}
},
_transformDocumentSelector: function (selector) {
return selector.match(SCOPE_JUMP) ? this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR) : this._transformSimpleSelector(selector.trim(), SCOPE_DOC_SELECTOR);
},
SCOPE_NAME: 'style-scope'
};
var SCOPE_NAME = api.SCOPE_NAME;
var SCOPE_DOC_SELECTOR = ':not([' + SCOPE_NAME + '])' + ':not(.' + SCOPE_NAME + ')';
var COMPLEX_SELECTOR_SEP = ',';
var SIMPLE_SELECTOR_SEP = /(^|[\s>+~]+)([^\s>+~]+)/g;
var HOST = ':host';
var ROOT = ':root';
var HOST_PAREN = /(\:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;
var HOST_CONTEXT = ':host-context';
var HOST_CONTEXT_PAREN = /(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/;
var CONTENT = '::content';
var SCOPE_JUMP = /::content|::shadow|\/deep\//;
var CSS_CLASS_PREFIX = '.';
var CSS_ATTR_PREFIX = '[' + SCOPE_NAME + '~=';
var CSS_ATTR_SUFFIX = ']';
var PSEUDO_PREFIX = ':';
var CLASS = 'class';
return api;
}();
Polymer.StyleExtends = function () {
var styleUtil = Polymer.StyleUtil;
return {
hasExtends: function (cssText) {
return Boolean(cssText.match(this.rx.EXTEND));
},
transform: function (style) {
var rules = styleUtil.rulesForStyle(style);
var self = this;
styleUtil.forEachStyleRule(rules, function (rule) {
var map = self._mapRule(rule);
if (rule.parent) {
var m;
while (m = self.rx.EXTEND.exec(rule.cssText)) {
var extend = m[1];
var extendor = self._findExtendor(extend, rule);
if (extendor) {
self._extendRule(rule, extendor);
}
}
}
rule.cssText = rule.cssText.replace(self.rx.EXTEND, '');
});
return styleUtil.toCssText(rules, function (rule) {
if (rule.selector.match(self.rx.STRIP)) {
rule.cssText = '';
}
}, true);
},
_mapRule: function (rule) {
if (rule.parent) {
var map = rule.parent.map || (rule.parent.map = {});
var parts = rule.selector.split(',');
for (var i = 0, p; i < parts.length; i++) {
p = parts[i];
map[p.trim()] = rule;
}
return map;
}
},
_findExtendor: function (extend, rule) {
return rule.parent && rule.parent.map && rule.parent.map[extend] || this._findExtendor(extend, rule.parent);
},
_extendRule: function (target, source) {
if (target.parent !== source.parent) {
this._cloneAndAddRuleToParent(source, target.parent);
}
target.extends = target.extends || [];
target.extends.push(source);
source.selector = source.selector.replace(this.rx.STRIP, '');
source.selector = (source.selector && source.selector + ',\n') + target.selector;
if (source.extends) {
source.extends.forEach(function (e) {
this._extendRule(target, e);
}, this);
}
},
_cloneAndAddRuleToParent: function (rule, parent) {
rule = Object.create(rule);
rule.parent = parent;
if (rule.extends) {
rule.extends = rule.extends.slice();
}
parent.rules.push(rule);
},
rx: {
EXTEND: /@extends\(([^)]*)\)\s*?;/gim,
STRIP: /%[^,]*$/
}
};
}();
(function () {
var prepElement = Polymer.Base._prepElement;
var nativeShadow = Polymer.Settings.useNativeShadow;
var styleUtil = Polymer.StyleUtil;
var styleTransformer = Polymer.StyleTransformer;
var styleExtends = Polymer.StyleExtends;
Polymer.Base._addFeature({
_prepElement: function (element) {
if (this._encapsulateStyle) {
styleTransformer.element(element, this.is, this._scopeCssViaAttr);
}
prepElement.call(this, element);
},
_prepStyles: function () {
if (this._encapsulateStyle === undefined) {
this._encapsulateStyle = !nativeShadow && Boolean(this._template);
}
if (this._template) {
this._styles = this._collectStyles();
var cssText = styleTransformer.elementStyles(this);
if (cssText) {
var style = styleUtil.applyCss(cssText, this.is, nativeShadow ? this._template.content : null);
if (!nativeShadow) {
this._scopeStyle = style;
}
}
} else {
this._styles = [];
}
},
_collectStyles: function () {
var styles = [];
var cssText = '', m$ = this.styleModules;
if (m$) {
for (var i = 0, l = m$.length, m; i < l && (m = m$[i]); i++) {
cssText += styleUtil.cssFromModule(m);
}
}
cssText += styleUtil.cssFromModule(this.is);
var p = this._template && this._template.parentNode;
if (this._template && (!p || p.id.toLowerCase() !== this.is)) {
cssText += styleUtil.cssFromElement(this._template);
}
if (cssText) {
var style = document.createElement('style');
style.textContent = cssText;
if (styleExtends.hasExtends(style.textContent)) {
cssText = styleExtends.transform(style);
}
styles.push(style);
}
return styles;
},
_elementAdd: function (node) {
if (this._encapsulateStyle) {
if (node.__styleScoped) {
node.__styleScoped = false;
} else {
styleTransformer.dom(node, this.is, this._scopeCssViaAttr);
}
}
},
_elementRemove: function (node) {
if (this._encapsulateStyle) {
styleTransformer.dom(node, this.is, this._scopeCssViaAttr, true);
}
},
scopeSubtree: function (container, shouldObserve) {
if (nativeShadow) {
return;
}
var self = this;
var scopify = function (node) {
if (node.nodeType === Node.ELEMENT_NODE) {
var className = node.getAttribute('class');
node.setAttribute('class', self._scopeElementClass(node, className));
var n$ = node.querySelectorAll('*');
for (var i = 0, n; i < n$.length && (n = n$[i]); i++) {
className = n.getAttribute('class');
n.setAttribute('class', self._scopeElementClass(n, className));
}
}
};
scopify(container);
if (shouldObserve) {
var mo = new MutationObserver(function (mxns) {
for (var i = 0, m; i < mxns.length && (m = mxns[i]); i++) {
if (m.addedNodes) {
for (var j = 0; j < m.addedNodes.length; j++) {
scopify(m.addedNodes[j]);
}
}
}
});
mo.observe(container, {
childList: true,
subtree: true
});
return mo;
}
}
});
}());
Polymer.StyleProperties = function () {
'use strict';
var nativeShadow = Polymer.Settings.useNativeShadow;
var matchesSelector = Polymer.DomApi.matchesSelector;
var styleUtil = Polymer.StyleUtil;
var styleTransformer = Polymer.StyleTransformer;
return {
decorateStyles: function (styles) {
var self = this, props = {};
styleUtil.forRulesInStyles(styles, function (rule) {
self.decorateRule(rule);
self.collectPropertiesInCssText(rule.propertyInfo.cssText, props);
});
var names = [];
for (var i in props) {
names.push(i);
}
return names;
},
decorateRule: function (rule) {
if (rule.propertyInfo) {
return rule.propertyInfo;
}
var info = {}, properties = {};
var hasProperties = this.collectProperties(rule, properties);
if (hasProperties) {
info.properties = properties;
rule.rules = null;
}
info.cssText = this.collectCssText(rule);
rule.propertyInfo = info;
return info;
},
collectProperties: function (rule, properties) {
var info = rule.propertyInfo;
if (info) {
if (info.properties) {
Polymer.Base.mixin(properties, info.properties);
return true;
}
} else {
var m, rx = this.rx.VAR_ASSIGN;
var cssText = rule.parsedCssText;
var any;
while (m = rx.exec(cssText)) {
properties[m[1]] = (m[2] || m[3]).trim();
any = true;
}
return any;
}
},
collectCssText: function (rule) {
var customCssText = '';
var cssText = rule.parsedCssText;
cssText = cssText.replace(this.rx.BRACKETED, '').replace(this.rx.VAR_ASSIGN, '');
var parts = cssText.split(';');
for (var i = 0, p; i < parts.length; i++) {
p = parts[i];
if (p.match(this.rx.MIXIN_MATCH) || p.match(this.rx.VAR_MATCH)) {
customCssText += p + ';\n';
}
}
return customCssText;
},
collectPropertiesInCssText: function (cssText, props) {
var m;
while (m = this.rx.VAR_CAPTURE.exec(cssText)) {
props[m[1]] = true;
var def = m[2];
if (def && def.match(this.rx.IS_VAR)) {
props[def] = true;
}
}
},
reify: function (props) {
var names = Object.getOwnPropertyNames(props);
for (var i = 0, n; i < names.length; i++) {
n = names[i];
props[n] = this.valueForProperty(props[n], props);
}
},
valueForProperty: function (property, props) {
if (property) {
if (property.indexOf(';') >= 0) {
property = this.valueForProperties(property, props);
} else {
var self = this;
var fn = function (all, prefix, value, fallback) {
var propertyValue = self.valueForProperty(props[value], props) || (props[fallback] ? self.valueForProperty(props[fallback], props) : fallback);
return prefix + (propertyValue || '');
};
property = property.replace(this.rx.VAR_MATCH, fn);
}
}
return property && property.trim() || '';
},
valueForProperties: function (property, props) {
var parts = property.split(';');
for (var i = 0, p, m; i < parts.length; i++) {
if (p = parts[i]) {
m = p.match(this.rx.MIXIN_MATCH);
if (m) {
p = this.valueForProperty(props[m[1]], props);
} else {
var pp = p.split(':');
if (pp[1]) {
pp[1] = pp[1].trim();
pp[1] = this.valueForProperty(pp[1], props) || pp[1];
}
p = pp.join(':');
}
parts[i] = p && p.lastIndexOf(';') === p.length - 1 ? p.slice(0, -1) : p || '';
}
}
return parts.join(';');
},
applyProperties: function (rule, props) {
var output = '';
if (!rule.propertyInfo) {
this.decorateRule(rule);
}
if (rule.propertyInfo.cssText) {
output = this.valueForProperties(rule.propertyInfo.cssText, props);
}
rule.cssText = output;
},
propertyDataFromStyles: function (styles, element) {
var props = {}, self = this;
var o = [], i = 0;
styleUtil.forRulesInStyles(styles, function (rule) {
if (!rule.propertyInfo) {
self.decorateRule(rule);
}
if (element && rule.propertyInfo.properties && matchesSelector.call(element, rule.transformedSelector || rule.parsedSelector)) {
self.collectProperties(rule, props);
addToBitMask(i, o);
}
i++;
});
return {
properties: props,
key: o
};
},
scopePropertiesFromStyles: function (styles) {
if (!styles._scopeStyleProperties) {
styles._scopeStyleProperties = this.selectedPropertiesFromStyles(styles, this.SCOPE_SELECTORS);
}
return styles._scopeStyleProperties;
},
hostPropertiesFromStyles: function (styles) {
if (!styles._hostStyleProperties) {
styles._hostStyleProperties = this.selectedPropertiesFromStyles(styles, this.HOST_SELECTORS);
}
return styles._hostStyleProperties;
},
selectedPropertiesFromStyles: function (styles, selectors) {
var props = {}, self = this;
styleUtil.forRulesInStyles(styles, function (rule) {
if (!rule.propertyInfo) {
self.decorateRule(rule);
}
for (var i = 0; i < selectors.length; i++) {
if (rule.parsedSelector === selectors[i]) {
self.collectProperties(rule, props);
return;
}
}
});
return props;
},
transformStyles: function (element, properties, scopeSelector) {
var self = this;
var hostSelector = styleTransformer._calcHostScope(element.is, element.extends);
var rxHostSelector = element.extends ? '\\' + hostSelector.slice(0, -1) + '\\]' : hostSelector;
var hostRx = new RegExp(this.rx.HOST_PREFIX + rxHostSelector + this.rx.HOST_SUFFIX);
return styleTransformer.elementStyles(element, function (rule) {
self.applyProperties(rule, properties);
if (rule.cssText && !nativeShadow) {
self._scopeSelector(rule, hostRx, hostSelector, element._scopeCssViaAttr, scopeSelector);
}
});
},
_scopeSelector: function (rule, hostRx, hostSelector, viaAttr, scopeId) {
rule.transformedSelector = rule.transformedSelector || rule.selector;
var selector = rule.transformedSelector;
var scope = viaAttr ? '[' + styleTransformer.SCOPE_NAME + '~=' + scopeId + ']' : '.' + scopeId;
var parts = selector.split(',');
for (var i = 0, l = parts.length, p; i < l && (p = parts[i]); i++) {
parts[i] = p.match(hostRx) ? p.replace(hostSelector, hostSelector + scope) : scope + ' ' + p;
}
rule.selector = parts.join(',');
},
applyElementScopeSelector: function (element, selector, old, viaAttr) {
var c = viaAttr ? element.getAttribute(styleTransformer.SCOPE_NAME) : element.getAttribute('class') || '';
var v = old ? c.replace(old, selector) : (c ? c + ' ' : '') + this.XSCOPE_NAME + ' ' + selector;
if (c !== v) {
if (viaAttr) {
element.setAttribute(styleTransformer.SCOPE_NAME, v);
} else {
element.setAttribute('class', v);
}
}
},
applyElementStyle: function (element, properties, selector, style) {
var cssText = style ? style.textContent || '' : this.transformStyles(element, properties, selector);
var s = element._customStyle;
if (s && !nativeShadow && s !== style) {
s._useCount--;
if (s._useCount <= 0 && s.parentNode) {
s.parentNode.removeChild(s);
}
}
if (nativeShadow || (!style || !style.parentNode)) {
if (nativeShadow && element._customStyle) {
element._customStyle.textContent = cssText;
style = element._customStyle;
} else if (cssText) {
style = styleUtil.applyCss(cssText, selector, nativeShadow ? element.root : null, element._scopeStyle);
}
}
if (style) {
style._useCount = style._useCount || 0;
if (element._customStyle != style) {
style._useCount++;
}
element._customStyle = style;
}
return style;
},
mixinCustomStyle: function (props, customStyle) {
var v;
for (var i in customStyle) {
v = customStyle[i];
if (v || v === 0) {
props[i] = v;
}
}
},
rx: {
VAR_ASSIGN: /(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
MIXIN_MATCH: /(?:^|\W+)@apply[\s]*\(([^)]*)\)/i,
VAR_MATCH: /(^|\W+)var\([\s]*([^,)]*)[\s]*,?[\s]*((?:[^,)]*)|(?:[^;]*\([^;)]*\)))[\s]*?\)/gi,
VAR_CAPTURE: /\([\s]*(--[^,\s)]*)(?:,[\s]*(--[^,\s)]*))?(?:\)|,)/gi,
IS_VAR: /^--/,
BRACKETED: /\{[^}]*\}/g,
HOST_PREFIX: '(?:^|[^.#[:])',
HOST_SUFFIX: '($|[.:[\\s>+~])'
},
HOST_SELECTORS: [':host'],
SCOPE_SELECTORS: [':root'],
XSCOPE_NAME: 'x-scope'
};
function addToBitMask(n, bits) {
var o = parseInt(n / 32);
var v = 1 << n % 32;
bits[o] = (bits[o] || 0) | v;
}
}();
(function () {
Polymer.StyleCache = function () {
this.cache = {};
};
Polymer.StyleCache.prototype = {
MAX: 100,
store: function (is, data, keyValues, keyStyles) {
data.keyValues = keyValues;
data.styles = keyStyles;
var s$ = this.cache[is] = this.cache[is] || [];
s$.push(data);
if (s$.length > this.MAX) {
s$.shift();
}
},
retrieve: function (is, keyValues, keyStyles) {
var cache = this.cache[is];
if (cache) {
for (var i = cache.length - 1, data; i >= 0; i--) {
data = cache[i];
if (keyStyles === data.styles && this._objectsEqual(keyValues, data.keyValues)) {
return data;
}
}
}
},
clear: function () {
this.cache = {};
},
_objectsEqual: function (target, source) {
var t, s;
for (var i in target) {
t = target[i], s = source[i];
if (!(typeof t === 'object' && t ? this._objectsStrictlyEqual(t, s) : t === s)) {
return false;
}
}
if (Array.isArray(target)) {
return target.length === source.length;
}
return true;
},
_objectsStrictlyEqual: function (target, source) {
return this._objectsEqual(target, source) && this._objectsEqual(source, target);
}
};
}());
Polymer.StyleDefaults = function () {
var styleProperties = Polymer.StyleProperties;
var styleUtil = Polymer.StyleUtil;
var StyleCache = Polymer.StyleCache;
var api = {
_styles: [],
_properties: null,
customStyle: {},
_styleCache: new StyleCache(),
addStyle: function (style) {
this._styles.push(style);
this._properties = null;
},
get _styleProperties() {
if (!this._properties) {
styleProperties.decorateStyles(this._styles);
this._styles._scopeStyleProperties = null;
this._properties = styleProperties.scopePropertiesFromStyles(this._styles);
styleProperties.mixinCustomStyle(this._properties, this.customStyle);
styleProperties.reify(this._properties);
}
return this._properties;
},
_needsStyleProperties: function () {
},
_computeStyleProperties: function () {
return this._styleProperties;
},
updateStyles: function (properties) {
this._properties = null;
if (properties) {
Polymer.Base.mixin(this.customStyle, properties);
}
this._styleCache.clear();
for (var i = 0, s; i < this._styles.length; i++) {
s = this._styles[i];
s = s.__importElement || s;
s._apply();
}
}
};
return api;
}();
(function () {
'use strict';
var serializeValueToAttribute = Polymer.Base.serializeValueToAttribute;
var propertyUtils = Polymer.StyleProperties;
var styleTransformer = Polymer.StyleTransformer;
var styleUtil = Polymer.StyleUtil;
var styleDefaults = Polymer.StyleDefaults;
var nativeShadow = Polymer.Settings.useNativeShadow;
Polymer.Base._addFeature({
_prepStyleProperties: function () {
this._ownStylePropertyNames = this._styles ? propertyUtils.decorateStyles(this._styles) : null;
},
customStyle: null,
getComputedStyleValue: function (property) {
return this._styleProperties && this._styleProperties[property] || getComputedStyle(this).getPropertyValue(property);
},
_setupStyleProperties: function () {
this.customStyle = {};
this._styleCache = null;
this._styleProperties = null;
this._scopeSelector = null;
this._ownStyleProperties = null;
this._customStyle = null;
},
_needsStyleProperties: function () {
return Boolean(this._ownStylePropertyNames && this._ownStylePropertyNames.length);
},
_beforeAttached: function () {
if (!this._scopeSelector && this._needsStyleProperties()) {
this._updateStyleProperties();
}
},
_findStyleHost: function () {
var e = this, root;
while (root = Polymer.dom(e).getOwnerRoot()) {
if (Polymer.isInstance(root.host)) {
return root.host;
}
e = root.host;
}
return styleDefaults;
},
_updateStyleProperties: function () {
var info, scope = this._findStyleHost();
if (!scope._styleCache) {
scope._styleCache = new Polymer.StyleCache();
}
var scopeData = propertyUtils.propertyDataFromStyles(scope._styles, this);
scopeData.key.customStyle = this.customStyle;
info = scope._styleCache.retrieve(this.is, scopeData.key, this._styles);
var scopeCached = Boolean(info);
if (scopeCached) {
this._styleProperties = info._styleProperties;
} else {
this._computeStyleProperties(scopeData.properties);
}
this._computeOwnStyleProperties();
if (!scopeCached) {
info = styleCache.retrieve(this.is, this._ownStyleProperties, this._styles);
}
var globalCached = Boolean(info) && !scopeCached;
var style = this._applyStyleProperties(info);
if (!scopeCached) {
style = style && nativeShadow ? style.cloneNode(true) : style;
info = {
style: style,
_scopeSelector: this._scopeSelector,
_styleProperties: this._styleProperties
};
scopeData.key.customStyle = {};
this.mixin(scopeData.key.customStyle, this.customStyle);
scope._styleCache.store(this.is, info, scopeData.key, this._styles);
if (!globalCached) {
styleCache.store(this.is, Object.create(info), this._ownStyleProperties, this._styles);
}
}
},
_computeStyleProperties: function (scopeProps) {
var scope = this._findStyleHost();
if (!scope._styleProperties) {
scope._computeStyleProperties();
}
var props = Object.create(scope._styleProperties);
this.mixin(props, propertyUtils.hostPropertiesFromStyles(this._styles));
scopeProps = scopeProps || propertyUtils.propertyDataFromStyles(scope._styles, this).properties;
this.mixin(props, scopeProps);
this.mixin(props, propertyUtils.scopePropertiesFromStyles(this._styles));
propertyUtils.mixinCustomStyle(props, this.customStyle);
propertyUtils.reify(props);
this._styleProperties = props;
},
_computeOwnStyleProperties: function () {
var props = {};
for (var i = 0, n; i < this._ownStylePropertyNames.length; i++) {
n = this._ownStylePropertyNames[i];
props[n] = this._styleProperties[n];
}
this._ownStyleProperties = props;
},
_scopeCount: 0,
_applyStyleProperties: function (info) {
var oldScopeSelector = this._scopeSelector;
this._scopeSelector = info ? info._scopeSelector : this.is + '-' + this.__proto__._scopeCount++;
var style = propertyUtils.applyElementStyle(this, this._styleProperties, this._scopeSelector, info && info.style);
if (!nativeShadow) {
propertyUtils.applyElementScopeSelector(this, this._scopeSelector, oldScopeSelector, this._scopeCssViaAttr);
}
return style;
},
serializeValueToAttribute: function (value, attribute, node) {
node = node || this;
if (attribute === 'class' && !nativeShadow) {
var host = node === this ? this.domHost || this.dataHost : this;
if (host) {
value = host._scopeElementClass(node, value);
}
}
node = this.shadyRoot && this.shadyRoot._hasDistributed ? Polymer.dom(node) : node;
serializeValueToAttribute.call(this, value, attribute, node);
},
_scopeElementClass: function (element, selector) {
if (!nativeShadow && !this._scopeCssViaAttr) {
selector += (selector ? ' ' : '') + SCOPE_NAME + ' ' + this.is + (element._scopeSelector ? ' ' + XSCOPE_NAME + ' ' + element._scopeSelector : '');
}
return selector;
},
updateStyles: function (properties) {
if (this.isAttached) {
if (properties) {
this.mixin(this.customStyle, properties);
}
if (this._needsStyleProperties()) {
this._updateStyleProperties();
} else {
this._styleProperties = null;
}
if (this._styleCache) {
this._styleCache.clear();
}
this._updateRootStyles();
}
},
_updateRootStyles: function (root) {
root = root || this.root;
var c$ = Polymer.dom(root)._query(function (e) {
return e.shadyRoot || e.shadowRoot;
});
for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) {
if (c.updateStyles) {
c.updateStyles();
}
}
}
});
Polymer.updateStyles = function (properties) {
styleDefaults.updateStyles(properties);
Polymer.Base._updateRootStyles(document);
};
var styleCache = new Polymer.StyleCache();
Polymer.customStyleCache = styleCache;
var SCOPE_NAME = styleTransformer.SCOPE_NAME;
var XSCOPE_NAME = propertyUtils.XSCOPE_NAME;
}());
Polymer.Base._addFeature({
_registerFeatures: function () {
this._prepIs();
this._prepConstructor();
this._prepTemplate();
this._prepStyles();
this._prepStyleProperties();
this._prepAnnotations();
this._prepEffects();
this._prepBehaviors();
this._prepPropertyInfo();
this._prepBindings();
this._prepShady();
},
_prepBehavior: function (b) {
this._addPropertyEffects(b.properties);
this._addComplexObserverEffects(b.observers);
this._addHostAttributes(b.hostAttributes);
},
_initFeatures: function () {
this._setupGestures();
this._setupConfigure();
this._setupStyleProperties();
this._setupDebouncers();
this._setupShady();
this._registerHost();
if (this._template) {
this._poolContent();
this._beginHosting();
this._stampTemplate();
this._endHosting();
this._marshalAnnotationReferences();
}
this._marshalInstanceEffects();
this._marshalBehaviors();
this._marshalHostAttributes();
this._marshalAttributes();
this._tryReady();
},
_marshalBehavior: function (b) {
if (b.listeners) {
this._listenListeners(b.listeners);
}
}
});
(function () {
var nativeShadow = Polymer.Settings.useNativeShadow;
var propertyUtils = Polymer.StyleProperties;
var styleUtil = Polymer.StyleUtil;
var cssParse = Polymer.CssParse;
var styleDefaults = Polymer.StyleDefaults;
var styleTransformer = Polymer.StyleTransformer;
Polymer({
is: 'custom-style',
extends: 'style',
_template: null,
properties: { include: String },
ready: function () {
this._tryApply();
},
attached: function () {
this._tryApply();
},
_tryApply: function () {
if (!this._appliesToDocument) {
if (this.parentNode && this.parentNode.localName !== 'dom-module') {
this._appliesToDocument = true;
var e = this.__appliedElement || this;
styleDefaults.addStyle(e);
if (e.textContent || this.include) {
this._apply(true);
} else {
var self = this;
var observer = new MutationObserver(function () {
observer.disconnect();
self._apply(true);
});
observer.observe(e, { childList: true });
}
}
}
},
_apply: function (deferProperties) {
var e = this.__appliedElement || this;
if (this.include) {
e.textContent = styleUtil.cssFromModules(this.include, true) + e.textContent;
}
if (e.textContent) {
styleUtil.forEachStyleRule(styleUtil.rulesForStyle(e), function (rule) {
styleTransformer.documentRule(rule);
});
var self = this;
var fn = function fn() {
self._applyCustomProperties(e);
};
if (this._pendingApplyProperties) {
cancelAnimationFrame(this._pendingApplyProperties);
this._pendingApplyProperties = null;
}
if (deferProperties) {
this._pendingApplyProperties = requestAnimationFrame(fn);
} else {
fn();
}
}
},
_applyCustomProperties: function (element) {
this._computeStyleProperties();
var props = this._styleProperties;
var rules = styleUtil.rulesForStyle(element);
element.textContent = styleUtil.toCssText(rules, function (rule) {
var css = rule.cssText = rule.parsedCssText;
if (rule.propertyInfo && rule.propertyInfo.cssText) {
css = cssParse.removeCustomPropAssignment(css);
rule.cssText = propertyUtils.valueForProperties(css, props);
}
});
}
});
}());
Polymer.Templatizer = {
properties: { __hideTemplateChildren__: { observer: '_showHideChildren' } },
_instanceProps: Polymer.nob,
_parentPropPrefix: '_parent_',
templatize: function (template) {
this._templatized = template;
if (!template._content) {
template._content = template.content;
}
if (template._content._ctor) {
this.ctor = template._content._ctor;
this._prepParentProperties(this.ctor.prototype, template);
return;
}
var archetype = Object.create(Polymer.Base);
this._customPrepAnnotations(archetype, template);
this._prepParentProperties(archetype, template);
archetype._prepEffects();
this._customPrepEffects(archetype);
archetype._prepBehaviors();
archetype._prepPropertyInfo();
archetype._prepBindings();
archetype._notifyPathUp = this._notifyPathUpImpl;
archetype._scopeElementClass = this._scopeElementClassImpl;
archetype.listen = this._listenImpl;
archetype._showHideChildren = this._showHideChildrenImpl;
archetype.__setPropertyOrig = this.__setProperty;
archetype.__setProperty = this.__setPropertyImpl;
var _constructor = this._constructorImpl;
var ctor = function TemplateInstance(model, host) {
_constructor.call(this, model, host);
};
ctor.prototype = archetype;
archetype.constructor = ctor;
template._content._ctor = ctor;
this.ctor = ctor;
},
_getRootDataHost: function () {
return this.dataHost && this.dataHost._rootDataHost || this.dataHost;
},
_showHideChildrenImpl: function (hide) {
var c = this._children;
for (var i = 0; i < c.length; i++) {
var n = c[i];
if (Boolean(hide) != Boolean(n.__hideTemplateChildren__)) {
if (n.nodeType === Node.TEXT_NODE) {
if (hide) {
n.__polymerTextContent__ = n.textContent;
n.textContent = '';
} else {
n.textContent = n.__polymerTextContent__;
}
} else if (n.style) {
if (hide) {
n.__polymerDisplay__ = n.style.display;
n.style.display = 'none';
} else {
n.style.display = n.__polymerDisplay__;
}
}
}
n.__hideTemplateChildren__ = hide;
}
},
__setPropertyImpl: function (property, value, fromAbove, node) {
if (node && node.__hideTemplateChildren__ && property == 'textContent') {
property = '__polymerTextContent__';
}
this.__setPropertyOrig(property, value, fromAbove, node);
},
_debounceTemplate: function (fn) {
Polymer.dom.addDebouncer(this.debounce('_debounceTemplate', fn));
},
_flushTemplates: function (debouncerExpired) {
Polymer.dom.flush();
},
_customPrepEffects: function (archetype) {
var parentProps = archetype._parentProps;
for (var prop in parentProps) {
archetype._addPropertyEffect(prop, 'function', this._createHostPropEffector(prop));
}
for (var prop in this._instanceProps) {
archetype._addPropertyEffect(prop, 'function', this._createInstancePropEffector(prop));
}
},
_customPrepAnnotations: function (archetype, template) {
archetype._template = template;
var c = template._content;
if (!c._notes) {
var rootDataHost = archetype._rootDataHost;
if (rootDataHost) {
Polymer.Annotations.prepElement = function () {
rootDataHost._prepElement();
};
}
c._notes = Polymer.Annotations.parseAnnotations(template);
Polymer.Annotations.prepElement = null;
this._processAnnotations(c._notes);
}
archetype._notes = c._notes;
archetype._parentProps = c._parentProps;
},
_prepParentProperties: function (archetype, template) {
var parentProps = this._parentProps = archetype._parentProps;
if (this._forwardParentProp && parentProps) {
var proto = archetype._parentPropProto;
var prop;
if (!proto) {
for (prop in this._instanceProps) {
delete parentProps[prop];
}
proto = archetype._parentPropProto = Object.create(null);
if (template != this) {
Polymer.Bind.prepareModel(proto);
Polymer.Base.prepareModelNotifyPath(proto);
}
for (prop in parentProps) {
var parentProp = this._parentPropPrefix + prop;
var effects = [
{
kind: 'function',
effect: this._createForwardPropEffector(prop),
fn: Polymer.Bind._functionEffect
},
{
kind: 'notify',
fn: Polymer.Bind._notifyEffect,
effect: { event: Polymer.CaseMap.camelToDashCase(parentProp) + '-changed' }
}
];
Polymer.Bind._createAccessors(proto, parentProp, effects);
}
}
var self = this;
if (template != this) {
Polymer.Bind.prepareInstance(template);
template._forwardParentProp = function (source, value) {
self._forwardParentProp(source, value);
};
}
this._extendTemplate(template, proto);
template._pathEffector = function (path, value, fromAbove) {
return self._pathEffectorImpl(path, value, fromAbove);
};
}
},
_createForwardPropEffector: function (prop) {
return function (source, value) {
this._forwardParentProp(prop, value);
};
},
_createHostPropEffector: function (prop) {
var prefix = this._parentPropPrefix;
return function (source, value) {
this.dataHost._templatized[prefix + prop] = value;
};
},
_createInstancePropEffector: function (prop) {
return function (source, value, old, fromAbove) {
if (!fromAbove) {
this.dataHost._forwardInstanceProp(this, prop, value);
}
};
},
_extendTemplate: function (template, proto) {
var n$ = Object.getOwnPropertyNames(proto);
for (var i = 0, n; i < n$.length && (n = n$[i]); i++) {
var val = template[n];
var pd = Object.getOwnPropertyDescriptor(proto, n);
Object.defineProperty(template, n, pd);
if (val !== undefined) {
template._propertySetter(n, val);
}
}
},
_showHideChildren: function (hidden) {
},
_forwardInstancePath: function (inst, path, value) {
},
_forwardInstanceProp: function (inst, prop, value) {
},
_notifyPathUpImpl: function (path, value) {
var dataHost = this.dataHost;
var dot = path.indexOf('.');
var root = dot < 0 ? path : path.slice(0, dot);
dataHost._forwardInstancePath.call(dataHost, this, path, value);
if (root in dataHost._parentProps) {
dataHost._templatized.notifyPath(dataHost._parentPropPrefix + path, value);
}
},
_pathEffectorImpl: function (path, value, fromAbove) {
if (this._forwardParentPath) {
if (path.indexOf(this._parentPropPrefix) === 0) {
var subPath = path.substring(this._parentPropPrefix.length);
var model = this._modelForPath(subPath);
if (model in this._parentProps) {
this._forwardParentPath(subPath, value);
}
}
}
Polymer.Base._pathEffector.call(this._templatized, path, value, fromAbove);
},
_constructorImpl: function (model, host) {
this._rootDataHost = host._getRootDataHost();
this._setupConfigure(model);
this._registerHost(host);
this._beginHosting();
this.root = this.instanceTemplate(this._template);
this.root.__noContent = !this._notes._hasContent;
this.root.__styleScoped = true;
this._endHosting();
this._marshalAnnotatedNodes();
this._marshalInstanceEffects();
this._marshalAnnotatedListeners();
var children = [];
for (var n = this.root.firstChild; n; n = n.nextSibling) {
children.push(n);
n._templateInstance = this;
}
this._children = children;
if (host.__hideTemplateChildren__) {
this._showHideChildren(true);
}
this._tryReady();
},
_listenImpl: function (node, eventName, methodName) {
var model = this;
var host = this._rootDataHost;
var handler = host._createEventHandler(node, eventName, methodName);
var decorated = function (e) {
e.model = model;
handler(e);
};
host._listen(node, eventName, decorated);
},
_scopeElementClassImpl: function (node, value) {
var host = this._rootDataHost;
if (host) {
return host._scopeElementClass(node, value);
}
},
stamp: function (model) {
model = model || {};
if (this._parentProps) {
var templatized = this._templatized;
for (var prop in this._parentProps) {
model[prop] = templatized[this._parentPropPrefix + prop];
}
}
return new this.ctor(model, this);
},
modelForElement: function (el) {
var model;
while (el) {
if (model = el._templateInstance) {
if (model.dataHost != this) {
el = model.dataHost;
} else {
return model;
}
} else {
el = el.parentNode;
}
}
}
};
Polymer({
is: 'dom-template',
extends: 'template',
_template: null,
behaviors: [Polymer.Templatizer],
ready: function () {
this.templatize(this);
}
});
Polymer._collections = new WeakMap();
Polymer.Collection = function (userArray) {
Polymer._collections.set(userArray, this);
this.userArray = userArray;
this.store = userArray.slice();
this.initMap();
};
Polymer.Collection.prototype = {
constructor: Polymer.Collection,
initMap: function () {
var omap = this.omap = new WeakMap();
var pmap = this.pmap = {};
var s = this.store;
for (var i = 0; i < s.length; i++) {
var item = s[i];
if (item && typeof item == 'object') {
omap.set(item, i);
} else {
pmap[item] = i;
}
}
},
add: function (item) {
var key = this.store.push(item) - 1;
if (item && typeof item == 'object') {
this.omap.set(item, key);
} else {
this.pmap[item] = key;
}
return '#' + key;
},
removeKey: function (key) {
if (key = this._parseKey(key)) {
this._removeFromMap(this.store[key]);
delete this.store[key];
}
},
_removeFromMap: function (item) {
if (item && typeof item == 'object') {
this.omap.delete(item);
} else {
delete this.pmap[item];
}
},
remove: function (item) {
var key = this.getKey(item);
this.removeKey(key);
return key;
},
getKey: function (item) {
var key;
if (item && typeof item == 'object') {
key = this.omap.get(item);
} else {
key = this.pmap[item];
}
if (key != undefined) {
return '#' + key;
}
},
getKeys: function () {
return Object.keys(this.store).map(function (key) {
return '#' + key;
});
},
_parseKey: function (key) {
if (key && key[0] == '#') {
return key.slice(1);
}
},
setItem: function (key, item) {
if (key = this._parseKey(key)) {
var old = this.store[key];
if (old) {
this._removeFromMap(old);
}
if (item && typeof item == 'object') {
this.omap.set(item, key);
} else {
this.pmap[item] = key;
}
this.store[key] = item;
}
},
getItem: function (key) {
if (key = this._parseKey(key)) {
return this.store[key];
}
},
getItems: function () {
var items = [], store = this.store;
for (var key in store) {
items.push(store[key]);
}
return items;
},
_applySplices: function (splices) {
var keyMap = {}, key;
for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
s.addedKeys = [];
for (var j = 0; j < s.removed.length; j++) {
key = this.getKey(s.removed[j]);
keyMap[key] = keyMap[key] ? null : -1;
}
for (var j = 0; j < s.addedCount; j++) {
var item = this.userArray[s.index + j];
key = this.getKey(item);
key = key === undefined ? this.add(item) : key;
keyMap[key] = keyMap[key] ? null : 1;
s.addedKeys.push(key);
}
}
var removed = [];
var added = [];
for (var key in keyMap) {
if (keyMap[key] < 0) {
this.removeKey(key);
removed.push(key);
}
if (keyMap[key] > 0) {
added.push(key);
}
}
return [{
removed: removed,
added: added
}];
}
};
Polymer.Collection.get = function (userArray) {
return Polymer._collections.get(userArray) || new Polymer.Collection(userArray);
};
Polymer.Collection.applySplices = function (userArray, splices) {
var coll = Polymer._collections.get(userArray);
return coll ? coll._applySplices(splices) : null;
};
Polymer({
is: 'dom-repeat',
extends: 'template',
_template: null,
properties: {
items: { type: Array },
as: {
type: String,
value: 'item'
},
indexAs: {
type: String,
value: 'index'
},
sort: {
type: Function,
observer: '_sortChanged'
},
filter: {
type: Function,
observer: '_filterChanged'
},
observe: {
type: String,
observer: '_observeChanged'
},
delay: Number,
renderedItemCount: {
type: Number,
notify: true,
readOnly: true
},
initialCount: {
type: Number,
observer: '_initializeChunking'
},
targetFramerate: {
type: Number,
value: 20
},
_targetFrameTime: {
type: Number,
computed: '_computeFrameTime(targetFramerate)'
}
},
behaviors: [Polymer.Templatizer],
observers: ['_itemsChanged(items.*)'],
created: function () {
this._instances = [];
this._pool = [];
this._limit = Infinity;
var self = this;
this._boundRenderChunk = function () {
self._renderChunk();
};
},
detached: function () {
this.__isDetached = true;
for (var i = 0; i < this._instances.length; i++) {
this._detachInstance(i);
}
},
attached: function () {
if (this.__isDetached) {
this.__isDetached = false;
var parent = Polymer.dom(Polymer.dom(this).parentNode);
for (var i = 0; i < this._instances.length; i++) {
this._attachInstance(i, parent);
}
}
},
ready: function () {
this._instanceProps = { __key__: true };
this._instanceProps[this.as] = true;
this._instanceProps[this.indexAs] = true;
if (!this.ctor) {
this.templatize(this);
}
},
_sortChanged: function (sort) {
var dataHost = this._getRootDataHost();
this._sortFn = sort && (typeof sort == 'function' ? sort : function () {
return dataHost[sort].apply(dataHost, arguments);
});
this._needFullRefresh = true;
if (this.items) {
this._debounceTemplate(this._render);
}
},
_filterChanged: function (filter) {
var dataHost = this._getRootDataHost();
this._filterFn = filter && (typeof filter == 'function' ? filter : function () {
return dataHost[filter].apply(dataHost, arguments);
});
this._needFullRefresh = true;
if (this.items) {
this._debounceTemplate(this._render);
}
},
_computeFrameTime: function (rate) {
return Math.ceil(1000 / rate);
},
_initializeChunking: function () {
if (this.initialCount) {
this._limit = this.initialCount;
this._chunkCount = this.initialCount;
this._lastChunkTime = performance.now();
}
},
_tryRenderChunk: function () {
if (this.items && this._limit < this.items.length) {
this.debounce('renderChunk', this._requestRenderChunk);
}
},
_requestRenderChunk: function () {
requestAnimationFrame(this._boundRenderChunk);
},
_renderChunk: function () {
var currChunkTime = performance.now();
var ratio = this._targetFrameTime / (currChunkTime - this._lastChunkTime);
this._chunkCount = Math.round(this._chunkCount * ratio) || 1;
this._limit += this._chunkCount;
this._lastChunkTime = currChunkTime;
this._debounceTemplate(this._render);
},
_observeChanged: function () {
this._observePaths = this.observe && this.observe.replace('.*', '.').split(' ');
},
_itemsChanged: function (change) {
if (change.path == 'items') {
if (Array.isArray(this.items)) {
this.collection = Polymer.Collection.get(this.items);
} else if (!this.items) {
this.collection = null;
} else {
this._error(this._logf('dom-repeat', 'expected array for `items`,' + ' found', this.items));
}
this._keySplices = [];
this._indexSplices = [];
this._needFullRefresh = true;
this._initializeChunking();
this._debounceTemplate(this._render);
} else if (change.path == 'items.splices') {
this._keySplices = this._keySplices.concat(change.value.keySplices);
this._indexSplices = this._indexSplices.concat(change.value.indexSplices);
this._debounceTemplate(this._render);
} else {
var subpath = change.path.slice(6);
this._forwardItemPath(subpath, change.value);
this._checkObservedPaths(subpath);
}
},
_checkObservedPaths: function (path) {
if (this._observePaths) {
path = path.substring(path.indexOf('.') + 1);
var paths = this._observePaths;
for (var i = 0; i < paths.length; i++) {
if (path.indexOf(paths[i]) === 0) {
this._needFullRefresh = true;
if (this.delay) {
this.debounce('render', this._render, this.delay);
} else {
this._debounceTemplate(this._render);
}
return;
}
}
}
},
render: function () {
this._needFullRefresh = true;
this._debounceTemplate(this._render);
this._flushTemplates();
},
_render: function () {
var c = this.collection;
if (this._needFullRefresh) {
this._applyFullRefresh();
this._needFullRefresh = false;
} else if (this._keySplices.length) {
if (this._sortFn) {
this._applySplicesUserSort(this._keySplices);
} else {
if (this._filterFn) {
this._applyFullRefresh();
} else {
this._applySplicesArrayOrder(this._indexSplices);
}
}
} else {
}
this._keySplices = [];
this._indexSplices = [];
var keyToIdx = this._keyToInstIdx = {};
for (var i = this._instances.length - 1; i >= 0; i--) {
var inst = this._instances[i];
if (inst.isPlaceholder && i < this._limit) {
inst = this._insertInstance(i, inst.__key__);
} else if (!inst.isPlaceholder && i >= this._limit) {
inst = this._downgradeInstance(i, inst.__key__);
}
keyToIdx[inst.__key__] = i;
if (!inst.isPlaceholder) {
inst.__setProperty(this.indexAs, i, true);
}
}
this._pool.length = 0;
this._setRenderedItemCount(this._instances.length);
this.fire('dom-change');
this._tryRenderChunk();
},
_applyFullRefresh: function () {
var c = this.collection;
var keys;
if (this._sortFn) {
keys = c ? c.getKeys() : [];
} else {
keys = [];
var items = this.items;
if (items) {
for (var i = 0; i < items.length; i++) {
keys.push(c.getKey(items[i]));
}
}
}
var self = this;
if (this._filterFn) {
keys = keys.filter(function (a) {
return self._filterFn(c.getItem(a));
});
}
if (this._sortFn) {
keys.sort(function (a, b) {
return self._sortFn(c.getItem(a), c.getItem(b));
});
}
for (var i = 0; i < keys.length; i++) {
var key = keys[i];
var inst = this._instances[i];
if (inst) {
inst.__key__ = key;
if (!inst.isPlaceholder && i < this._limit) {
inst.__setProperty(this.as, c.getItem(key), true);
}
} else if (i < this._limit) {
this._insertInstance(i, key);
} else {
this._insertPlaceholder(i, key);
}
}
for (var j = this._instances.length - 1; j >= i; j--) {
this._detachAndRemoveInstance(j);
}
},
_numericSort: function (a, b) {
return a - b;
},
_applySplicesUserSort: function (splices) {
var c = this.collection;
var instances = this._instances;
var keyMap = {};
for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
for (var j = 0; j < s.removed.length; j++) {
var key = s.removed[j];
keyMap[key] = keyMap[key] ? null : -1;
}
for (var j = 0; j < s.added.length; j++) {
var key = s.added[j];
keyMap[key] = keyMap[key] ? null : 1;
}
}
var removedIdxs = [];
var addedKeys = [];
for (var key in keyMap) {
if (keyMap[key] === -1) {
removedIdxs.push(this._keyToInstIdx[key]);
}
if (keyMap[key] === 1) {
addedKeys.push(key);
}
}
if (removedIdxs.length) {
removedIdxs.sort(this._numericSort);
for (var i = removedIdxs.length - 1; i >= 0; i--) {
var idx = removedIdxs[i];
if (idx !== undefined) {
this._detachAndRemoveInstance(idx);
}
}
}
var self = this;
if (addedKeys.length) {
if (this._filterFn) {
addedKeys = addedKeys.filter(function (a) {
return self._filterFn(c.getItem(a));
});
}
addedKeys.sort(function (a, b) {
return self._sortFn(c.getItem(a), c.getItem(b));
});
var start = 0;
for (var i = 0; i < addedKeys.length; i++) {
start = this._insertRowUserSort(start, addedKeys[i]);
}
}
},
_insertRowUserSort: function (start, key) {
var c = this.collection;
var item = c.getItem(key);
var end = this._instances.length - 1;
var idx = -1;
while (start <= end) {
var mid = start + end >> 1;
var midKey = this._instances[mid].__key__;
var cmp = this._sortFn(c.getItem(midKey), item);
if (cmp < 0) {
start = mid + 1;
} else if (cmp > 0) {
end = mid - 1;
} else {
idx = mid;
break;
}
}
if (idx < 0) {
idx = end + 1;
}
this._insertPlaceholder(idx, key);
return idx;
},
_applySplicesArrayOrder: function (splices) {
var c = this.collection;
for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
for (var j = 0; j < s.removed.length; j++) {
this._detachAndRemoveInstance(s.index);
}
for (var j = 0; j < s.addedKeys.length; j++) {
this._insertPlaceholder(s.index + j, s.addedKeys[j]);
}
}
},
_detachInstance: function (idx) {
var inst = this._instances[idx];
if (!inst.isPlaceholder) {
for (var i = 0; i < inst._children.length; i++) {
var el = inst._children[i];
Polymer.dom(inst.root).appendChild(el);
}
return inst;
}
},
_attachInstance: function (idx, parent) {
var inst = this._instances[idx];
if (!inst.isPlaceholder) {
parent.insertBefore(inst.root, this);
}
},
_detachAndRemoveInstance: function (idx) {
var inst = this._detachInstance(idx);
if (inst) {
this._pool.push(inst);
}
this._instances.splice(idx, 1);
},
_insertPlaceholder: function (idx, key) {
this._instances.splice(idx, 0, {
isPlaceholder: true,
__key__: key
});
},
_stampInstance: function (idx, key) {
var model = { __key__: key };
model[this.as] = this.collection.getItem(key);
model[this.indexAs] = idx;
return this.stamp(model);
},
_insertInstance: function (idx, key) {
var inst = this._pool.pop();
if (inst) {
inst.__setProperty(this.as, this.collection.getItem(key), true);
inst.__setProperty('__key__', key, true);
} else {
inst = this._stampInstance(idx, key);
}
var beforeRow = this._instances[idx + 1];
var beforeNode = beforeRow && !beforeRow.isPlaceholder ? beforeRow._children[0] : this;
var parentNode = Polymer.dom(this).parentNode;
Polymer.dom(parentNode).insertBefore(inst.root, beforeNode);
this._instances[idx] = inst;
return inst;
},
_downgradeInstance: function (idx, key) {
var inst = this._detachInstance(idx);
if (inst) {
this._pool.push(inst);
}
inst = {
isPlaceholder: true,
__key__: key
};
this._instances[idx] = inst;
return inst;
},
_showHideChildren: function (hidden) {
for (var i = 0; i < this._instances.length; i++) {
this._instances[i]._showHideChildren(hidden);
}
},
_forwardInstanceProp: function (inst, prop, value) {
if (prop == this.as) {
var idx;
if (this._sortFn || this._filterFn) {
idx = this.items.indexOf(this.collection.getItem(inst.__key__));
} else {
idx = inst[this.indexAs];
}
this.set('items.' + idx, value);
}
},
_forwardInstancePath: function (inst, path, value) {
if (path.indexOf(this.as + '.') === 0) {
this._notifyPath('items.' + inst.__key__ + '.' + path.slice(this.as.length + 1), value);
}
},
_forwardParentProp: function (prop, value) {
var i$ = this._instances;
for (var i = 0, inst; i < i$.length && (inst = i$[i]); i++) {
if (!inst.isPlaceholder) {
inst.__setProperty(prop, value, true);
}
}
},
_forwardParentPath: function (path, value) {
var i$ = this._instances;
for (var i = 0, inst; i < i$.length && (inst = i$[i]); i++) {
if (!inst.isPlaceholder) {
inst._notifyPath(path, value, true);
}
}
},
_forwardItemPath: function (path, value) {
if (this._keyToInstIdx) {
var dot = path.indexOf('.');
var key = path.substring(0, dot < 0 ? path.length : dot);
var idx = this._keyToInstIdx[key];
var inst = this._instances[idx];
if (inst && !inst.isPlaceholder) {
if (dot >= 0) {
path = this.as + '.' + path.substring(dot + 1);
inst._notifyPath(path, value, true);
} else {
inst.__setProperty(this.as, value, true);
}
}
}
},
itemForElement: function (el) {
var instance = this.modelForElement(el);
return instance && instance[this.as];
},
keyForElement: function (el) {
var instance = this.modelForElement(el);
return instance && instance.__key__;
},
indexForElement: function (el) {
var instance = this.modelForElement(el);
return instance && instance[this.indexAs];
}
});
Polymer({
is: 'array-selector',
_template: null,
properties: {
items: {
type: Array,
observer: 'clearSelection'
},
multi: {
type: Boolean,
value: false,
observer: 'clearSelection'
},
selected: {
type: Object,
notify: true
},
selectedItem: {
type: Object,
notify: true
},
toggle: {
type: Boolean,
value: false
}
},
clearSelection: function () {
if (Array.isArray(this.selected)) {
for (var i = 0; i < this.selected.length; i++) {
this.unlinkPaths('selected.' + i);
}
} else {
this.unlinkPaths('selected');
this.unlinkPaths('selectedItem');
}
if (this.multi) {
if (!this.selected || this.selected.length) {
this.selected = [];
this._selectedColl = Polymer.Collection.get(this.selected);
}
} else {
this.selected = null;
this._selectedColl = null;
}
this.selectedItem = null;
},
isSelected: function (item) {
if (this.multi) {
return this._selectedColl.getKey(item) !== undefined;
} else {
return this.selected == item;
}
},
deselect: function (item) {
if (this.multi) {
if (this.isSelected(item)) {
var skey = this._selectedColl.getKey(item);
this.arrayDelete('selected', item);
this.unlinkPaths('selected.' + skey);
}
} else {
this.selected = null;
this.selectedItem = null;
this.unlinkPaths('selected');
this.unlinkPaths('selectedItem');
}
},
select: function (item) {
var icol = Polymer.Collection.get(this.items);
var key = icol.getKey(item);
if (this.multi) {
if (this.isSelected(item)) {
if (this.toggle) {
this.deselect(item);
}
} else {
this.push('selected', item);
var skey = this._selectedColl.getKey(item);
this.linkPaths('selected.' + skey, 'items.' + key);
}
} else {
if (this.toggle && item == this.selected) {
this.deselect();
} else {
this.selected = item;
this.selectedItem = item;
this.linkPaths('selected', 'items.' + key);
this.linkPaths('selectedItem', 'items.' + key);
}
}
}
});
Polymer({
is: 'dom-if',
extends: 'template',
_template: null,
properties: {
'if': {
type: Boolean,
value: false,
observer: '_queueRender'
},
restamp: {
type: Boolean,
value: false,
observer: '_queueRender'
}
},
behaviors: [Polymer.Templatizer],
_queueRender: function () {
this._debounceTemplate(this._render);
},
detached: function () {
if (!this.parentNode || this.parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE && (!Polymer.Settings.hasShadow || !(this.parentNode instanceof ShadowRoot))) {
this._teardownInstance();
}
},
attached: function () {
if (this.if && this.ctor) {
this.async(this._ensureInstance);
}
},
render: function () {
this._flushTemplates();
},
_render: function () {
if (this.if) {
if (!this.ctor) {
this.templatize(this);
}
this._ensureInstance();
this._showHideChildren();
} else if (this.restamp) {
this._teardownInstance();
}
if (!this.restamp && this._instance) {
this._showHideChildren();
}
if (this.if != this._lastIf) {
this.fire('dom-change');
this._lastIf = this.if;
}
},
_ensureInstance: function () {
var parentNode = Polymer.dom(this).parentNode;
if (parentNode) {
var parent = Polymer.dom(parentNode);
if (!this._instance) {
this._instance = this.stamp();
var root = this._instance.root;
parent.insertBefore(root, this);
} else {
var c$ = this._instance._children;
if (c$ && c$.length) {
var lastChild = Polymer.dom(this).previousSibling;
if (lastChild !== c$[c$.length - 1]) {
for (var i = 0, n; i < c$.length && (n = c$[i]); i++) {
parent.insertBefore(n, this);
}
}
}
}
}
},
_teardownInstance: function () {
if (this._instance) {
var c$ = this._instance._children;
if (c$ && c$.length) {
var parent = Polymer.dom(Polymer.dom(c$[0]).parentNode);
for (var i = 0, n; i < c$.length && (n = c$[i]); i++) {
parent.removeChild(n);
}
}
this._instance = null;
}
},
_showHideChildren: function () {
var hidden = this.__hideTemplateChildren__ || !this.if;
if (this._instance) {
this._instance._showHideChildren(hidden);
}
},
_forwardParentProp: function (prop, value) {
if (this._instance) {
this._instance[prop] = value;
}
},
_forwardParentPath: function (path, value) {
if (this._instance) {
this._instance._notifyPath(path, value, true);
}
}
});
Polymer({
is: 'dom-bind',
extends: 'template',
_template: null,
created: function () {
var self = this;
Polymer.RenderStatus.whenReady(function () {
self._markImportsReady();
});
},
_ensureReady: function () {
if (!this._readied) {
this._readySelf();
}
},
_markImportsReady: function () {
this._importsReady = true;
this._ensureReady();
},
_registerFeatures: function () {
this._prepConstructor();
},
_insertChildren: function () {
var parentDom = Polymer.dom(Polymer.dom(this).parentNode);
parentDom.insertBefore(this.root, this);
},
_removeChildren: function () {
if (this._children) {
for (var i = 0; i < this._children.length; i++) {
this.root.appendChild(this._children[i]);
}
}
},
_initFeatures: function () {
},
_scopeElementClass: function (element, selector) {
if (this.dataHost) {
return this.dataHost._scopeElementClass(element, selector);
} else {
return selector;
}
},
_prepConfigure: function () {
var config = {};
for (var prop in this._propertyEffects) {
config[prop] = this[prop];
}
var setupConfigure = this._setupConfigure;
this._setupConfigure = function () {
setupConfigure.call(this, config);
};
},
attached: function () {
if (this._importsReady) {
this.render();
}
},
detached: function () {
this._removeChildren();
},
render: function () {
this._ensureReady();
if (!this._children) {
this._template = this;
this._prepAnnotations();
this._prepEffects();
this._prepBehaviors();
this._prepConfigure();
this._prepBindings();
this._prepPropertyInfo();
Polymer.Base._initFeatures.call(this);
this._children = Polymer.TreeApi.arrayCopyChildNodes(this.root);
}
this._insertChildren();
this.fire('dom-change');
}
});</script>

<dom-module id="px-base-element" assetpath="../px-base-element/">
	<template>
		<content></content>
	</template>
</dom-module>
<script type="text/javascript">
	Polymer({
		is: 'px-base-element',
		behaviors: [BaseElement],
		properties: {
			title: {
				type: String
			}
		}
	});
</script>
<script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>
<dom-module id="px-layout" assetpath="../px-responsive-layouts/">

  <template>
    <style>
.l-fg3 {
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap; }
  .l-fg3 > div {
    -webkit-flex-basis: 100%;
    -ms-flex-preferred-size: 100%;
    flex-basis: 100%;
    margin: -10px; }
    @media (min-width: 600px) {
      .l-fg3 > div {
        margin: 10px;
        -webkit-flex-basis: calc(33.333% - 20px);
        -ms-flex-preferred-size: calc(33.333% - 20px);
        flex-basis: calc(33.333% - 20px); } }
  @media (min-width: 600px) {
    .l-fg3 > div:nth-child(1),
    .l-fg3 > div:nth-child(2) {
      -webkit-flex-basis: calc(50% - 20px);
      -ms-flex-preferred-size: calc(50% - 20px);
      flex-basis: calc(50% - 20px); } }

.l-flex {
  overflow-x: hidden; }

.l-3-col-grid:before, .l-3-col-grid:after,
.l-g3:before,
.l-g3:after {
  display: table;
  content: " "; }

.l-3-col-grid:after,
.l-g3:after {
  clear: both; }

@media (min-width: 600px) {
  .l-3-col-grid,
  .l-g3 {
    /* Leftmost grid item */
    /* Center grid item */
    /* Rightmost grid item*/ }
    .l-3-col-grid > div:nth-child(3n+1),
    .l-g3 > div:nth-child(3n+1) {
      width: 32.20339%;
      float: left;
      margin-right: 1.69492%; }
    .l-3-col-grid > div:nth-child(3n+2),
    .l-g3 > div:nth-child(3n+2) {
      width: 32.20339%;
      float: left;
      margin-right: 1.69492%; }
    .l-3-col-grid > div:nth-child(3n+3),
    .l-g3 > div:nth-child(3n+3) {
      float: right;
      width: 32.20339%;
      margin-right: 0; } }

/**
 * ===========================================
 * Off Canvas
 * ===========================================
 */
/**
 * ===========================================
 * Split View
 * ===========================================
 */
.splitview {
  /* ---------------Helpers--------------------------- */ }
  .splitview__sidebar {
    background-color: #3b3b3f; }
  .splitview__col--primary {
    background-color: blue; }
  .splitview__col--secondary {
    background-color: crimson; }
    @media (min-width: 1200px) {
      .splitview__col--secondary {
        background-color: green; } }
    @media (min-width: 768px) {
      .splitview__col--secondary {
        background-color: lime;
        width: 100vw;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex; } }
  .splitview .splitview-sidebar-right {
    /* Design here */
    background-color: #3b3b3f; }
  .splitview .splitview-sidebar-left {
    /* Design here */
    background-color: #3b3b3f; }
  .splitview .splitview-secondary {
    /* Design here */ }
  .splitview .splitview-primary {
    /* Design here */ }
  .splitview .splitview-hide {
    display: none !important; }
  .splitview__col {
    height: 100vh;
    display: inline;
    position: absolute;
    width: 100%;
    transition: all 0.4s ease; }
    .splitview__col--is-passive {
      width: 0;
      opacity: .5; }
    .splitview__col--is-active {
      width: auto;
      opacity: 1; }
    .splitview__col--primary {
      right: 0; }
      @media (min-width: 1200px) {
        .splitview__col--primary {
          display: inline;
          position: absolute;
          right: 16%;
          width: 40%; } }
      @media (min-width: 768px) {
        .splitview__col--primary {
          position: absolute;
          width: 59%;
          opacity: 1; } }
    .splitview__col--secondary {
      left: 0;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      width: 100%;
      -webkit-flex-direction: column;
      -ms-flex-direction: column;
      flex-direction: column; }
      @media (min-width: 1200px) {
        .splitview__col--secondary {
          position: absolute;
          left: 16%;
          width: 27%; } }
      @media (min-width: 768px) {
        .splitview__col--secondary {
          position: absolute;
          width: 40%;
          opacity: 1; } }
  .splitview__sidebar {
    height: 100%;
    height: 100vh;
    display: inline;
    position: absolute;
    width: 25%;
    transition: all 0.4s ease;
    will-change: translate;
    z-index: auto; }
    .splitview__sidebar--left {
      left: 0; }
    .splitview__sidebar--right {
      right: 0; }
    .splitview__sidebar--is-closed {
      opacity: 0;
      width: 0;
      z-index: -1; }
    .splitview__sidebar--is-opened {
      opacity: 1;
      width: auto;
      z-index: 1001; }
    @media (min-width: 1200px) {
      .splitview__sidebar {
        opacity: 1 !important;
        width: 15% !important; } }
  .splitview .splitview-hide {
    display: inherit; }
    @media (min-width: 1200px) {
      .splitview .splitview-hide {
        display: none !important; } }

.splitview-hide-splitScreen {
  display: none !important; }

body {
  padding: 0;
  margin: 0; }

.l-container--progressive {
  height: 100vh;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  -webkit-justify-content: space-between;
  -ms-flex-pack: justify;
  justify-content: space-between;
  -webkit-align-content: stretch;
  -ms-flex-line-pack: stretch;
  align-content: stretch;
  -webkit-align-items: stretch;
  -ms-flex-align: stretch;
  align-items: stretch;
  transition: all 300ms ease-in; }
  @media only screen and (min-width: 320px) {
    .l-container--progressive .btn-toggle {
      display: block; } }
  @media only screen and (max-width: 600px) {
    .l-container--progressive .btn-toggle {
      display: block; } }
  @media only screen and (min-width: 1024px) {
    .l-container--progressive .btn-toggle {
      display: none; } }
  .l-container--progressive > div {
    position: relative;
    background: #eee;
    border: 1px solid #ccc;
    margin-right: -1px; }
    .l-container--progressive > div.active {
      display: block; }
    .l-container--progressive > div header {
      -webkit-flex-direction: row;
      -ms-flex-direction: row;
      flex-direction: row;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      padding: 10px 5px;
      background: #ddd;
      text-transform: uppercase; }
    .l-container--progressive > div:nth-child(1) {
      -webkit-flex-basis: 220px;
      -ms-flex-preferred-size: 220px;
      flex-basis: 220px;
      -webkit-order: 0;
      -ms-flex-order: 0;
      order: 0;
      -webkit-flex: 0 1 15%;
      -ms-flex: 0 1 15%;
      flex: 0 1 15%; }
      @media only screen and (min-width: 320px) {
        .l-container--progressive > div:nth-child(1) {
          display: none; } }
      @media only screen and (max-width: 600px) {
        .l-container--progressive > div:nth-child(1) {
          display: none; } }
      @media only screen and (min-width: 1024px) {
        .l-container--progressive > div:nth-child(1) {
          display: block; } }
    .l-container--progressive > div:nth-child(2) {
      -webkit-order: 1;
      -ms-flex-order: 1;
      order: 1;
      -webkit-flex: 2 2 25%;
      -ms-flex: 2 2 25%;
      flex: 2 2 25%; }
      @media only screen and (max-width: 600px) {
        .l-container--progressive > div:nth-child(2) {
          display: none; } }
      @media only screen and (min-width: 1024px) {
        .l-container--progressive > div:nth-child(2) {
          display: block; } }
      .l-container--progressive > div:nth-child(2).active {
        display: block; }
    .l-container--progressive > div:nth-child(3) {
      -webkit-order: 2;
      -ms-flex-order: 2;
      order: 2;
      -webkit-flex: 4 4 50%;
      -ms-flex: 4 4 50%;
      flex: 4 4 50%;
      -webkit-align-self: auto;
      -ms-flex-item-align: auto;
      align-self: auto; }
      @media only screen and (min-width: 320px) {
        .l-container--progressive > div:nth-child(3) {
          display: none; } }
      @media only screen and (max-width: 600px) {
        .l-container--progressive > div:nth-child(3) {
          display: none; } }
      @media only screen and (min-width: 1024px) {
        .l-container--progressive > div:nth-child(3) {
          display: block; } }
      .l-container--progressive > div:nth-child(3).active {
        display: block; }
    .l-container--progressive > div:nth-child(4) {
      -webkit-order: 3;
      -ms-flex-order: 3;
      order: 3;
      -webkit-flex: 1 1 15%;
      -ms-flex: 1 1 15%;
      flex: 1 1 15%;
      -webkit-align-self: auto;
      -ms-flex-item-align: auto;
      align-self: auto; }
      @media only screen and (min-width: 320px) {
        .l-container--progressive > div:nth-child(4) {
          display: none; } }
      @media only screen and (max-width: 600px) {
        .l-container--progressive > div:nth-child(4) {
          display: none; } }
      @media only screen and (min-width: 1024px) {
        .l-container--progressive > div:nth-child(4) {
          display: block; } }

</style>
    <style>
      :host {
        display: block;
      }
    </style>
    <div class="l-container--progressive">
      <content id="content"></content>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-layout',
      created: function() {
        //px.utils.addMixin(new px.mobile.logger('px-layout'), this);
        //this.logApi('created', this);
        console.warn(this.tagName, 'created');
        var distributed = this.getContentChildren('#content');
        console.log(distributed.length);
      }

    });
  </script>
</dom-module>

<dom-module id="px-action-sheet-button" assetpath="../px-action-sheet/">
  <style>
    :host {
      display: block;
      width: 100%;
    }
  </style>
  <template strip-whitespace="">
    <button class="action-sheet__button">{{label}}</button>
  </template>
  <script>
    Polymer({
      is: 'px-action-sheet-button',
      properties: {
        //The label of the button.
        label: {
          type: String,
          value: 'Action Button'
        },
        //The type of action sheet button. (info, danger, close)
        type: {
          type: String
        }
      },
      attached: function() {
        if(this.type){
          this.toggleClass('action-sheet__button--'+ this.type.toLowerCase(), true, this.children[0]);
        }
      }
    });
  </script>
</dom-module>

<dom-module id="px-action-sheet" assetpath="../px-action-sheet/">
  <style>
.action-dialog--mask{transition:all .2s;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.4);z-index:0;opacity:0;visibility:hidden}.action-dialog--mask--is-open{z-index:5;opacity:1;visibility:visible}.action-sheet{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0;border-radius:8px;z-index:500;position:absolute;left:3%;right:3%;transition:all .3s;bottom:2%;-webkit-transform:translateY(115%);transform:translateY(115%)}.action-sheet--is-open{z-index:10;-webkit-transform:translateY(0);transform:translateY(0);opacity:1;visibility:visible}.action-sheet__actions{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.action-sheet__actions>px-action-sheet-button:last-child{border-bottom:none!important}.action-sheet__button{background-color:#fff!important;background:0 0;box-shadow:none;border:none!important;color:#177efb;display:block;font-size:1.2rem;text-align:center;margin:0;padding:12px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;cursor:pointer;outline:0;border-bottom:1px solid #ccc!important}.action-sheet__button:active{transition:none;opacity:.8}.action-sheet__button:disabled,.action-sheet__button[disabled]{opacity:.5;cursor:default;pointer-events:none}.action-sheet__button:focus{outline:0;transition:none}.action-sheet__button:hover{box-shadow:none;transition:none}.action-sheet__button--danger{color:#FE3F35!important;border-bottom:none!important}.action-sheet__button--cancel{margin-top:10px;border-bottom:none!important}.action-sheet__button--info{color:#777!important;font-size:1rem;padding:20px 12px;pointer-events:none}.action-sheet__button--info:active{transition:none;opacity:1}
</style>
  <style>
    :host {
      display: block;
    }
  </style>
  <template strip-whitespace="">
    <div id="_actionDialogMask" class="action-dialog--mask" on-click="toggle"></div>
    <div id="_actionSheet" class="action-sheet">
      <div id="_actionSheetActions" class="action-sheet__actions">
        <content></content>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-action-sheet',
      properties: {
        //The current state of the action sheet.
        isOpen: {
          type: Boolean,
          observer: '_isOpenHandler',
          value: false
        }
      },

      created: function(){

      },

      //I handle invoking the toggleHandler when the value changes.
      _isOpenHandler: function(newVal, oldVal) {
        console.log('_isOpenHandler', 'newVal', newVal);
        console.log('_isOpenHandler', 'isOpen', this.isOpen);
        this._toggleHandler();
      },
      //I handle toggling the visibility of the action sheet.
      _toggleHandler: function(show) {
        //this.$._actionDialogMask.hidden = !this.$._actionDialogMask.hidden;
        //this.toggleClass('action-sheet--is-open', show || this.isOpen);
        this.toggleClass('action-dialog--mask--is-open', show || this.isOpen, this.$._actionDialogMask);
        this.toggleClass('action-sheet--is-open', show || this.isOpen, this.$._actionSheet);
      },
      //I handle toggling value of isOpen, which in turn toggles the visibility.
      toggle: function() {
        this.isOpen = !this.isOpen;
      }
    });
  </script>
</dom-module>

<dom-module id="px-icon" assetpath="../px-icon/">
  <style>
    :host {

    }
  </style>
  <template>
    <i class="fa"></i>
  </template>
	<script type="text/javascript">
		Polymer({
		  is: "px-icon",
		  //behaviors: [pxMobile.behaviors.BaseElement],
			properties: {
        //The name of the icon (All font-awesome icons)
			  icon: {
			    type: String
			  },
        //The size of the icon. (lg, 2x, 3x, 4x, 5x)
				size: {
					type: String
				}
			},
			attached: function(){
			   if(this.size){
          this.toggleClass( 'fa-' + this.size, true, this.$$('i'));
        }
        if(this.icon){
          this.toggleClass( 'fa-' + this.icon, true, this.$$('i'));
        }
			}
		});
	</script>
</dom-module>

<dom-module id="px-button" assetpath="../px-button/">
  <style>
    :host {

    }
  </style>
  <template>
    <button type="button" class="btn">
      <px-icon icon$="{{icon}}" hidden="{{!icon}}" size$="{{iconSize}}"></px-icon>
      <span hidden="{{!label}}">{{label}}</span>
      <content></content>
    </button>
  </template>
  <script type="text/javascript">
    Polymer({
      is: "px-button",
      properties: {
        //The button label
        label: {
          type: String
        },
        //The button theme
        theme: {
          type: String
        },
        //The class name for the icon
        icon: {
          type: String
        },
        //The size for the icon
        iconSize: {
          type: String
        },
        //The icon size
        size: {
          type: String
        }
      },
      ready: function(){
        var self = this;
        if(this.theme){
          var themes = this.theme.split(' ');
          themes.forEach(function(t){
            console.log( 'theme.split', t);
            self.toggleClass( 'btn--' + t, true, self.$$('button'));
          });

        }
        if(this.size){
          this.toggleClass( 'btn--' + this.size, true, this.$$('button'));
        }
        if(this.icon){
          this.toggleClass( this.icon, true, this.$$('i'));
        }
      }
    });
  </script>
</dom-module>


<dom-module id="px-drawer" assetpath="../px-drawer/">
  <style>
.drawer{display:block;position:absolute;z-index:100;transition:all .3s cubic-bezier(.1,.7,.1,1)}.drawer__content{padding:15px 20px;height:100%;width:100%;display:block;overflow:hidden;position:relative;box-shadow:inset -10px 0 25px 0 rgba(0,0,0,.2)}.drawer--fixed{position:fixed}.drawer--dark{background-color:rgba(0,0,0,.9);color:#fff}.drawer--dark__button{color:#fff}.drawer--left{left:0;top:0;bottom:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.drawer--left.is-open{-webkit-transform:translateX(0);transform:translateX(0)}.drawer--right{top:0;bottom:0;right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.drawer--right.is-open{-webkit-transform:translateX(0);transform:translateX(0)}.drawer--top{top:0;right:0;left:0;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.drawer--top.is-open{-webkit-transform:translateY(0);transform:translateY(0)}.drawer--bottom{bottom:0;right:0;left:0;-webkit-transform:translateY(100%);transform:translateY(100%)}.drawer--bottom.is-open{-webkit-transform:translateY(0);transform:translateY(0)}
/*# sourceMappingURL=px-drawer.css.map */

</style>
  <style>

  </style>
  <template>
      <div class="drawer__content">
        <content select="*"></content>
      </div>
  </template>
  <script>
    Polymer({
      is: 'px-drawer',
      //behaviors: [pxMobile.behaviors.BaseElement],
      properties: {
        open: {
          type: Boolean
        },
        fixed: {
          type: Boolean
        },
        theme: {
          type: String
        },
        side: {
          type: String,
          value: 'left'
        },
        maxSlideDistance: {
          type: String,
          value: '300px'
        }
      },
      ready: function() {
        console.log(this.tagName, 'setting to', this.side);
        if(this.theme){
        this.toggleClass('drawer--'+ this.theme, true);
        }
        if(this.fixed){
        this.toggleClass('drawer--fixed', true);
        }
        this.toggleClass('drawer', true);
        this.toggleClass('drawer--' + this.side, true);
      },
      toggle: function(e) {
        this.open = !this.open;
        this.toggleClass('is-open', this.open);
        this.fire('toggle', this);
      },
      handleTrack: function(e) {
        var message = '';

        switch (e.detail.state) {
          case 'start':
            message = 'Tracking started!';
            break;
          case 'track':
            message = 'Tracking in progress... ' +
              e.detail.x + ', ' + e.detail.y;

            break;
          case 'end':
            message = 'Tracking ended!';
            break;
        }

      }
    });
  </script>
</dom-module>

<dom-module id="px-navbar" assetpath="../px-navbar/">
	<style>
/*
bem model:

navbar
	--fixed
	--dark
	--light
	navbar__toggle
		navbar__toggle__button
	navbar__center
		navbar__center__title
		navbar__center__subtitle

	navbar__button
		--left
		--right

	navbar__left
		navbar__left__button

	navbar__right
		navbar-ui__right__button

*/
.navbar {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  position: relative;
  z-index: 200;
  font-weight: 400;
  font-size: 17px;
  box-sizing: border-box;
  background-clip: padding-box;
  white-space: nowrap;
  background-size: 100% 1px;
  background-repeat: no-repeat;
  background-position: bottom;
  background-image: linear-gradient(0deg, #ddd, #ddd 50%, transparent 50%);
  height: 55px;
  padding-top: 10px;
  color: #1f1f21;
  background-color: #fff; }
  .navbar--chrome {
    background-color: #efeff4;
    color: #1f1f21; }
  .navbar--alt {
    background-color: #888;
    color: #1f1f21; }
  .navbar--dark {
    background-color: #242326;
    color: #fff; }
  .navbar--primary {
    background-color: #0f5fb6;
    color: #fff; }
  .navbar__center {
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
    text-align: center;
    padding: 10px 0; }
    .navbar__center__title {
      display: block; }
    .navbar__center__subtitle {
      display: block;
      font-size: 80%; }
  .navbar__content {
    padding: 0 5px;
    position: relative;
    width: 100%;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between; }
  .navbar__right {
    padding: 0 8px; }
  .navbar__left {
    padding: 0 8px; }
  .navbar__button {
    padding: 4px 10px;
    letter-spacing: 0;
    text-shadow: 0 1px none;
    background-color: transparent;
    border-radius: 2px;
    border: 1px solid transparent;
    font-weight: 400;
    font-size: 17px;
    transition: none;
    vertical-align: middle;
    box-shadow: none; }
    .navbar__button:active {
      background-color: rgba(0, 0, 0, 0.05);
      transition: none;
      opacity: 0.2; }
    .navbar__button:disabled, .navbar__button[disabled] {
      opacity: 0.3;
      cursor: default;
      pointer-events: none; }
    .navbar__button:focus {
      outline: 0;
      transition: none; }
    .navbar__button:hover {
      box-shadow: none;
      transition: none; }
    .navbar__button--back .icon {
      font-size: 1.1em; }
  .navbar__hamburger {
    width: 2.5em;
    transition: all 0.2s;
    position: relative; }
    .navbar__hamburger__icon {
      width: 25px;
      height: 2px;
      display: block;
      position: absolute;
      top: 50%;
      left: 15%;
      transition: -webkit-transform 300ms;
      transition: transform 300ms;
      transition: transform 300ms, -webkit-transform 300ms;
      background: rgba(0, 0, 0, 0.5); }
      .navbar__hamburger__icon--1 {
        -webkit-transform: translate3d(0, -8px, 0);
        transform: translate3d(0, -8px, 0); }
      .navbar__hamburger__icon--2 {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0); }
      .navbar__hamburger__icon--3 {
        -webkit-transform: translate3d(0, 8px, 0);
        transform: translate3d(0, 8px, 0); }

</style>
	<style>
		:host {
			position: absolute;
			top: 0;
			right: 0;
			left: 0;
		}

		:host .navbar--alt::content .navbar__button,
		:host .navbar--dark::content .navbar__button,
		:host .navbar--primary::content .navbar__button {
			color: #fff !important;
		}

		:host .navbar--dark .navbar__hamburger__icon,
		:host .navbar--primary .navbar__hamburger__icon {
			background-color: #fff !important;
		}

		:host.px-sidebar-open .hamburger-1 {
			-webkit-transform: translate3d(0, 0, 0) rotate(45deg);
			transform: translate3d(0, 0, 0) rotate(45deg);
		}

		:host.px-sidebar-open .hamburger-2 {
			-webkit-transform: translate3d(0, 0, 0) scale(0.1, 1);
			transform: translate3d(0, 0, 0) scale(0.1, 1);
		}

		:host.px-sidebar-open .hamburger-3 {
			-webkit-transform: translate3d(0, 0, 0) rotate(-45deg);
			transform: translate3d(0, 0, 0) rotate(-45deg);
		}
	</style>
	<template>
		<div class="navbar">

			
			<template is="dom-if" if="{{back}}">
				<div class="left">
					<button class="navbar__button navbar__button--back" on-click="handleBackClick">
						<i class="fa fa-angle-left"></i>
						<span>{{backBtnLabel}}</span>
					</button>
				</div>
			</template>

			
			<template is="dom-if" if="{{menu}}">
				<div class="left">
					<button class="navbar__button navbar__hamburger position-relative" on-click="toggleSidebar">
						<i class="icon">
              <span class="navbar__hamburger__icon navbar__hamburger__icon--1"></span>
              <span class="navbar__hamburger__icon navbar__hamburger__icon--2"></span>
              <span class="navbar__hamburger__icon navbar__hamburger__icon--3"></span>
            </i>
					</button>
				</div>
			</template>

			
			<div class="navbar__center">
				<span class="color-auto navbar__center__title">{{title}}</span>
				<span class="color-auto navbar__center__subtitle">{{subtitle}}</span>
			</div>

			
			<div class="navbar__content">
				<content></content>
			</div>



		</div>
	</template>
	<script>
		Polymer({
			is: 'px-navbar',
			properties: {

				subtitle: {
					type: String
				},

				backBtnLabel: {
					type: String,
					value: 'Back'
				},
        //The title to display.
        title: {
          type: String
        },
        //The #id of the sidebar container.
        sidebarContainer: {
          type: String
        },
        //The #id of the view container.
        viewContainer: {
          type: String,
          notify: true,
          reflectToAttribute: true
        },
        //To show the menu button or not.
        showMenuBtn: {
          type: Boolean,
          value: true
        },
        //Fix the pxm--navbar to the top.
        fixed: {
          type: Boolean,
          value: false
        },
        //Display open
        open: {
          type: Boolean,
          notify: true,
          observer: '_openChanged',
          value: false
        },
        //Display sidebar on desktop, hide on mobile/tablet
        responsive: {
          type: Boolean,
          value: false
        },
        //Show the menu button
        menu: {
          type: Boolean,
          value: false
        },
        //The view containers instance.
        views: {
          type: Object,
          value: {}
        },
        //Use a dynamic navbar
        dynamicNavbar: {
          type: Boolean,
          value: false
        },
        //To show the back button or not.
        back: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        //The label for the back button.
        backBtnLabel: {
          type: String,
          value: 'Back'
        },
        //The type of theme to apply.
        theme: {
          type: String,
          value: 'white',
          notify: true,
          observer: '_themeChanged',
          reflectToAttribute: true
        }
			},
			created: function() {

			},
			ready: function() {

				console.warn(this.tagName, 'attached');
				console.dir(this);
				if (this.theme) {
					console.log('attaching theme', this.theme);
					this.toggleClass('navbar--' + this.theme, true, Polymer.dom(this.root).querySelector('.navbar'));
				}
			},
			attached: function() {
				var _this = this;
				if (_this.sidebarContainer) {
					_this.sidebar = document.getElementById(_this.sidebarContainer);
					_this.sidebar.addEventListener('toggle', function() {
						_this.toggleClass('px-sidebar-open', _this.sidebar.open);
					});
				}
				var parent = this.parentNode;
				if (parent && parent.localName === 'px-view' || parent.localName === 'px-page') {
					this.theme = parent.attr('theme');
					this.title = parent.attr('title');
					if (parent.viewContainer) {
						_this.viewContainer = parent.viewContainer.id;
						_this.views = parent.viewContainer;
						_this.menu = _this.views.getCurrent().main;
						console.log('parentViewContainer', parent.viewContainer);
						//_this.title = _this.views.getCurrent().attr('title');
					}
				}
				if (this.viewContainer) {
					this.debounce('initViews', function() {
						_this.views = document.getElementById(_this.viewContainer);
						_this.menu = _this.views.getCurrent().main;
						//	_this.title = _this.views.getCurrent().attr('title');
						_this.views.addEventListener('px:view:change', function(e) {
							console.log('listening to view change', e);
							_this.title = e.detail.title;
							if (this.views) {
								_this.debounce('menu', function() {
									_this.menu = (_this.views.getCurrent().main);
									_this.back = (!_this.views.getCurrent().main);
									_this.backBtnText = (_this.views.prevView ? _this.views.prevView.title : '');
								}, 50);
							}
						});
					}, 250);
				}
			},
			toggleMenu: function() {
				return this.fire('px-toggle-menu', this);
			},


			//Handle toggling the sidebar.
			toggleSidebar: function(open) {
				//	this.open = open || !this.open;
				if (this.sidebar && this.sidebar.toggle) {
					this.sidebar.toggle();
					if (this.views) {
						this.views.toggleClass('px-sidebar-open');
					}
				}
			},
			//Handle when the back button is clicked.
			handleBackClick: function() {
        console.log('handleBackClick', this);
        this.fire('back');
        if(this.parentNode && this.parentNode.viewContainer){
					this.parentNode.viewContainer.back();
				}
				if (this.viewContainer && this.views) {
          console.log('handleBackClick', this.viewContainer);
					this.views.back();
					//this.title = model.item.title;
				}
			},
			//Handle when a view from the viewContainer is changed.
			handleViewChange: function() {
				if (this.viewContainer && this.views) {
					this.back = (this.views.getCurrent() !== this.views.main);
				}
			},
			//Toggle the display of the navbar.
			toggle: function(display) {
				this.hidden = !this.hidden;
				this.toggleClass('hidden', this.hidden);
			},
			//Handle getting the current view, if there is a viewContainer
			getCurrent: function() {
				if (this.viewContainer && this.views) {
					return this.views.getCurrent();
				}
			},
			_registerOffclick: function() {
				this.views.addEventListener('click', this.toggleMenu);
			},
			_deregisterOffclick: function() {
				this.views.removeEventListener('click', this.toggleMenu);
			},
			_openChanged: function(newVal, oldVal) {
				var _this = this;
				console.log('_openChanged', newVal, oldVal);
				if (_this.sidebar && _this.sidebar.toggle) {
					this.debounce('openSidebar', function() {
						_this.sidebar.toggle(newVal);
					}, 100);
				}

			},
			_themeChanged: function(newVal, oldVal) {
				var _this = this;
				this.async(function() {
					if (oldVal) {
						_this.removeClass('background-color-' + oldVal);
					}
					_this.addClass('background-color-' + newVal);
				});
			}
		});
	</script>
</dom-module>
<script type="text/javascript">
	var pxSidebarBehavior = {
		properties: {
			title: {
				type: String
			}
		},
		created: function () {
			console.log(this.tagName, 'created', this);
		},
		method1: function () {

		}
	};
</script>


<dom-module id="px-sidebar" assetpath="../px-sidebar/">

	<style>
		:host {
			top: 0;
			bottom: 0;
			left: 0;
			display: block;
			position: absolute;
			z-index: 200;
			-webkit-transform: translate(-125%, 0);
			-ms-transform: translate(-125%, 0);
			transform: translate(-125%, 0);
			-webkit-transition: all 0.5s cubic-bezier(0.1, 0.7, 0.1, 1);
			transition: all 0.5s cubic-bezier(0.1, 0.7, 0.1, 1);
      height: 100vh;
		}

		:host.px-sidebar-open {
			-webkit-transform: translate(-1px, -1px);
			-ms-transform: translate(-1px, -1px);
			transform: translate(-1px, -1px);
		}

		:host .nav-menu .icon {
			display: inline-block;
			width: 32px;
			text-align: center;
			margin-left: 10px;
		}

		:host .nav-menu li:hover a {
			color: #fff;
		}


		:host .side-menu {
			height: 100%;
			display: block;
			width: 250px;
			top: 0;
			bottom: 0;
			overflow: hidden;
			position: relative;
			box-shadow: inset -10px 0px 25px 0px rgba(0, 0, 0, 0.2);
			-webkit-box-shadow: inset -10px 0px 25px 0px rgba(0, 0, 0, 0.2);
			background-color: #242326;
		}

		:host .side-menu-slider {
			position: absolute;
			height: auto;
			width: 100%;
			left: 0;
			top: 45px;
			bottom: 0;
			transform: translate(125%, 0);
			display: block;
			bottom: 0px;
		}

		:host .list-ui--nav li.list__item:before {
			position: absolute;
			right: 16px;
			top: 50%;
			color: rgba(255, 255, 255, 0.2);
			line-height: 28px;
			height: 28px;
			-webkit-transform: translateY(-50%);
			-moz-transform: translateY(-50%);
			-ms-transform: translateY(-50%);
			-o-transform: translateY(-50%);
			transform: translateY(-50%);
			font-size: 28px;
			font-family: FontAwesome;
			font-style: normal;
			font-weight: normal;
			content: "\f105";
		}

		:host .list-ui--nav {
		  border: none;
		}
		:host .table-view {
		  border: none;
			background-color: transparent;
		}

		:host .table-row:first-child {
		  background-color: #535156;

			display: flex;
    	vertical-align: middle;
    	align-items: center;
			height:57px;
		}
		:host .table-row {
			color: #fff;
			border-bottom:none;
		}
		:host .logo{
			margin: 0 8px;
		}

		:host .brand:hover {
			background-color: #535156;
		}

		:host .list-ui--nav .icon {
		  margin-right: .5em;
		}
		:host .img-avatar {
		  border-radius: 50%;
			padding: 25px;

		}
		:host .table-view--bottom {
		    position: absolute;
		    bottom: 0;
		    left: 0;
		    right: 0;
		}
		:host .list-ui--nav li {
			position: relative;
		  cursor: pointer;
		  color: #fff;
		  border-bottom: 1px solid rgba(0, 0, 0, 0.5);
		  -webkit-user-select: none;
		     -moz-user-select: none;
		      -ms-user-select: none;
		          user-select: none;
		}
		:host .list-ui--nav li.selected,
		:host .list-ui--nav li:active,
		:host .list-ui--nav li:hover {
		  background-color: #086e87;
		}
		:host .list-ui--nav li a {
		  text-decoration: none;
		  color: white;
		}
		:host .list-ui--nav--subnav {
		  border: none;
		}

	</style>
	<template>
		<aside class="side-menu" on-click="toggle">
			<nav class="side-nav">
				<ul class="table-view table-view--tiny">
					<li class="table-row">
						<div class="table-row__media table-row__media--image">
							<span class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 44 44" enable-background="new 0 0 44 44"><path fill="#fff" d="M21.618 43.233c-11.918 0-21.618-9.642-21.618-21.618 0-11.915 9.7-21.615 21.618-21.615 11.914 0 21.616 9.7 21.616 21.615 0 11.976-9.702 21.618-21.616 21.618zm0-42.217c-11.378 0-20.601 9.223-20.601 20.599 0 11.377 9.223 20.599 20.601 20.599 11.376 0 20.597-9.222 20.597-20.599 0-11.316-9.22-20.599-20.597-20.599zm18.318 26.762l-.112 .023-.063-.078c.004-.034 .726-2.165 .72-4.611-.009-2.635-1.079-4.251-2.456-4.251-.838 0-1.436 .6-1.436 1.497 0 1.617 1.976 1.737 1.976 5.27 0 1.438-.299 2.812-.778 4.311-2.216 7.483-9.283 10.956-16.167 10.956-3.175 0-5.43-.652-6.102-.953-.027-.014-.05-.067-.029-.12l.087-.061c.272 .108 2.209 .716 4.605 .716 2.635 0 4.192-1.077 4.192-2.397 0-.835-.659-1.494-1.498-1.494-1.617 0-1.737 2.035-5.209 2.035-1.497 0-2.813-.299-4.372-.778-7.426-2.274-10.965-9.282-10.959-16.228 .003-3.382 .95-6.075 .966-6.102l.107-.018 .063 .078c-.087 .28-.716 2.212-.716 4.606 0 2.635 1.077 4.191 2.454 4.191 .779 0 1.439-.598 1.439-1.437 0-1.617-1.977-1.796-1.977-5.27 0-1.497 .299-2.814 .778-4.371 2.276-7.424 9.282-10.905 16.169-10.958 3.2-.024 6.001 .934 6.106 1.018l.019 .108-.079 .06c-.033-.004-1.854-.766-4.61-.766-2.575-.001-4.191 1.077-4.191 2.455 0 .779 .599 1.438 1.497 1.438 1.617 0 1.737-1.977 5.209-1.977 1.497 0 2.814 .299 4.372 .779 7.485 2.275 10.896 9.342 10.957 16.167 .034 3.497-.952 6.143-.962 6.162zm-10.295-5.143c-2.035 0-3.593 1.498-3.593 3.293 0 1.497 .897 2.693 2.096 2.693 .42 0 .838-.24 .838-.778 0-.777-1.032-.968-.952-2.132 .051-.768 .774-1.281 1.491-1.281 1.438 0 2.11 1.393 2.11 2.829-.061 2.216-1.69 3.758-3.606 3.758-2.517 0-4.131-2.396-4.131-4.97 0-3.833 2.514-5.33 3.831-5.688 .014-.001 3.444 .612 3.337-.9-.047-.664-1.036-.92-1.754-.949-.794-.031-1.594 .255-1.594 .255-.419-.211-.708-.623-.886-1.101 2.455-1.856 4.19-3.652 4.19-5.688 0-1.078-.719-2.037-2.096-2.037-2.455 0-4.312 3.114-4.312 5.928 0 .479 0 .958 .121 1.379-1.558 1.137-2.715 1.843-4.812 3.101 0-.263 .055-.938 .23-1.816 .719-.779 1.705-1.944 1.705-2.842 0-.419-.238-.779-.719-.779-1.197 0-2.096 1.797-2.334 3.054-.54 .659-1.617 1.499-2.516 1.499-.719 0-.957-.66-1.019-.898 2.276-.78 5.091-3.894 5.091-6.708 0-.599-.239-1.916-2.036-1.916-2.695 0-4.971 4.012-4.971 7.125-.958 0-1.317-1.018-1.317-1.795 0-.779 .299-1.558 .299-1.796 0-.241-.12-.54-.479-.54-.899 0-1.438 1.197-1.438 2.575 .061 1.917 1.318 3.114 2.995 3.234 .238 1.138 1.257 2.215 2.514 2.215 .779 0 1.737-.239 2.396-.837-.061 .419-.12 .778-.18 1.137-2.635 1.378-4.551 2.336-6.288 3.892-1.373 1.256-2.152 2.932-2.152 4.25 0 1.796 1.139 3.472 3.474 3.472 2.754 0 4.851-2.216 5.868-5.269 .481-1.437 .672-3.528 .792-5.445 2.754-1.556 4.06-2.458 5.496-3.477 .179 .299 .361 .54 .6 .719-1.258 .659-4.251 2.515-4.251 6.886 0 3.115 2.097 6.586 6.227 6.586 3.414 0 5.749-2.813 5.749-5.507-.002-2.456-1.38-4.731-4.014-4.731zm-16.467 8.382c-.898 .041-1.496-.533-1.496-1.49 0-2.575 3.569-5.032 6.264-6.351-.479 3.594-1.692 7.7-4.768 7.841zm1.976-14.131c0-1.977 1.95-5.733 3.143-5.336 1.407 .469-1.167 4.258-3.143 5.336zm11.318-.899c0-2.455 1.662-4.843 2.57-4.389 1.034 .518-.773 2.832-2.57 4.389z"></path></svg></span>
						</div>
						<div class="table-row__content">
							<span class="table-row__content__title">
								<span class="brand epsilon">{{title}}</span>
							</span>
						</div>
					</li>
					<template is="dom-repeat" items="{{menu}}">

					<li class="table-row table-row--nav-right" on-click="_handleMenuSelect" data-id$="{{item.id}}" data-title$="{{item.label}}" data-path$="{{item.path}}" data-href$="{{item.href}}" data-view$="{{item.view}}" data-icon$="{{item.icon}}">
						<div class="table-row__media table-row__media--icon table-row__media--left">
							<span class="icon">
								<i class$="{{item.icon}}"></i>
							</span>
						</div>
						<div class="table-row__content">
							<span class="table-row__content__title">{{item.label}}</span>
						</div>
					</li>
					</template>
				</ul>
			</nav>
			
			<div class="table-view table-view--bottom">
				<div class="table-row table-row--nav-right">
					 <div class="table-row__media table-row__media--image">
						 <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="60px" height="60px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
						 <path fill="#666666" d="M490.579,383.029c-14.152-22.086-61.763-35.824-108.835-55.453c-47.103-19.633-58.268-26.439-58.268-26.439
						 	l-0.445-45.182c0,0,17.646-13.557,23.127-56.074c11.01,3.198,22.619-16.461,23.237-26.824c0.625-9.98-1.508-37.662-14.981-34.877
						 	c2.754-20.845,4.741-39.586,3.764-49.505c-3.495-36.295-39.23-74.578-94.182-74.578c-54.95,0-90.7,38.283-94.193,74.578
						 	c-0.978,9.919,1.019,28.661,3.758,49.505c-13.455-2.785-15.587,24.897-14.979,34.877c0.635,10.363,12.196,30.021,23.255,26.824
						 	c5.462,42.517,23.122,56.074,23.122,56.074l-0.441,45.182c0,0-11.178,6.807-58.268,26.439
						 	c-47.104,19.629-94.683,33.367-108.851,55.453c-12.7,19.777-8.882,114.875-8.882,114.875h470.946
						 	C499.462,497.904,503.281,402.806,490.579,383.029z"></path>
						 </svg>
					 </div>
					 <div class="table-row__content">
						 <span class="table-row__content__title">Tom Edison</span>
					 </div>
				 </div>
			</div>
		</aside>
	</template>
	<script>
		Polymer({
			is: 'px-sidebar',
			behaviors: [BaseElement, pxSidebarBehavior],
			properties: {
				//Display open
				open: {
					type: Boolean,
					notify: true,
					value: false
				},
				//Automatically build menu based on the view container views.
				autoMenu: {
					type: Boolean
				},
				side: {
					type: String,
					value: 'left'
				},
				maxSlideDistance: {
					type: String,
					value: '300px'
				},
				var: {
					type: Object
				},
				//Array of navigation items. (alias for menu)
				navItems: {
					type: Array
				},
				viewContainer: {
					type: String
				},
				menu: {
					type: Array
				},
				//The title to show above the menu
				title: {
					type: String,
					value: 'Predix'
				}
			},
			attached: function() {
				var _this = this;
				console.log(this.tagName, 'attached', this);

				if(this.navItems){
					this.set('menu', this.navItems);
					console.log(this.tagName, 'adding navItems to menu');
				}

				if(this.open){
					this.toggle();
				}


				if (this.viewContainer) {
					this.views = document.getElementById(this.viewContainer);
					this.views.addEventListener('px:view:change', function(e) {
						_this.title = e.detail.title;
						_this.debounce('buildMenu();', function() {
							_this.back = !_this.views.currentView.main;
							//_this.backBtnText = (_this.views.prevView ? _this.views.prevView.title : '');
						}, 50);
					});

					//this.viewContainer = document.getElementById(this.viewContainer);
					this.debounce('buildMenu();', function() {
						_this.buildMenu();
					}, 100);
				}
			},
			buildMenu: function() {
				var _this = this;


				if(!this.menu){
					if (this.views.ViewList && this.views.ViewList.length) {
						this.menu = [];
						var _menu = [];
						for (var i = 0; i < this.views.ViewList.length; i++) {
							var view = this.views.ViewList[i];
							//_this.logApi('add view', view.title, view.href);
							_menu.push({
								id: view.id,
								icon: view.icon,
								href: view.route,
								hash: view.hash,
								route: view.route,
								title: view.title
							});
						}
						this.menu = _menu;
					}

				}
			},

			toggle: function(e) {
				this.open = !this.open;
				this.toggleClass('px-sidebar-open', this.open);
				this.fire('toggle', this);
			},
			_handleMenuSelect: function(e) {
				e.preventDefault();
				var model = e.model;

				if (this.viewContainer && this.views) {
					this.views.goto(model.item.id);
					this.title = model.item.title;
					this.icon = model.item.icon;
				}
				if (model.item.href) {
					location.hash = model.item.href;
				}
				this.fire('select', model);
				console.log('_handleMenuSelect', model);
				return false;
			},
			handleTrack: function(e) {
				var message = '';

				switch (e.detail.state) {
					case 'start':
						message = 'Tracking started!';
						break;
					case 'track':
						message = 'Tracking in progress... ' +
							e.detail.x + ', ' + e.detail.y;

						break;
					case 'end':
						message = 'Tracking ended!';
						break;
				}
			}
		});
	</script>
</dom-module>
<dom-module id="px-table-row-action-button" assetpath="../px-table-view/">
	<style>
		:host {
			display: table;
			height: 100%;
			padding: 0 5px;
		}

		.action-button-wrapper {
			display: table-cell;
			vertical-align: middle;
			font-size: 1rem;
			font-weight: 300;
		}
	</style>
	<template>
		<div class="action-button-wrapper">
			<content></content>
		</div>
	</template>
</dom-module>
<script>
	Polymer({
		is: "px-table-row-action-button"
	});
</script>
<script>
	var log = function(cat, obj) {
		console.log(cat, obj);
	};
	/**
	 * Private class to have x-axis point and left flick status by checking a current and previous position
	 */
	var xPoint = function(x) {
		this.updated = false;
		this.x = this._prev = this._origin = x;
		this._timeStamp = (new Date()).getTime();
	};
	xPoint.prototype = {
		TIMER_RESET_THRESHOLD: -5 /* px */ ,
		VELOCITY_THRESHOLD: -0.2 /* px/ms */ ,
		distance: function() {
			// distance between touch start and current point
			return this.x - this._origin;
		},
		update: function(x) {
			// reset time stamp at move stop
			if (x - this.x > this.TIMER_RESET_THRESHOLD) {
				this._timeStamp = (new Date()).getTime();
				this._prev = this.x;
			}
			this.x = x;
			this.updated = true;
		},
		isFlick: function() {
			var dt = (new Date()).getTime() - this._timeStamp;
			var dx = this.x - this._prev;
			return (dx / dt) < this.VELOCITY_THRESHOLD;
		}
	};
	var px = window.px || {};
	px.behaviors = px.behaviors || {};
	px.behaviors.TableRowSwipeBehavior = {
		properties: {
			/**
			 * If true, the content will be opened by default
			 *
			 * @attribute open
			 * @type boolean
			 * @default false
			 */
			open: {
				type: Boolean,
				value: false
			},
			/**
			 * If true, drag (touch move) action is disabled and a content is automatically opened by click/touch
			 *
			 * @attribute nodrag
			 * @type boolean
			 * @default false
			 */
			nodrag: {
				type: Boolean,
				value: false
			},
			/**
			 * Offset pixcel position for opened state
			 *
			 * @attribute offset
			 * @type number
			 * @default 60
			 */
			offset: {
				type: Number,
				value: 40
			},
			/**
			 * If true, box shadow is added
			 *
			 * @attribute shadow
			 * @type boolean
			 * @default false
			 */
			shadow: {
				type: Boolean,
				value: false
			},
			/**
			 * If true, all gestures are disabled
			 *
			 * @attribute disabled
			 * @type boolean
			 * @default false
			 */
			disabled: {
				type: Boolean,
				value: false,
				observer: 'disabledChanged'
			}
		},
		handleClick: function(e) {
			this.fire('select', e);
		},
		disabledChanged: function(oldValue, newValue) {
			if (newValue) {
				this.open = false;
				this.transition();
				this.removeGestureListeners();
			}
		},
		handleUp: function(e) {
			if (this.nodrag) {
				this.toggleOpen();
			} else {
				this.onUp(e);
			}
		},
		handleDown: function(e) {
			this.onDown(e);
		},
		handleTrack: function(e) {
			if (this.disabled) {
				return;
			}
			switch (e.detail.state) {
				case 'track':
					this.onMove(e);
					break;
				case 'end':
					this.onUp(e);
					break;
			}
		},
		removeGestureListeners: function() {
			// do not need from Polymer 1.0 gensture events?
			// https://www.polymer-project.org/1.0/docs/devguide/events.html#gestures
		},
		onDown: function(e) {
			this.point = new xPoint(e.detail.x);
			this.applyClass();
		},
		onMove: function(e) {
			var p = this.point;
			if (p) {
				p.update(e.detail.x);
				this.translate3d(this.open ? this.offset - this.$.content.clientWidth + p.distance() + "px" : p.distance() + "px", 0, 0, this.$.content);
				log('onMove', p.distance());
			}
		},
		onUp: function(e) {
			var p = this.point;
			if (!p) {
				return;
			}
			this.open = p && p.isFlick();
			this.point = null;
			this.applyClass();
			// apply css fixed-true before transition
			this.async(this.transition);
			log('onUp', this.open, this);
		},
		transition: function() {
      var transitionPx = this.offset - this.$.content.clientWidth + "px";
      log('transition', transitionPx);
			this.translate3d(this.open ? transitionPx : 0, 0, 0, this.$.content);
		},
		toggleOpen: function() {
			this.open = !this.open;
			this.transition();
		},
		applyClass: function() {
			var list = ["style-scope swipe-content"]
			if (this.nodrag || this.point === null) {
				list.push("cubic-bezier");
			}
			log('applyClass', list);
			this.$.content.className = list.join(" ");
		},
		// must pass *same* function instance to both (add|remove)EventListener, so bind in created
		created: function() {
			this.toggleOpen = this.toggleOpen.bind(this);
			this.onDown = this.onDown.bind(this);
			this.onMove = this.onMove.bind(this);
			this.onUp = this.onUp.bind(this);
			//console.log(this.tagName, 'created');
		},
		ready: function() {
			this.applyClass();
			this.transition();
			// allow y scroll on this node but prevent x scroll
			this.setScrollDirection('y');
		},
		attached: function() {
			//console.log(this.tagName, 'attached');
		},
		detached: function() {
			this.removeGestureListeners();
			console.log(this.tagName, 'detached');
		}
	};
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.6/hammer.min.js"></script>
<script type="text/javascript">
var reqAnimationFrame = (function() {
	return window[Hammer.prefixed(window, "requestAnimationFrame")] || function(callback) {
		setTimeout(callback, 1000 / 60);
	};
})();

function dirProp(direction, hProp, vProp) {
	return (direction & Hammer.DIRECTION_HORIZONTAL) ? hProp : vProp;
}

  /**
  Swipe List Item Actions
  */
  function SwipeActions(container, direction) {
    this.container = container;
    this.direction = direction;
    this.actions = container.querySelector('.table-row__actions');
    this.panes = Array.prototype.slice.call(this.container.children, 0);
    this.containerSize = this.container[dirProp(direction, 'offsetWidth', 'offsetHeight')];
    this.actionsSize = this.actions[dirProp(direction, 'offsetWidth', 'offsetHeight')];
    this.currentIndex = 0;
    this.hammer = new Hammer.Manager(this.container);
    this.hammer.add(new Hammer.Pan({
      direction: this.direction,
      threshold: 10
    }));
    this.hammer.on("panstart panmove panend pancancel", Hammer.bindFn(this.onPan, this));
    console.log('SwipeActions', this);
  }

  SwipeActions.prototype = {
    show: function(showIndex, percent, animate) {

      showIndex = Math.max(0, Math.min(showIndex, this.panes.length - 1));
      percent = percent || 0;
      var className = this.container.className;

      if (animate) {
        if (className.indexOf('animate') === -1) {
          this.container.className += ' animate';
        }
      } else {
        if (className.indexOf('animate') !== -1) {
          this.container.className = className.replace('animate', '').trim();
        }
      }

      var paneIndex, pos, translate;

      for (paneIndex = 0; paneIndex < this.panes.length; paneIndex++) {
        pos = (this.containerSize / 100) * (((paneIndex - showIndex) * 100) + percent);

        if (this.direction & Hammer.DIRECTION_HORIZONTAL) {
          translate = 'translate3d(' + pos + 'px, 0, 0)';
        } else {
          translate = 'translate3d(0, ' + pos + 'px, 0)';
        }
        this.panes[paneIndex].style.transform = translate;
        this.panes[paneIndex].style.mozTransform = translate;
        this.panes[paneIndex].style.webkitTransform = translate;
      }
      console.log('translate', translate);
      console.log('show', showIndex, percent, animate);

      this.currentIndex = showIndex;

      console.log('SwipeActions.show', this.panes, showIndex, percent, animate);
    },
    onPan: function(ev) {
      var delta = dirProp(this.direction, ev.deltaX, ev.deltaY);
      var percent = (100 / this.containerSize) * delta;
      var animate = false;

      if (ev.type == 'panend' || ev.type == 'pancancel') {
        if (Math.abs(percent) > 20 && ev.type == 'panend') {
          this.currentIndex += (percent < 0) ? 1 : -1;
        }
        percent = 0;
        animate = true;
      }
      console.log('SwipeActions.onPan', 'delta = ', delta, 'percent =', percent, animate);
      this.show(this.currentIndex, percent, animate);
    }
  };

  document.addEventListener('WebComponentsReady', function(){
    Hammer.each(document.querySelectorAll(".table-row--actionable"), function(container) {
      var actions = new SwipeActions(container, Hammer.DIRECTION_HORIZONTAL);
      //outer.hammer.get('pan').requireFailure(actions.hammer.get('pan'));
      console.log('Adding Hammer', actions);
    });
  });
</script>

<dom-module id="px-table-row" assetpath="../px-table-view/">
  <style>
    :host{
      display:block;
      width: 100%;
    }
    :host  .flex {
      position: relative;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
    }
    :host .table-row__actions--underlay {
      position: absolute;
      right: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: row;
      flex-direction: row-reverse;
    }
    :host .swipe-content {
      width: 100%;
      transform-style: preserve-3d;
      backface-visibility: hidden;
    }
    :host .cubic-bezier {
      -webkit-transition: -webkit-transform .8s cubic-bezier(.10, .70, .10, 1) .5s;
      transition: transform .8s cubic-bezier(.10, .70, .10, 1) .5s;
    }
  </style>
  <template>



      
      <div class="table-row__actions--underlay">

        
        <template is="dom-if" if="{{editMode}}">
          <button class="btn btn--bare table-row__delete-btn" on-click="_handleRemoveItem">
            <i class="fa fa-minus-circle fa-lg color-red"></i>
          </button>
        </template>
      </div>

      
      <template is="dom-if" if="{{image}}">
        <div class="table-row__media table-row__media--image">
          <img src$="{{image}}" alt="{{title}}">
        </div>
      </template>

      
      <template is="dom-if" if="{{icon}}">
        <div class="table-row__media table-row__media--icon">
          <i class$="{{icon}}"></i>
        </div>
      </template>

      
      <div class="table-row__content">

        
        <template is="dom-if" if="{{label2}}">
          <span class="table-row__content__label table-row__content__label--left">{{label2}}</span>
        </template>

        
        <template is="dom-if" if="{{title}}">
          <div class="table-row__content__title">{{title}}</div>
        </template>

        
        <template is="dom-if" if="{{body}}">
          <div class="table-row__content__body">{{body}}</div>
        </template>

        
        <template is="dom-if" if="{{label1}}">
          <span class="table-row__content__label table-row__content__label--right">{{label1}}</span>
        </template>

      </div>

      
      <template is="dom-if" if="{{orderMode}}">
        <button class="btn btn--bare table-row__reorder-btn" on-click="_handleReorderItem">
          <i class="icon fa ion-drag fa-lg muted"></i>
        </button>
      </template>

      
      <content></content>


  </template>
  <script>
    Polymer({
      is: 'px-table-row',
      //behaviors: [px.behaviors.ListViewItemSwiper],
      properties: {
        //The list item object.
        item: {
          type: Object,
          value: {}
        },
        //The title to set on the list item.
        title: {
          type: String
        },
        //The body to set on the list item.
        body: {
          type: String
        },
        //The image to set on the list item.
        image: {
          type: String
        },
        //The icon to set on the list item.
        icon: {
          type: String
        },
        //If editMode is true then this item displays a delete icon.
        editMode: {
          type: Boolean
        },
        //If orderMode is true then this item displays a order icon.
        orderMode: {
          type: Boolean
        },
        //If actionable is true then this item responds to swipeleft/swiperight events.
        actionable: {
          type: Boolean
        }
      },
      attached: function() {
        /*
        if (this.title) {
          this.item.title = this.title;
        //  this.set('item.title', this.title);
        }
        if (this.body) {
          this.set('item.body', this.body);
        }
        if (this.image) {
          this.set('item.image', this.image);
        }
        if (this.icon) {
          this.set('item.icon', this.icon);
        }
        if (this.actionable) {
          //this.parent.toggleClass('table-row--actionable');
        }
        */
      },
      _handleRemoveItem: function(e) {
        e.preventDefault();
        console.log('handleRemoveItem', e);
        return false;
      },
      _handleReorderItem: function(e) {
        e.preventDefault();
        console.log('handleReorderItem', e);
        return false;
      }
    });
  </script>
</dom-module>
<script type="text/javascript">
  var px = window.px || {};
  px.behaviors = px.behaviors || {};
  px.behaviors.TableView = {
    attached: function() {
      console.warn('Created', this.tagName);
    },
    _clearSelected: function() {
      var children = this.querySelectorAll('px-table-row');
      for (var i = 0; i < children.length; i++) {
        //children[i].removeClass('selected');
        //console.log('Clear', children[i]);
      }
    },
    handleSelect: function(event) {
      var el = Polymer.dom(event).localTarget;
      console.log('handleSelect', event.type, event.model, el);
      this._clearSelected(event);
      this.fire('px:list:select', event);
    },
    addItem: function(o) {
      console.log('addItem', o);
      return this.push('listData', o);
    }
  };
</script>

<style>
@charset "UTF-8";
.table-row {
  min-height: 44px;
  line-height: 44px;
  width: 100%;
  font-size: 1.1rem;
  border-color: #b1b1bc;
  box-sizing: border-box;
  background-color: transparent;
  position: relative;
  overflow: hidden;
  display: block;
  margin: 0;
  padding: 0 10px;
  transition: background-color 0.3s linear;
  -webkit-appearance: normal;
  -moz-appearance: normal;
  appearance: normal;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none; }
  .table-row:before, .table-row:after {
    display: table;
    content: " "; }
  .table-row:after {
    clear: both; }
  .table-row h1,
  .table-row h2,
  .table-row h3,
  .table-row h4,
  .table-row h5,
  .table-row h6,
  .table-row p {
    margin: 0;
    padding: 0;
    line-height: normal; }
  .table-row > *:not(input),
  .table-row > *:not(textarea),
  .table-row > *:not(select) {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; }
  .table-row:last-child {
    border-bottom: none; }
  .table-row:first-child:last-child {
    border-top: none;
    border-bottom: none; }
  .table-row:not(:last-child) {
    border-bottom: 1px solid #b1b1bc; }
  .table-row > a {
    text-decoration: none;
    color: black;
    transition: background-color 0.2s linear; }
    .table-row > a:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row > a:hover {
      transition: none; }
  .table-row__media {
    display: table-cell;
    vertical-align: middle;
    padding-right: 1rem;
    padding-left: 0.1rem; }
    .table-row__media--right {
      float: right; }
      .table-row__media--right > i {
        margin-top: 0.7rem; }
    .table-row__media--toggle {
      padding-top: 0.5rem;
      padding-left: 0.5rem; }
    .table-row__media--image {
      padding-right: 1rem;
      padding-left: 0.1rem; }
      .table-row__media--image img {
        display: block;
        max-width: 80px;
        max-height: 80px; }
    .table-row__media--icon {
      padding-right: 0.5rem;
      padding-left: 0.5rem; }
  .table-row--icon-left .table-row__media--icon {
    float: left; }
  .table-row--icon-right .table-row__media--icon {
    float: right; }
  .table-row--image-left .table-row__media--image {
    float: left; }
  .table-row--image-right .table-row__media--image {
    float: right;
    margin-right: 1rem; }
  .table-row--flush {
    line-height: normal; }
  .table-row__content {
    display: table-cell;
    vertical-align: middle;
    width: 100%;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    padding-right: 2rem; }
    .table-row__content--flush {
      line-height: normal; }
    .table-row__content__title {
      padding: 0;
      font-size: 1.1rem;
      display: block;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      white-space: nowrap; }
      @media (max-width: 320px) {
        .table-row__content__title {
          font-size: 1rem; } }
      .table-row__content__title--flush {
        line-height: normal; }
      .table-row__content__title--small {
        font-size: 0.8rem;
        line-height: normal; }
      .table-row__content__title--large {
        font-size: 1.5rem; }
    .table-row__content__body {
      display: block;
      line-height: normal; }
      .table-row__content__body--flush {
        line-height: normal; }
  .table-row__label {
    color: #9999a3; }
    .table-row__label--right {
      margin-right: 2rem;
      right: 2%;
      position: absolute; }
    .table-row__label--left {
      float: left;
      position: relative;
      margin-left: 5%; }
    @media (max-width: 320px) {
      .table-row__label {
        margin-top: 7%;
        font-size: 0.9rem; } }
  .table-row__icon {
    padding: 0; }
    .table-row__icon--left {
      float: left; }
    .table-row__icon--right {
      float: right; }
  .table-row__reorder-btn {
    float: right;
    position: absolute;
    right: 5%;
    top: 25%; }
  .table-row--header {
    padding-top: 15px;
    padding-bottom: 15px;
    box-sizing: border-box;
    font-size: 15px;
    font-weight: 500;
    background-color: #e4e4ea;
    color: black;
    text-transform: uppercase;
    text-shadow: none;
    border-top: none;
    border-bottom: none;
    min-height: 24px;
    line-height: 24px; }
  .table-row--tappable {
    transition: background-color 0.2s linear; }
    .table-row--tappable:active {
      transition: none;
      background: #0a9ec1; }
    .table-row--tappable:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row--tappable:hover {
      transition: none; }
  .table-row--chevron {
    transition: background-color 0.2s linear;
    overflow: hidden;
    transition: background-color 0.2s linear; }
    .table-row--chevron:active {
      transition: none;
      background: #0a9ec1; }
    .table-row--chevron:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--chevron:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #b1b1bc;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--chevron:hover {
      transition: none; }
    .table-row--chevron:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row--chevron:hover {
      transition: none; }
  .table-row--detail {
    transition: background-color 0.2s linear;
    overflow: hidden;
    transition: background-color 0.2s linear; }
    .table-row--detail:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--detail:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #0a9ec1;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--detail:hover {
      transition: none; }
    .table-row--detail:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row--detail:hover {
      transition: none; }
  .table-row--order {
    transition: background-color 0.2s linear;
    overflow: hidden; }
    .table-row--order:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--order:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #b1b1bc;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--order:hover {
      transition: none; }
  .table-row--edit {
    transition: background-color 0.2s linear;
    overflow: hidden; }
    .table-row--edit:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--edit:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #ff5c5c;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--edit:hover {
      transition: none; }
    .table-row--edit:before {
      left: 5px;
      right: auto; }
    .table-row--edit > .table-row__content {
      padding-left: 25px; }
  .table-row--nav-left {
    transition: background-color 0.2s linear;
    transition: background-color 0.2s linear;
    overflow: hidden; }
    .table-row--nav-left:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row--nav-left:hover {
      transition: none; }
    .table-row--nav-left:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--nav-left:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #b1b1bc;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--nav-left:hover {
      transition: none; }
  .table-row--nav-right {
    transition: background-color 0.2s linear;
    transition: background-color 0.2s linear;
    overflow: hidden; }
    .table-row--nav-right:active {
      color: #fff !important;
      transition: none;
      background: #0a9ec1; }
    .table-row--nav-right:hover {
      transition: none; }
    .table-row--nav-right:active {
      background-color: #0a9ec1;
      transition: none; }
    .table-row--nav-right:before {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      font-style: normal;
      font-weight: normal;
      position: absolute;
      right: 12px;
      top: 50%;
      color: #b1b1bc;
      line-height: 28px;
      height: 28px;
      font-size: 28px;
      font-family: FontAwesome;
      content: ""; }
    .table-row--nav-right:hover {
      transition: none; }
  .table-row--actionable .table-row__content {
    transition: 0.3s;
    position: relative;
    z-index: 10; }
  .table-row__actions {
    overflow: hidden;
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    position: absolute;
    top: 0;
    height: 100%;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-direction: row;
    -ms-flex-direction: row;
    flex-direction: row;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
    transition: -webkit-transform .3s ease-out;
    transition: transform .3s ease-out;
    transition: transform .3s ease-out, -webkit-transform .3s ease-out;
    will-change: transform;
    z-index: 50;
    width: auto; }
    .table-row__actions__button {
      cursor: pointer;
      font-size: 1rem;
      margin: 0;
      color: #fff;
      border-radius: 0;
      padding: 2px 15px;
      min-width: 75px; }
      .table-row__actions__button i {
        display: block; }
    .table-row__actions .btn-delete {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      transition: background-color 0.2s linear;
      background-color: #e53838;
      border: none;
      outline: none; }
      .table-row__actions .btn-delete:active {
        background-color: #a21515; }
      .table-row__actions .btn-delete:hover {
        background-color: #b81818; }
    .table-row__actions .btn-flag {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      transition: background-color 0.2s linear;
      background-color: #dd6b1f;
      border: none;
      outline: none; }
      .table-row__actions .btn-flag:active {
        background-color: #844012; }
      .table-row__actions .btn-flag:hover {
        background-color: #9a4b16; }
    .table-row__actions .btn-more {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      transition: background-color 0.2s linear;
      background-color: #4364dd;
      border: none;
      outline: none; }
      .table-row__actions .btn-more:active {
        background-color: #1c389e; }
      .table-row__actions .btn-more:hover {
        background-color: #2040b3; }
    .table-row__actions .btn-info {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      transition: background-color 0.2s linear;
      background-color: #848484;
      border: none;
      outline: none; }
      .table-row__actions .btn-info:active {
        background-color: #515151; }
      .table-row__actions .btn-info:hover {
        background-color: #5e5e5e; }
    .table-row__actions--left {
      left: 0;
      -webkit-transform: translateX(-110%);
      transform: translateX(-110%); }
      .table-row__actions--left.is-visible {
        -webkit-transform: translateX(0%);
        transform: translateX(0%); }
        .table-row__actions--left.is-visible .table-row__actions__button {
          transition: width 300ms ease-out;
          width: auto; }
    .table-row__actions--right {
      right: 0;
      -webkit-transform: translateX(110%);
      transform: translateX(110%); }
      .table-row__actions--right.is-visible {
        -webkit-transform: translateX(0%);
        transform: translateX(0%); }

.table-row.checkbox {
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  line-height: 44px; }

.table-row__checkbox {
  position: relative;
  display: inline-block;
  vertical-align: top;
  cursor: default;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  font-weight: 400;
  font-size: 17px;
  line-height: 24px;
  margin: 10px 0; }
  .table-row__checkbox input[type="checkbox"] {
    position: absolute;
    overflow: hidden;
    right: 0;
    top: 0;
    left: 0;
    bottom: 0;
    padding: 0;
    border: 0;
    opacity: 0.001;
    z-index: 1;
    vertical-align: top;
    outline: none;
    width: 100%;
    height: 100%;
    margin: 0;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    height: 0;
    width: 0; }
  .table-row__checkbox input[type="checkbox"]:checked {
    background: #0a9ec1; }
  .table-row__checkbox input[type="checkbox"]:checked + div:before {
    background: #0a9ec1;
    border: 1px solid #0a9ec1; }
  .table-row__checkbox input[type="checkbox"]:checked + div:after {
    opacity: 1; }
  .table-row__checkbox input[type="checkbox"]:focus + div:before {
    box-shadow: none; }
  .table-row__checkbox input[type="checkbox"]:disabled + div {
    opacity: 0.3;
    cursor: default;
    pointer-events: none; }
  .table-row__checkbox input[type="checkbox"]:disabled:active + div:before {
    background: transparent;
    box-shadow: none; }
  .table-row__checkbox__checkmark {
    box-sizing: border-box;
    background-clip: padding-box;
    position: relative;
    display: inline-block;
    vertical-align: top;
    cursor: default;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    font-weight: 400;
    font-size: 17px;
    position: relative;
    overflow: hidden;
    width: 24px;
    height: 24px; }
    .table-row__checkbox__checkmark:before {
      content: '';
      position: absolute;
      box-sizing: border-box;
      background-clip: padding-box;
      width: 24px;
      height: 24px;
      background: transparent;
      border: 1px solid #0a9ec1;
      border-radius: 16px;
      box-shadow: none;
      left: 0; }
    .table-row__checkbox__checkmark:after {
      content: '';
      position: absolute;
      top: 8px;
      left: 6px;
      width: 12px;
      height: 6px;
      background: transparent;
      border: 3px solid white;
      border-width: 2px;
      border-top: none;
      border-right: none;
      border-radius: 0;
      -webkit-transform: rotate(-45deg);
      transform: rotate(-45deg);
      opacity: 0; }
  .table-row__checkbox--no-border {
    background: transparent;
    border: none; }
    .table-row__checkbox--no-border input[type="checkbox"] {
      background: transparent; }
      .table-row__checkbox--no-border input[type="checkbox"] + div:before {
        border: none; }
      .table-row__checkbox--no-border input[type="checkbox"] + div:after {
        border-color: #0a9ec1; }
      .table-row__checkbox--no-border input[type="checkbox"]:checked + div:before {
        border: none;
        background: transparent; }
      .table-row__checkbox--no-border input[type="checkbox"]:checked + div:after {
        border-color: #0a9ec1;
        opacity: 1; }
      .table-row__checkbox--no-border input[type="checkbox"]:disabled + div:after {
        opacity: 0.5; }

.table-row > input.text-input {
  margin: 0;
  min-height: 44px;
  font-size: 1.3rem;
  background: transparent;
  border: none;
  box-shadow: none; }

.table-row > .btn {
  outline: none;
  min-height: 44px; }

@charset "UTF-8";
/*
 * Copyright (c) 2014 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */
/*
 * Copyright (c) 2016 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */
/*
THIS FILE SHOULD CONTAIN ONLY ABSTRACT/'SKETCH' THEME RULES, NOT SPECIFIC TO PREDIX BRANDING
Predix branding rules go in my-px-comp-predix.scss, not in this file.
*/
* {
  -webkit-tap-highlight-color: transparent; }

.table-view {
  overflow-y: scroll;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  font-family: "GE Inspira Sans", sans-serif;
  font-weight: 500;
  border: none;
  background: transparent;
  background-color: white;
  cursor: default;
  list-style-type: none;
  line-height: normal;
  margin: 0;
  padding: 0;
  position: relative;
  text-align: left;
  transition: -webkit-transform 500ms ease;
  transition: transform 500ms ease;
  transition: transform 500ms ease, -webkit-transform 500ms ease; }
  .table-view .switch {
    position: relative;
    display: inline-block;
    vertical-align: top;
    box-sizing: border-box;
    background-clip: padding-box;
    position: relative;
    overflow: hidden;
    font-size: 17px;
    padding: 0 20px;
    border: none;
    overflow: visible;
    width: 51px;
    height: 32px;
    z-index: 0;
    text-align: left; }
    .table-view .switch input {
      position: absolute;
      overflow: hidden;
      right: 0;
      top: 0;
      left: 0;
      bottom: 0;
      padding: 0;
      border: 0;
      opacity: 0.001;
      z-index: 1;
      vertical-align: top;
      outline: none;
      width: 100%;
      height: 100%;
      margin: 0;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 51px;
      height: 44px;
      margin-top: -6px;
      top: 0;
      left: 0;
      transition: all 0.2s linear; }
    .table-view .switch__toggle {
      background-color: #ddd;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 30px;
      transition-property: all;
      transition-duration: 0.35s;
      transition-timing-function: ease-out; }
      .table-view .switch__toggle:before {
        box-sizing: border-box;
        background-clip: padding-box;
        position: absolute;
        content: '';
        border-radius: 28px;
        height: 28px;
        width: 28px;
        background-color: #fff;
        left: 2px;
        top: 2px;
        transition-property: all;
        transition-duration: 0.35s;
        transition-timing-function: cubic-bezier(0.5, 1.6, 0.5, 1); }
    .table-view .switch input:checked + .toggle {
      background-color: #4cd964; }
    .table-view .switch input:checked + .toggle:before {
      -webkit-transform: translateX(18px);
      transform: translateX(18px); }
    .table-view .switch input:not(:checked) + .toggle:before {
      -webkit-transform: translateX(0px);
      transform: translateX(0px); }
    .table-view .switch input:disabled + .toggle {
      opacity: 0.3;
      cursor: default;
      pointer-events: none; }
    .table-view .switch.table-row {
      float: right;
      margin-top: 6px;
      margin-right: 10px; }
  .table-view:before, .table-view:after {
    display: table;
    content: " "; }
  .table-view:after {
    clear: both; }
  .table-view .table-row {
    min-height: 44px;
    line-height: 44px;
    width: 100%;
    font-size: 1.1rem;
    border-color: #b1b1bc;
    box-sizing: border-box;
    background-color: transparent;
    position: relative;
    overflow: hidden;
    display: block;
    margin: 0;
    padding: 0 10px;
    transition: background-color 0.3s linear;
    -webkit-appearance: normal;
    -moz-appearance: normal;
    appearance: normal;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; }
    .table-view .table-row:before, .table-view .table-row:after {
      display: table;
      content: " "; }
    .table-view .table-row:after {
      clear: both; }
    .table-view .table-row h1,
    .table-view .table-row h2,
    .table-view .table-row h3,
    .table-view .table-row h4,
    .table-view .table-row h5,
    .table-view .table-row h6,
    .table-view .table-row p {
      margin: 0;
      padding: 0;
      line-height: normal; }
    .table-view .table-row > *:not(input),
    .table-view .table-row > *:not(textarea),
    .table-view .table-row > *:not(select) {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none; }
    .table-view .table-row:last-child {
      border-bottom: none; }
    .table-view .table-row:first-child:last-child {
      border-top: none;
      border-bottom: none; }
    .table-view .table-row:not(:last-child) {
      border-bottom: 1px solid #b1b1bc; }
    .table-view .table-row > a {
      text-decoration: none;
      color: black;
      transition: background-color 0.2s linear; }
      .table-view .table-row > a:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row > a:hover {
        transition: none; }
    .table-view .table-row__media {
      display: table-cell;
      vertical-align: middle;
      padding-right: 1rem;
      padding-left: 0.1rem; }
      .table-view .table-row__media--right {
        float: right; }
        .table-view .table-row__media--right > i {
          margin-top: 0.7rem; }
      .table-view .table-row__media--toggle {
        padding-top: 0.5rem;
        padding-left: 0.5rem; }
      .table-view .table-row__media--image {
        padding-right: 1rem;
        padding-left: 0.1rem; }
        .table-view .table-row__media--image img {
          display: block;
          max-width: 80px;
          max-height: 80px; }
      .table-view .table-row__media--icon {
        padding-right: 0.5rem;
        padding-left: 0.5rem; }
    .table-view .table-row--icon-left .table-row__media--icon {
      float: left; }
    .table-view .table-row--icon-right .table-row__media--icon {
      float: right; }
    .table-view .table-row--image-left .table-row__media--image {
      float: left; }
    .table-view .table-row--image-right .table-row__media--image {
      float: right;
      margin-right: 1rem; }
    .table-view .table-row--flush {
      line-height: normal; }
    .table-view .table-row__content {
      display: table-cell;
      vertical-align: middle;
      width: 100%;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      padding-right: 2rem; }
      .table-view .table-row__content--flush {
        line-height: normal; }
      .table-view .table-row__content__title {
        padding: 0;
        font-size: 1.1rem;
        display: block;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        white-space: nowrap; }
        @media (max-width: 320px) {
          .table-view .table-row__content__title {
            font-size: 1rem; } }
        .table-view .table-row__content__title--flush {
          line-height: normal; }
        .table-view .table-row__content__title--small {
          font-size: 0.8rem;
          line-height: normal; }
        .table-view .table-row__content__title--large {
          font-size: 1.5rem; }
      .table-view .table-row__content__body {
        display: block;
        line-height: normal; }
        .table-view .table-row__content__body--flush {
          line-height: normal; }
    .table-view .table-row__label {
      color: #9999a3; }
      .table-view .table-row__label--right {
        margin-right: 2rem;
        right: 2%;
        position: absolute; }
      .table-view .table-row__label--left {
        float: left;
        position: relative;
        margin-left: 5%; }
      @media (max-width: 320px) {
        .table-view .table-row__label {
          margin-top: 7%;
          font-size: 0.9rem; } }
    .table-view .table-row__icon {
      padding: 0; }
      .table-view .table-row__icon--left {
        float: left; }
      .table-view .table-row__icon--right {
        float: right; }
    .table-view .table-row__reorder-btn {
      float: right;
      position: absolute;
      right: 5%;
      top: 25%; }
    .table-view .table-row--header {
      padding-top: 15px;
      padding-bottom: 15px;
      box-sizing: border-box;
      font-size: 15px;
      font-weight: 500;
      background-color: #e4e4ea;
      color: black;
      text-transform: uppercase;
      text-shadow: none;
      border-top: none;
      border-bottom: none;
      min-height: 24px;
      line-height: 24px; }
    .table-view .table-row--tappable {
      transition: background-color 0.2s linear; }
      .table-view .table-row--tappable:active {
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--tappable:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--tappable:hover {
        transition: none; }
    .table-view .table-row--chevron {
      transition: background-color 0.2s linear;
      overflow: hidden;
      transition: background-color 0.2s linear; }
      .table-view .table-row--chevron:active {
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--chevron:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--chevron:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #b1b1bc;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--chevron:hover {
        transition: none; }
      .table-view .table-row--chevron:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--chevron:hover {
        transition: none; }
    .table-view .table-row--detail {
      transition: background-color 0.2s linear;
      overflow: hidden;
      transition: background-color 0.2s linear; }
      .table-view .table-row--detail:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--detail:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #0a9ec1;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--detail:hover {
        transition: none; }
      .table-view .table-row--detail:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--detail:hover {
        transition: none; }
    .table-view .table-row--order {
      transition: background-color 0.2s linear;
      overflow: hidden; }
      .table-view .table-row--order:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--order:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #b1b1bc;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--order:hover {
        transition: none; }
    .table-view .table-row--edit {
      transition: background-color 0.2s linear;
      overflow: hidden; }
      .table-view .table-row--edit:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--edit:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #ff5c5c;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--edit:hover {
        transition: none; }
      .table-view .table-row--edit:before {
        left: 5px;
        right: auto; }
      .table-view .table-row--edit > .table-row__content {
        padding-left: 25px; }
    .table-view .table-row--nav-left {
      transition: background-color 0.2s linear;
      transition: background-color 0.2s linear;
      overflow: hidden; }
      .table-view .table-row--nav-left:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--nav-left:hover {
        transition: none; }
      .table-view .table-row--nav-left:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--nav-left:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #b1b1bc;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--nav-left:hover {
        transition: none; }
    .table-view .table-row--nav-right {
      transition: background-color 0.2s linear;
      transition: background-color 0.2s linear;
      overflow: hidden; }
      .table-view .table-row--nav-right:active {
        color: #fff !important;
        transition: none;
        background: #0a9ec1; }
      .table-view .table-row--nav-right:hover {
        transition: none; }
      .table-view .table-row--nav-right:active {
        background-color: #0a9ec1;
        transition: none; }
      .table-view .table-row--nav-right:before {
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        font-style: normal;
        font-weight: normal;
        position: absolute;
        right: 12px;
        top: 50%;
        color: #b1b1bc;
        line-height: 28px;
        height: 28px;
        font-size: 28px;
        font-family: FontAwesome;
        content: ""; }
      .table-view .table-row--nav-right:hover {
        transition: none; }
    .table-view .table-row--actionable .table-row__content {
      transition: 0.3s;
      position: relative;
      z-index: 10; }
    .table-view .table-row__actions {
      overflow: hidden;
      -webkit-transform-style: preserve-3d;
      transform-style: preserve-3d;
      position: absolute;
      top: 0;
      height: 100%;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-flex-direction: row;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-justify-content: space-between;
      -ms-flex-pack: justify;
      justify-content: space-between;
      transition: -webkit-transform .3s ease-out;
      transition: transform .3s ease-out;
      transition: transform .3s ease-out, -webkit-transform .3s ease-out;
      will-change: transform;
      z-index: 50;
      width: auto; }
      .table-view .table-row__actions__button {
        cursor: pointer;
        font-size: 1rem;
        margin: 0;
        color: #fff;
        border-radius: 0;
        padding: 2px 15px;
        min-width: 75px; }
        .table-view .table-row__actions__button i {
          display: block; }
      .table-view .table-row__actions .btn-delete {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        transition: background-color 0.2s linear;
        background-color: #e53838;
        border: none;
        outline: none; }
        .table-view .table-row__actions .btn-delete:active {
          background-color: #a21515; }
        .table-view .table-row__actions .btn-delete:hover {
          background-color: #b81818; }
      .table-view .table-row__actions .btn-flag {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        transition: background-color 0.2s linear;
        background-color: #dd6b1f;
        border: none;
        outline: none; }
        .table-view .table-row__actions .btn-flag:active {
          background-color: #844012; }
        .table-view .table-row__actions .btn-flag:hover {
          background-color: #9a4b16; }
      .table-view .table-row__actions .btn-more {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        transition: background-color 0.2s linear;
        background-color: #4364dd;
        border: none;
        outline: none; }
        .table-view .table-row__actions .btn-more:active {
          background-color: #1c389e; }
        .table-view .table-row__actions .btn-more:hover {
          background-color: #2040b3; }
      .table-view .table-row__actions .btn-info {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        transition: background-color 0.2s linear;
        background-color: #848484;
        border: none;
        outline: none; }
        .table-view .table-row__actions .btn-info:active {
          background-color: #515151; }
        .table-view .table-row__actions .btn-info:hover {
          background-color: #5e5e5e; }
      .table-view .table-row__actions--left {
        left: 0;
        -webkit-transform: translateX(-110%);
        transform: translateX(-110%); }
        .table-view .table-row__actions--left.is-visible {
          -webkit-transform: translateX(0%);
          transform: translateX(0%); }
          .table-view .table-row__actions--left.is-visible .table-row__actions__button {
            transition: width 300ms ease-out;
            width: auto; }
      .table-view .table-row__actions--right {
        right: 0;
        -webkit-transform: translateX(110%);
        transform: translateX(110%); }
        .table-view .table-row__actions--right.is-visible {
          -webkit-transform: translateX(0%);
          transform: translateX(0%); }
  .table-view .table-row.checkbox {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    line-height: 44px; }
  .table-view .table-row__checkbox {
    position: relative;
    display: inline-block;
    vertical-align: top;
    cursor: default;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    font-weight: 400;
    font-size: 17px;
    line-height: 24px;
    margin: 10px 0; }
    .table-view .table-row__checkbox input[type="checkbox"] {
      position: absolute;
      overflow: hidden;
      right: 0;
      top: 0;
      left: 0;
      bottom: 0;
      padding: 0;
      border: 0;
      opacity: 0.001;
      z-index: 1;
      vertical-align: top;
      outline: none;
      width: 100%;
      height: 100%;
      margin: 0;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      height: 0;
      width: 0; }
    .table-view .table-row__checkbox input[type="checkbox"]:checked {
      background: #0a9ec1; }
    .table-view .table-row__checkbox input[type="checkbox"]:checked + div:before {
      background: #0a9ec1;
      border: 1px solid #0a9ec1; }
    .table-view .table-row__checkbox input[type="checkbox"]:checked + div:after {
      opacity: 1; }
    .table-view .table-row__checkbox input[type="checkbox"]:focus + div:before {
      box-shadow: none; }
    .table-view .table-row__checkbox input[type="checkbox"]:disabled + div {
      opacity: 0.3;
      cursor: default;
      pointer-events: none; }
    .table-view .table-row__checkbox input[type="checkbox"]:disabled:active + div:before {
      background: transparent;
      box-shadow: none; }
    .table-view .table-row__checkbox__checkmark {
      box-sizing: border-box;
      background-clip: padding-box;
      position: relative;
      display: inline-block;
      vertical-align: top;
      cursor: default;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      font-weight: 400;
      font-size: 17px;
      position: relative;
      overflow: hidden;
      width: 24px;
      height: 24px; }
      .table-view .table-row__checkbox__checkmark:before {
        content: '';
        position: absolute;
        box-sizing: border-box;
        background-clip: padding-box;
        width: 24px;
        height: 24px;
        background: transparent;
        border: 1px solid #0a9ec1;
        border-radius: 16px;
        box-shadow: none;
        left: 0; }
      .table-view .table-row__checkbox__checkmark:after {
        content: '';
        position: absolute;
        top: 8px;
        left: 6px;
        width: 12px;
        height: 6px;
        background: transparent;
        border: 3px solid white;
        border-width: 2px;
        border-top: none;
        border-right: none;
        border-radius: 0;
        -webkit-transform: rotate(-45deg);
        transform: rotate(-45deg);
        opacity: 0; }
    .table-view .table-row__checkbox--no-border {
      background: transparent;
      border: none; }
      .table-view .table-row__checkbox--no-border input[type="checkbox"] {
        background: transparent; }
        .table-view .table-row__checkbox--no-border input[type="checkbox"] + div:before {
          border: none; }
        .table-view .table-row__checkbox--no-border input[type="checkbox"] + div:after {
          border-color: #0a9ec1; }
        .table-view .table-row__checkbox--no-border input[type="checkbox"]:checked + div:before {
          border: none;
          background: transparent; }
        .table-view .table-row__checkbox--no-border input[type="checkbox"]:checked + div:after {
          border-color: #0a9ec1;
          opacity: 1; }
        .table-view .table-row__checkbox--no-border input[type="checkbox"]:disabled + div:after {
          opacity: 0.5; }
  .table-view .table-row > input.text-input {
    margin: 0;
    min-height: 44px;
    font-size: 1.3rem;
    background: transparent;
    border: none;
    box-shadow: none; }
  .table-view .table-row > .btn {
    outline: none;
    min-height: 44px; }
  .table-view--responsive {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-left: 0;
    margin-top: 0; }
    .table-view--responsive .table-row {
      -webkit-flex: 1 0 240px;
      -ms-flex: 1 0 240px;
      flex: 1 0 240px;
      margin-left: 0;
      margin-top: 0; }
      @media (min-width: 480px) {
        .table-view--responsive .table-row {
          max-width: calc(50% - 0); } }
      @media (min-width: 720px) {
        .table-view--responsive .table-row {
          max-width: calc(33.33333% - 0); } }
      @media (min-width: 960px) {
        .table-view--responsive .table-row {
          max-width: calc(25% - 0); } }
      @media (min-width: 960px) {
        .table-view--responsive .table-row {
          min-width: calc(25% - 0); } }
    .table-view--responsive > *:last-child {
      border-bottom: 1px solid #b1b1bc !important; }
  .table-view--inset {
    background-image: none;
    border: 1px solid #b1b1bc;
    border-radius: 4px;
    margin: 8px; }
  .table-view--ptr > .table-row {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none; }
  .table-view--bare {
    border: none;
    background: transparent; }
    .table-view--bare > .table-row {
      border: none;
      background: transparent; }
  .table-view--rev {
    direction: rtl; }
  .table-view--flush {
    padding: 0; }
  .table-view--tiny .table-row {
    padding: 0.2rem; }
  .table-view--small .table-row {
    padding: 0.5rem; }
  .table-view--flush .table-row {
    padding: 0; }
  .table-view--regular .table-row {
    padding: 1rem; }
  .table-view--large .table-row {
    padding: 2rem; }
  .table-view--huge .table-row {
    padding: 3rem; }
  .table-view--avatars > .table-row {
    padding: 0.5rem; }
    .table-view--avatars > .table-row img {
      height: 32px;
      border-radius: 6px; }
  .table-view .switch {
    float: right;
    position: absolute;
    margin-top: -25px;
    right: 3%; }
  .table-view .switch--table-row {
    float: right;
    margin-top: 6px;
    margin-right: 10px; }
  .table-view--nested .table-row {
    transition: -webkit-transform 500ms ease;
    transition: transform 500ms ease;
    transition: transform 500ms ease, -webkit-transform 500ms ease; }
    .table-view--nested .table-row.has-children {
      line-height: normal;
      overflow: hidden;
      max-height: 75px; }
      .table-view--nested .table-row.has-children .table-view {
        margin-left: 15px;
        -webkit-transform: translateX(99%);
        transform: translateX(99%); }
      .table-view--nested .table-row.has-children.is-selected {
        background: transparent;
        max-height: 100%; }
        .table-view--nested .table-row.has-children.is-selected > .table-view {
          display: block;
          -webkit-transform: translateX(0);
          transform: translateX(0); }

/*
 * Copyright (c) 2016 GE Global Research. All rights reserved.
 *
 * The copyright to the computer software herein is the property of
 * GE Global Research. The software may be used and/or copied only
 * with the written permission of GE Global Research or in accordance
 * with the terms and conditions stipulated in the agreement/contract
 * under which the software has been supplied.
 */
/*
THIS FILE SHOULD CONTAIN ONLY ABSTRACT/'SKETCH' THEME RULES, NOT SPECIFIC TO PREDIX BRANDING
Predix branding rules go in my-px-comp-predix.scss, not in this file.
*/

</style>
<dom-module id="px-table-view" assetpath="../px-table-view/">

  <template strip-whitespace="">

      <style>
        :host {
          display: block;
          min-height: 50vh;
        }
      </style>
    <ul class="table-view table-view--small">
      <template is="dom-if" if="{{items}}">
        <template is="dom-repeat" items="{{items}}">
          <li class="table-row table-row--tappable" on-click="handleSelect">
            <px-table-row item="{{item}}"></px-table-row>
          </li>
        </template>
      </template>
    </ul>
  </template>
  <script>
    Polymer({
      is: 'px-table-view',
      behaviors: [
        px.behaviors.TableView
      ],
      properties: {
        items: {
          type: Array
        },
        responsive: {
          type: Boolean,
          value: false
        }
      },
      created: function() {
       // console.log('Created', this.tagName);
       // console.dir(this);
      },
      attached: function() {
        if(this.responsive){
          this.toggleClass('table-view--responsive', this.responsive, this.$.list);
        }
      },
      handleSelect: function(e){
        console.log('select', e.model);
        this.fire('select', e.model);
      }
    });
  </script>
</dom-module>
<script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>

<script>var ViewEvents = {
  CHANGE: 'pxm:view:change',
  BEFORE: 'pxm:view:before',
  AFTER: 'pxm:view:after',
};
/** @polymerBehavior */

ViewEvents.attached = function() {

};


/**
// USAGE:

    pxMobile.behaviors.ViewEvents.ontouch('pxm-views', function(evt, dir, phase, swipetype, distance) {
      var touchreport = ''
      touchreport += '<b>Dir:</b> ' + dir + '<br />' // up down left right
      touchreport += '<b>Phase:</b> ' + phase + '<br />' //move / end
      touchreport += '<b>Swipe Type:</b> ' + swipetype + '<br />'
      touchreport += '<b>Distance:</b> ' + distance + '<br />'


      console.log('Dir', dir);
      console.log('Phase', phase);
      console.log('Type', swipetype);
      console.log('Distance', distance);


      if(dir === 'left' && phase === 'end'){
         document.querySelectorAll('pxm-views')[0].next();
      }
      if(dir === 'right' && phase === 'end'){
          document.querySelectorAll('pxm-views')[0].prev();
      }
    });


*/
ViewEvents.ontouch = function(el, callback) {
  var touchsurface = document.querySelector(el),
    dir,
    swipeType = '',
    startX,
    startY,
    distX,
    distY,
    dist = 0,
    threshold = 200, //required min distance traveled to be considered swipe
    restraint = 100, // maximum distance allowed at the same time in perpendicular direction
    allowedTime = 1000, // maximum time allowed to travel that distance
    elapsedTime,
    startTime;

  var handletouch = callback || function(evt, dir, phase, swipetype, distance) {
    console.log('handleTouch', evt, dir, phase, swipetype, distance);
  };

  var onTouchStart = function(e) {
    var touchobj = e;
    dir = 'none';
    swipeType = 'none';
    startX = touchobj.pageX;
    startY = touchobj.pageY;
    var startTime = new Date().getTime(); // record time when finger first makes contact with surface
    handletouch(e, 'none', 'start', swipeType, 0); // fire callback function with params dir="none", phase="start", swipetype="none" etc
    e.preventDefault();

  };

  var onTouchMove = function(e) {
    var touchobj = e;
    distX = touchobj.pageX - startX; // get horizontal dist traveled by finger while in contact with surface
    distY = touchobj.pageY - startY; // get vertical dist traveled by finger while in contact with surface

    if (Math.abs(distX) > Math.abs(distY)) {
      // if distance traveled horizontally is greater than vertically, consider this a horizontal movement
      dir = (distX < 0) ? 'left' : 'right';
      handletouch(e, dir, 'move', swipeType, distX);
      // fire callback function with params dir="left|right", phase="move", swipetype="none" etc
    } else {
      // else consider this a vertical movement
      dir = (distY < 0) ? 'up' : 'down';
      handletouch(e, dir, 'move', swipeType, distY); // fire callback function with params dir="up|down", phase="move", swipetype="none" etc
    }
    e.preventDefault();
    // prevent scrolling when inside DIV
  };


  var onTouchEnd = function(e) {
    var touchobj = e;
    elapsedTime = new Date().getTime() - startTime; // get time elapsed

    if (elapsedTime <= allowedTime) { // first condition for awipe met
      if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) { // 2nd condition for horizontal swipe met
        swipeType = dir; // set swipeType to either "left" or "right"
      } else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) { // 2nd condition for vertical swipe met
        swipeType = dir; // set swipeType to either "top" or "down"
      }
    }
    // Fire callback function with params dir="left|right|up|down", phase="end", swipetype=dir etc:
    handletouch(e, dir, 'end', swipeType, (dir === 'left' || dir === 'right') ? distX :
      distY);
    e.preventDefault();
  };


  touchsurface.addEventListener('touchstart', onTouchStart, false);
  touchsurface.addEventListener('touchmove', onTouchMove, false);
  touchsurface.addEventListener('touchend', onTouchEnd, false);

  touchsurface.addEventListener('dragstart', onTouchStart, false);
  touchsurface.addEventListener('drag', onTouchMove, false);
  touchsurface.addEventListener('dragend', onTouchEnd, false);

};
</script>
<script>var transitions = [{
  leave: 'moveToLeft',
  enter: 'moveFromRight'
}, {
  leave: 'moveToRight',
  enter: 'moveFromLeft'
}, {
  leave: 'moveToBottom',
  enter: 'moveFromTop'
}, {
  leave: 'fade',
  enter: 'moveFromRight ontop'
}, {
  leave: 'fade',
  enter: 'moveFromLeft ontop'
}, {
  leave: 'fade',
  enter: 'moveFromBottom ontop'
}, {
  leave: 'fade',
  enter: 'moveFromTop ontop'
}, {
  leave: 'moveToLeftFade',
  enter: 'moveFromRightFade'
}, {
  leave: 'moveToRightFade',
  enter: 'moveFromLeftFade'
}, {
  leave: 'moveToTopFade',
  enter: 'moveFromBottomFade'
}, {
  leave: 'moveToBottomFade',
  enter: 'moveFromTopFade'
}, {
  leave: 'moveToLeftEasing ontop',
  enter: 'moveFromRight'
}, {
  leave: 'moveToRightEasing ontop',
  enter: 'moveFromLeft'
}, {
  leave: 'moveToTopEasing ontop',
  enter: 'moveFromBottom'
}, {
  leave: 'moveToBottomEasing ontop',
  enter: 'moveFromTop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromRight ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromLeft ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromBottom ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromTop ontop'
}, {
  leave: 'scaleDown',
  enter: 'scaleUpDown delay300'
}, {
  leave: 'scaleDownUp',
  enter: 'scaleUp delay300'
}, {
  leave: 'moveToLeft ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToRight ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToTop ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToBottom ontop',
  enter: 'scaleUp'
}, {
  leave: 'scaleDownCenter',
  enter: 'scaleUpCenter delay400'
}, {
  leave: 'rotateRightSideFirst',
  enter: 'moveFromRight delay20 ontop'
}, {
  leave: 'rotateLeftSideFirst',
  enter: 'moveFromLeft delay20 ontop'
}, {
  leave: 'rotateTopSideFirst',
  enter: 'moveFromTop delay20 ontop'
}, {
  leave: 'rotateBottomSideFirst',
  enter: 'moveFromBottom delay20 ontop'
}, {
  leave: 'flipOutRight',
  enter: 'flipInLeft delay500'
}, {
  leave: 'flipOutLeft',
  enter: 'flipInRight delay500'
}, {
  leave: 'flipOutTop',
  enter: 'flipInBottom delay500'
}, {
  leave: 'flipOutBottom',
  enter: 'flipInTop delay500'
}, {
  leave: 'rotateFall ontop',
  enter: 'scaleUp'
}, {
  leave: 'rotateOutNewspaper',
  enter: 'rotateInNewspaper delay500'
}, {
  leave: 'rotatePushLeft',
  enter: 'moveFromRight'
}, {
  leave: 'rotatePushRight',
  enter: 'moveFromLeft'
}, {
  leave: 'rotatePushTop',
  enter: 'moveFromBottom'
}, {
  leave: 'rotatePushBottom',
  enter: 'moveFromTop'
}, {
  leave: 'rotatePushLeft',
  enter: 'rotatePullRight delay180'
}, {
  leave: 'rotatePushRight',
  enter: 'rotatePullLeft delay180'
}, {
  leave: 'rotatePushTop',
  enter: 'rotatePullBottom delay180'
}, {
  leave: 'rotatePushBottom',
  enter: 'rotatePullTop delay180'
}, {
  leave: 'rotateFoldLeft',
  enter: 'moveFromRightFade'
}, {
  leave: 'rotateFoldRight',
  enter: 'moveFromLeftFade'
}, {
  leave: 'rotateFoldTop',
  enter: 'moveFromBottomFade'
}, {
  leave: 'rotateFoldBottom',
  enter: 'moveFromTopFade'
}, {
  leave: 'moveToRightFade',
  enter: 'rotateUnfoldLeft'
}, {
  leave: 'moveToLeftFade',
  enter: 'rotateUnfoldRight'
}, {
  leave: 'moveToBottomFade',
  enter: 'rotateUnfoldTop'
}, {
  leave: 'moveToTopFade',
  enter: 'rotateUnfoldBottom'
}, {
  leave: 'rotateRoomLeftOut ontop',
  enter: 'rotateRoomLeftIn'
}, {
  leave: 'rotateRoomRightOut ontop',
  enter: 'rotateRoomRightIn'
}, {
  leave: 'rotateRoomTopOut ontop',
  enter: 'rotateRoomTopIn'
}, {
  leave: 'rotateRoomBottomOut ontop',
  enter: 'rotateRoomBottomIn'
}, {
  leave: 'rotateCubeLeftOut ontop',
  enter: 'rotateCubeLeftIn'
}, {
  leave: 'rotateCubeRightOut ontop',
  enter: 'rotateCubeRightIn'
}, {
  leave: 'rotateCubeTopOut ontop',
  enter: 'rotateCubeTopIn'
}, {
  leave: 'rotateCubeBottomOut ontop',
  enter: 'rotateCubeBottomIn'
}, {
  leave: 'rotateCarouselLeftOut ontop',
  enter: 'rotateCarouselLeftIn'
}, {
  leave: 'rotateCarouselRightOut ontop',
  enter: 'rotateCarouselRightIn'
}, {
  leave: 'rotateCarouselTopOut ontop',
  enter: 'rotateCarouselTopIn'
}, {
  leave: 'rotateCarouselBottomOut ontop',
  enter: 'rotateCarouselBottomIn'
}, {
  leave: 'rotateSidesOut',
  enter: 'rotateSidesIn delay200'
}, {
  leave: 'rotateSlideOut',
  enter: 'rotateSlideIn'
}].reverse();

function ViewTransitions() {
  var startElement = 0,
    animEndEventName = '',
    animEndEventNames = {
      'WebkitAnimation': 'webkitAnimationEnd',
      'OAnimation': 'oAnimationEnd',
      'msAnimation': 'MSAnimationEnd',
      'animation': 'animationend'
    };


  function getTransitionPrefix() {
    var v = ['Moz', 'Webkit', 'Khtml', 'O', 'ms'];
    var b = document.body || document.documentElement;
    var s = b.style;
    var p = 'animation';


    if (typeof s[p] === 'string') {
      return 'animation';
    }

    p = p.charAt(0).toUpperCase() + p.substr(1);
    for (var i = 0; i < v.length; i++) {
      if (typeof s[v[i] + p] === 'string') {
        return v[i] + p;
      }
    }
    return false;
  }


  // animation end event name
  animEndEventName = animEndEventNames[getTransitionPrefix()];

  function init(selected) {
    startElement = selected;
    console.warn('ViewTransitions.init', selected);

    var views = document.querySelectorAll('px-view');
    views.each(function(el) {
      console.log(el);
      el.attr('data-originalClassList', el.attr('class'));
    });
    document.querySelectorAll('px-views').each(function(el) {
      el.attr('data-current', '0');
      el.attr('data-isAnimating', 'false');
      //  el.children(".et-page").eq(startElement).addClass('et-page-current');
    });



    // TODO: HACK
    views[selected].removeClass('next');
  }

  function animate(options) {
    var el = options.current;
    var wrapper = el.parent();
    var inClass = formatClass(el.inTrans);
    var outClass = formatClass(el.outTrans);

    var currPage = options.current;
    var nextPage = options.next;
    var endCurrPage = false;
    var endNextPage = false;


    //If wrapper is not animating
    if (wrapper.attr('data-isAnimating') === 'true') {
      console.log(wrapper, wrapper.attr('data-isAnimating'));
      return false;
    }

    //wrapper.attr('data-isAnimating', 'true');

    //Steps for animateion

    //Current Page



    //Each outclass, add to the current page.
    outClass.forEach(function(c) {
      currPage.addClass(c);
      console.warn('adding class', c);
    });

    //Listen for animation end event
    currPage.addEventListener(animEndEventName, function() {
      console.warn(animEndEventName, 'finished - removing handler');
      currPage.off(animEndEventName);
      endCurrPage = true;
      if (endNextPage) {
        onEndAnimation(currPage, nextPage, el);
      }
    });

    //Next Page
    inClass.forEach(function(c) {
      nextPage.addClass(c);
    });

    nextPage.addEventListener(animEndEventName, function() {
      console.warn('Adding event listener to nextPage');
      nextPage.off(animEndEventName);
      endNextPage = true;
      if (endCurrPage) {
        onEndAnimation(currPage, nextPage, el);
        if (options.callback) {
          options.callback(currPage, nextPage);
        }
      }
    });

    console.warn('animate element', options, animEndEventName, inClass, outClass);
    console.warn('wrapper', wrapper);
  }

  function formatClass(str) {
    var classes = str.split(' ');
    var output = [];
    for (var i = 0; i < classes.length; i++) {
      output.push('pt-page-' + classes[i]);
    }
    return output;
  }


  function onEndAnimation($outpage, $inpage, block) {
    resetPage($outpage, $inpage);
    $outpage.trigger('animation.out.complete');
    $inpage.trigger('animation.in.complete');
    block.attr('data-isAnimating', 'false');
    console.warn('onEndAnimation');
  }

  function resetPage($outpage, $inpage) {
    $outpage.attr('class', $outpage.attr('data-originalClassList'));
    $inpage.attr('class', $inpage.attr('data-originalClassList') + ' et-page-current');
    console.warn('resetPage');
  }


  return {
    init: init,
    animate: animate
  };
}
</script>
<script type="text/javascript">
	/** @polymerBehavior */
	var ViewsBehavior = {
		logger: {
			logApi: function(o) {
				console.log('API', o);
			}
		},

		attached: function() {
			var _this = this;
			//  this.logger.logApi('attached', this.id + ' - ' + this.selected);
			this.selectedClassname = this.selectedClassname || 'et-page-current';
			this.ViewMap = {};
			this.ViewList = [];
			this.viewHistory = [];
			this.selected = 0;
			if (!this.id) {
				throw 'Views' + this.tagName + ' cannot be created without an id!';
			}
			if (this.url) {
				this.loadView(this.url);
			}
			this.async(function() {
				_this._initViews();
			});

			this.ViewTransitions = new ViewTransitions();
			this.ViewTransitions.init(this.selected);
			if(this.ViewList[this.selected]){
				this.ViewList[this.selected].removeClass('next');
			}

			this.trigger('ready', this);

		},
		hasView: function(name){
			return this.ViewMap[name];
		},
		_themeChanged: function(newVal, oldVal) {
			if (newVal) {
				this.logger.logApi('themeChanged', newVal);
				if (this.ViewList) {
					this.ViewList.forEach(function(View) {
						View.theme = newVal;
					});
				}
			}
		},
		_getChildren: function() {
			return this.$.viewWrapper.children;
		},
		_initViews: function() {
			var self = this;
			var children = this._getChildren();
			var len = children.length;
			for (var i = 0; i < len; i++) {
				self._addView(children[i]);
			}
			if (this.autoRouter) {
				this._listenToHash();
				this._initRouter();
			}
			this.resetViews();
			this.currentView = children[this.selected];
			this.gotoIndex(this.selected);
		},

		//Handle adding a view to the map
		_addView: function(View) {
			View.attr('index', this.ViewList.length.toString());
			View.viewContainer = this;
			if (this.theme) {
				View.theme = this.theme;
			}
			if (View.main === true) {
				this.main = View;
			}
			if (View.modal) {
				console.warn('Not adding modal');
				return;
			}
			View.addClass('et-page');
			View.addClass('next');
			this.ViewList.push(View);
			this.ViewMap[View.id] = View;
			this.views[View.id] = View;
			this.routes[View.route || '#/' + View.id] = View.id;
			this.logger.logApi('_addView', View.id);
		},
		getViewIndex: function(indexOrId) {
			if (this.ViewList[indexOrId]) {
				return this.ViewList[indexOrId];
			} else if (this.ViewMap[indexOrId]) {
				return this.ViewMap[indexOrId];
				//return this.ViewList.indexOf(this.ViewMap[indexOrId]);
			}
		},
		getCurrent: function() {
			return this.ViewList[this.selected];
		},


		createView: function(obj) {
			var view = new pxMobile.View('view', obj);
			console.log(this);
			//view.id =  view.id || 'view-' + this.ViewList.length + 1;
			console.log('createView', view);
			return view;
		},
		addView: function(view) {
			console.log('addView', view);
				console.log(this);

		//	this.element.ViewList.push(view);
			this.$.viewWrapper.appendChild(view.element);
			this._addView(view.element);

			console.log('appendView', view);
		},
		appendView: function(obj) {
			var view = new pxMobile.View('view', obj);
			view.id = 'view-' + this.$.viewWrapper.children.length + 1;
			this.ViewList.push(view);
			this.$.viewWrapper.appendChild(view.element);
			this._addView(view.element);

			console.log('appendView', view);
		},


		_clearCurrent: function() {
			var _this = this;
			this.logger.logApi('_clearCurrent');
			var _views = this._getChildren();
			if (_views) {
				_views.forEach(function(view) {
					view.removeClass('et-page-current');
				});
			}
		},
		loadView: function(url) {
			var _this = this,
				html = '';
			var view = '';
			this.importHref(url, function(e) {
				html = e.target.import.body.innerHTML;
				_this.logger.logApi('inject px-view html', _this.id);
				view = _this.html(html);
				_this.append(view);
			}, function(e) {
				this.logger.logApi('Error loading view', e);
			});
		},
		_setCurrent: function(index, oldIndex) {
			var _this = this;
			this.logger.logApi('_setCurrent', index);
			var children = this._getChildren();
			var prevView = children[oldIndex];
			var currentView = children[index];
			var nextView = children[index + 1];
			if(	prevView && currentView.fromView){


			}
				currentView.fromView = prevView;
this.currentView = currentView;
			this.prevView = prevView;

			this.nextView = nextView;
			if (prevView) {
				this._previousView = oldIndex;
				prevView.removeClass('next');
				prevView.addClass('previous');

				prevView.removeClass(this.selectedClassname || 'et-page-current');
			}
			if (nextView) {
				nextView.removeClass('previous');
				nextView.addClass('next');

				nextView.removeClass(this.selectedClassname || 'et-page-current');
			}

			if (currentView) {
				if (prevView) {
					this.logger.logApi('Prev View transition', _this.inTrans, _this.outTrans);
				}
				if (currentView.inTrans) {
					this.logger.logApi('Current View transition', currentView.inTrans, currentView.outTrans);
				}

				this._currentView = index;
				currentView.addClass(this.selectedClassname || 'et-page-current');
				currentView.removeClass('next');
				currentView.removeClass('previous');
			}


			this.fire('px:view:change', currentView);
			this.fire('change', currentView);
			this._updateHash();
		},
		//Reset all views to the current initial state.
		resetViews: function() {
			this.ViewList.forEach(function(view) {
				view.addClass('next');
				view.removeClass('previous');
			});
			this.ViewList[this.selected].addClass(this.selectedClassname || 'et-page-current');

			this.ViewList[this.selected].removeClass('next');
			this.selected = 0;
			this.current();
		},
		_setPrevNextClasses: function() {
			var current = this.selected;
			var prev = this.selected - 1;
			var next = this.selected + 1;
			var len = this.children.length;
			for (var i = 0; i < len; i++) {
				if (i === prev) {
					this.getChildren()[i].addClass('previous');
				} else {
					this.getChildren()[i].addClass('next');
				}
			}
		},
		//Goto the view by id
		gotoView: function(id) {
			var index = 0;
			var currentView = this.ViewMap[id];
			if (currentView) {
				index = this.ViewList.indexOf(currentView);
			}
			this.selected = index;
			this.logger.logApi('gotoview', id);

		},
		//Goto the view by index or id
		goto: function(indexOrId) {
			this.logger.logApi('goto', indexOrId);
			if (this.ViewMap[indexOrId]) {
				this.gotoView(indexOrId);
				return this.ViewMap[indexOrId];
			} else if (this.ViewList[indexOrId]) {
				this.gotoIndex(indexOrId);
				return this.ViewList[indexOrId];
			} else {
				throw new Error('px.mobile.behaviors.ViewsBehavior.goto - could not find view ' + indexOrId);
			}
		},
		//Goto the view by index
		gotoIndex: function(index) {
			this.selected = index;
			var currentView = this.ViewList[index];
			this.currentView = currentView;
		},
		//Goto the index of the selected property
		current: function() {
			this.gotoIndex(this.selected);
		},
		//Increase the selected property by 1
		next: function() {
			if (this.selected >= this.ViewList.length - 1) {
				if (this.loop) {
					this.resetViews();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		},
		//Decrease the selected property by 1
		prev: function() {
			if (this.selected <= 0) {
				this.current();
			} else {
				this.gotoIndex(this.selected - 1);
			}
		},
		//Remove the transitions
		removeTransition: function(index) {
			var view = this.ViewList[index];
			view.content.css('transition', 'none');
		},
		//Handle the transitions
		doTransition: function(index) {
			var view = this.ViewList[index];
			var position = view.position();
			view.css('transition', 'all 400ms ease')
				.css('transform', 'translate3d(' + (-1 * (position.left)) + 'px, 0, 0)');
		},
		//Handle setting the theme of the views
		setTheme: function(theme) {
			this.theme = theme;
		},
		//Handle navigating to the currentView.fromView
		back: function(id) {
			if (this.autoRouter) {
				window.history.back();
			} else {
				this.prev();
			}
			/*
			if (this.currentView && this.currentView.fromView) {
				return this.goto(this.currentView.fromView.id);
			}
			*/
		},

		//Parse the current location and return object.
		_parseUrl: function(url) {
			url = url || window.location.href;
			var parser = document.createElement('a');
			parser.href = url;
			return parser;
		},
		//Listen to hashchange event and set the hash to the view.
		_listenToHash: function() {
			var _this = this,
				_view;
			window.addEventListener('hashchange', function(e) {
				e.preventDefault();
				_view = _this._parseUrl().hash.replace(/\#\//g, '');
				_this.logger.logApi('hashchange', e);
				_this.gotoView(_view);
			});
		},
		//Update the location.hash when the view changes.
		_updateHash: function() {
			window.location.hash = this.currentView.route;
			this.logger.logApi('_updateHash', window.location.hash);

		},

		//Handle setting up the router
		_initRouter: function() {
			var _this = this;
			if (this.routerId) {
				this.logger.logApi('_initRouter', this.routerId);
				this.router = document.getElementById(this.routerId).router;
				this.router.listen();
			} else if (this.autoRouter) {
				var Router = new pxMobile.SimpleRouter(_this.id, {
					mode: _this.mode
				});
				Router.add('/', function() {
					_this.resetViews();
				});
				for (var route in this.routes) {
					_this.logger.logApi('add route', Router.regexRoute(route));
					Router.add(Router.regexRoute(route), function() {
						_this.gotoView.bind(_this, _this.ViewList[route].id);
						_this.logger.logApi('router callback', arguments, _this.routes[route]);
					});
				}

				_this.router = Router;
				Router.listen();
			}
		}

	};
</script>
<script>var transitions = [{
  leave: 'moveToLeft',
  enter: 'moveFromRight'
}, {
  leave: 'moveToRight',
  enter: 'moveFromLeft'
}, {
  leave: 'moveToBottom',
  enter: 'moveFromTop'
}, {
  leave: 'fade',
  enter: 'moveFromRight ontop'
}, {
  leave: 'fade',
  enter: 'moveFromLeft ontop'
}, {
  leave: 'fade',
  enter: 'moveFromBottom ontop'
}, {
  leave: 'fade',
  enter: 'moveFromTop ontop'
}, {
  leave: 'moveToLeftFade',
  enter: 'moveFromRightFade'
}, {
  leave: 'moveToRightFade',
  enter: 'moveFromLeftFade'
}, {
  leave: 'moveToTopFade',
  enter: 'moveFromBottomFade'
}, {
  leave: 'moveToBottomFade',
  enter: 'moveFromTopFade'
}, {
  leave: 'moveToLeftEasing ontop',
  enter: 'moveFromRight'
}, {
  leave: 'moveToRightEasing ontop',
  enter: 'moveFromLeft'
}, {
  leave: 'moveToTopEasing ontop',
  enter: 'moveFromBottom'
}, {
  leave: 'moveToBottomEasing ontop',
  enter: 'moveFromTop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromRight ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromLeft ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromBottom ontop'
}, {
  leave: 'scaleDown',
  enter: 'moveFromTop ontop'
}, {
  leave: 'scaleDown',
  enter: 'scaleUpDown delay300'
}, {
  leave: 'scaleDownUp',
  enter: 'scaleUp delay300'
}, {
  leave: 'moveToLeft ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToRight ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToTop ontop',
  enter: 'scaleUp'
}, {
  leave: 'moveToBottom ontop',
  enter: 'scaleUp'
}, {
  leave: 'scaleDownCenter',
  enter: 'scaleUpCenter delay400'
}, {
  leave: 'rotateRightSideFirst',
  enter: 'moveFromRight delay20 ontop'
}, {
  leave: 'rotateLeftSideFirst',
  enter: 'moveFromLeft delay20 ontop'
}, {
  leave: 'rotateTopSideFirst',
  enter: 'moveFromTop delay20 ontop'
}, {
  leave: 'rotateBottomSideFirst',
  enter: 'moveFromBottom delay20 ontop'
}, {
  leave: 'flipOutRight',
  enter: 'flipInLeft delay500'
}, {
  leave: 'flipOutLeft',
  enter: 'flipInRight delay500'
}, {
  leave: 'flipOutTop',
  enter: 'flipInBottom delay500'
}, {
  leave: 'flipOutBottom',
  enter: 'flipInTop delay500'
}, {
  leave: 'rotateFall ontop',
  enter: 'scaleUp'
}, {
  leave: 'rotateOutNewspaper',
  enter: 'rotateInNewspaper delay500'
}, {
  leave: 'rotatePushLeft',
  enter: 'moveFromRight'
}, {
  leave: 'rotatePushRight',
  enter: 'moveFromLeft'
}, {
  leave: 'rotatePushTop',
  enter: 'moveFromBottom'
}, {
  leave: 'rotatePushBottom',
  enter: 'moveFromTop'
}, {
  leave: 'rotatePushLeft',
  enter: 'rotatePullRight delay180'
}, {
  leave: 'rotatePushRight',
  enter: 'rotatePullLeft delay180'
}, {
  leave: 'rotatePushTop',
  enter: 'rotatePullBottom delay180'
}, {
  leave: 'rotatePushBottom',
  enter: 'rotatePullTop delay180'
}, {
  leave: 'rotateFoldLeft',
  enter: 'moveFromRightFade'
}, {
  leave: 'rotateFoldRight',
  enter: 'moveFromLeftFade'
}, {
  leave: 'rotateFoldTop',
  enter: 'moveFromBottomFade'
}, {
  leave: 'rotateFoldBottom',
  enter: 'moveFromTopFade'
}, {
  leave: 'moveToRightFade',
  enter: 'rotateUnfoldLeft'
}, {
  leave: 'moveToLeftFade',
  enter: 'rotateUnfoldRight'
}, {
  leave: 'moveToBottomFade',
  enter: 'rotateUnfoldTop'
}, {
  leave: 'moveToTopFade',
  enter: 'rotateUnfoldBottom'
}, {
  leave: 'rotateRoomLeftOut ontop',
  enter: 'rotateRoomLeftIn'
}, {
  leave: 'rotateRoomRightOut ontop',
  enter: 'rotateRoomRightIn'
}, {
  leave: 'rotateRoomTopOut ontop',
  enter: 'rotateRoomTopIn'
}, {
  leave: 'rotateRoomBottomOut ontop',
  enter: 'rotateRoomBottomIn'
}, {
  leave: 'rotateCubeLeftOut ontop',
  enter: 'rotateCubeLeftIn'
}, {
  leave: 'rotateCubeRightOut ontop',
  enter: 'rotateCubeRightIn'
}, {
  leave: 'rotateCubeTopOut ontop',
  enter: 'rotateCubeTopIn'
}, {
  leave: 'rotateCubeBottomOut ontop',
  enter: 'rotateCubeBottomIn'
}, {
  leave: 'rotateCarouselLeftOut ontop',
  enter: 'rotateCarouselLeftIn'
}, {
  leave: 'rotateCarouselRightOut ontop',
  enter: 'rotateCarouselRightIn'
}, {
  leave: 'rotateCarouselTopOut ontop',
  enter: 'rotateCarouselTopIn'
}, {
  leave: 'rotateCarouselBottomOut ontop',
  enter: 'rotateCarouselBottomIn'
}, {
  leave: 'rotateSidesOut',
  enter: 'rotateSidesIn delay200'
}, {
  leave: 'rotateSlideOut',
  enter: 'rotateSlideIn'
}].reverse();

function ViewTransitions() {
  var startElement = 0,
    animEndEventName = '',
    animEndEventNames = {
      'WebkitAnimation': 'webkitAnimationEnd',
      'OAnimation': 'oAnimationEnd',
      'msAnimation': 'MSAnimationEnd',
      'animation': 'animationend'
    };


  function getTransitionPrefix() {
    var v = ['Moz', 'Webkit', 'Khtml', 'O', 'ms'];
    var b = document.body || document.documentElement;
    var s = b.style;
    var p = 'animation';


    if (typeof s[p] === 'string') {
      return 'animation';
    }

    p = p.charAt(0).toUpperCase() + p.substr(1);
    for (var i = 0; i < v.length; i++) {
      if (typeof s[v[i] + p] === 'string') {
        return v[i] + p;
      }
    }
    return false;
  }


  // animation end event name
  animEndEventName = animEndEventNames[getTransitionPrefix()];

  function init(selected) {
    startElement = selected;
    console.warn('ViewTransitions.init', selected);

    var views = document.querySelectorAll('px-view');
    views.each(function(el) {
      console.log(el);
      el.attr('data-originalClassList', el.attr('class'));
    });
    document.querySelectorAll('px-views').each(function(el) {
      el.attr('data-current', '0');
      el.attr('data-isAnimating', 'false');
      //  el.children(".et-page").eq(startElement).addClass('et-page-current');
    });



    // TODO: HACK
    views[selected].removeClass('next');
  }

  function animate(options) {
    var el = options.current;
    var wrapper = el.parent();
    var inClass = formatClass(el.inTrans);
    var outClass = formatClass(el.outTrans);

    var currPage = options.current;
    var nextPage = options.next;
    var endCurrPage = false;
    var endNextPage = false;


    //If wrapper is not animating
    if (wrapper.attr('data-isAnimating') === 'true') {
      console.log(wrapper, wrapper.attr('data-isAnimating'));
      return false;
    }

    //wrapper.attr('data-isAnimating', 'true');

    //Steps for animateion

    //Current Page



    //Each outclass, add to the current page.
    outClass.forEach(function(c) {
      currPage.addClass(c);
      console.warn('adding class', c);
    });

    //Listen for animation end event
    currPage.addEventListener(animEndEventName, function() {
      console.warn(animEndEventName, 'finished - removing handler');
      currPage.off(animEndEventName);
      endCurrPage = true;
      if (endNextPage) {
        onEndAnimation(currPage, nextPage, el);
      }
    });

    //Next Page
    inClass.forEach(function(c) {
      nextPage.addClass(c);
    });

    nextPage.addEventListener(animEndEventName, function() {
      console.warn('Adding event listener to nextPage');
      nextPage.off(animEndEventName);
      endNextPage = true;
      if (endCurrPage) {
        onEndAnimation(currPage, nextPage, el);
        if (options.callback) {
          options.callback(currPage, nextPage);
        }
      }
    });

    console.warn('animate element', options, animEndEventName, inClass, outClass);
    console.warn('wrapper', wrapper);
  }

  function formatClass(str) {
    var classes = str.split(' ');
    var output = [];
    for (var i = 0; i < classes.length; i++) {
      output.push('pt-page-' + classes[i]);
    }
    return output;
  }


  function onEndAnimation($outpage, $inpage, block) {
    resetPage($outpage, $inpage);
    $outpage.trigger('animation.out.complete');
    $inpage.trigger('animation.in.complete');
    block.attr('data-isAnimating', 'false');
    console.warn('onEndAnimation');
  }

  function resetPage($outpage, $inpage) {
    $outpage.attr('class', $outpage.attr('data-originalClassList'));
    $inpage.attr('class', $inpage.attr('data-originalClassList') + ' et-page-current');
    console.warn('resetPage');
  }


  return {
    init: init,
    animate: animate
  };
}
</script>
<script>var ViewEvents = {
  CHANGE: 'pxm:view:change',
  BEFORE: 'pxm:view:before',
  AFTER: 'pxm:view:after',
};
/** @polymerBehavior */

ViewEvents.attached = function() {

};


/**
// USAGE:

    pxMobile.behaviors.ViewEvents.ontouch('pxm-views', function(evt, dir, phase, swipetype, distance) {
      var touchreport = ''
      touchreport += '<b>Dir:</b> ' + dir + '<br />' // up down left right
      touchreport += '<b>Phase:</b> ' + phase + '<br />' //move / end
      touchreport += '<b>Swipe Type:</b> ' + swipetype + '<br />'
      touchreport += '<b>Distance:</b> ' + distance + '<br />'


      console.log('Dir', dir);
      console.log('Phase', phase);
      console.log('Type', swipetype);
      console.log('Distance', distance);


      if(dir === 'left' && phase === 'end'){
         document.querySelectorAll('pxm-views')[0].next();
      }
      if(dir === 'right' && phase === 'end'){
          document.querySelectorAll('pxm-views')[0].prev();
      }
    });


*/
ViewEvents.ontouch = function(el, callback) {
  var touchsurface = document.querySelector(el),
    dir,
    swipeType = '',
    startX,
    startY,
    distX,
    distY,
    dist = 0,
    threshold = 200, //required min distance traveled to be considered swipe
    restraint = 100, // maximum distance allowed at the same time in perpendicular direction
    allowedTime = 1000, // maximum time allowed to travel that distance
    elapsedTime,
    startTime;

  var handletouch = callback || function(evt, dir, phase, swipetype, distance) {
    console.log('handleTouch', evt, dir, phase, swipetype, distance);
  };

  var onTouchStart = function(e) {
    var touchobj = e;
    dir = 'none';
    swipeType = 'none';
    startX = touchobj.pageX;
    startY = touchobj.pageY;
    var startTime = new Date().getTime(); // record time when finger first makes contact with surface
    handletouch(e, 'none', 'start', swipeType, 0); // fire callback function with params dir="none", phase="start", swipetype="none" etc
    e.preventDefault();

  };

  var onTouchMove = function(e) {
    var touchobj = e;
    distX = touchobj.pageX - startX; // get horizontal dist traveled by finger while in contact with surface
    distY = touchobj.pageY - startY; // get vertical dist traveled by finger while in contact with surface

    if (Math.abs(distX) > Math.abs(distY)) {
      // if distance traveled horizontally is greater than vertically, consider this a horizontal movement
      dir = (distX < 0) ? 'left' : 'right';
      handletouch(e, dir, 'move', swipeType, distX);
      // fire callback function with params dir="left|right", phase="move", swipetype="none" etc
    } else {
      // else consider this a vertical movement
      dir = (distY < 0) ? 'up' : 'down';
      handletouch(e, dir, 'move', swipeType, distY); // fire callback function with params dir="up|down", phase="move", swipetype="none" etc
    }
    e.preventDefault();
    // prevent scrolling when inside DIV
  };


  var onTouchEnd = function(e) {
    var touchobj = e;
    elapsedTime = new Date().getTime() - startTime; // get time elapsed

    if (elapsedTime <= allowedTime) { // first condition for awipe met
      if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) { // 2nd condition for horizontal swipe met
        swipeType = dir; // set swipeType to either "left" or "right"
      } else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) { // 2nd condition for vertical swipe met
        swipeType = dir; // set swipeType to either "top" or "down"
      }
    }
    // Fire callback function with params dir="left|right|up|down", phase="end", swipetype=dir etc:
    handletouch(e, dir, 'end', swipeType, (dir === 'left' || dir === 'right') ? distX :
      distY);
    e.preventDefault();
  };


  touchsurface.addEventListener('touchstart', onTouchStart, false);
  touchsurface.addEventListener('touchmove', onTouchMove, false);
  touchsurface.addEventListener('touchend', onTouchEnd, false);

  touchsurface.addEventListener('dragstart', onTouchStart, false);
  touchsurface.addEventListener('drag', onTouchMove, false);
  touchsurface.addEventListener('dragend', onTouchEnd, false);

};
</script>


<dom-module id="px-views" assetpath="../px-view/">
	<style>
		:host {
			-webkit-overflow-scrolling: touch;
			display: flex;
			height: 100%;
			min-height: 99vh;
			height: calc(100% - 5px);
			flex-wrap: wrap;
			flex-direction: column;
		}

		:host .wrapper {
			height: 100%;
			min-height: 99vh;
			position: relative;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			overflow: hidden;
			-webkit-transition: all .3s ease-in-out;
			transition: all .3s ease-in-out;

		}

		:host::content px-view {
			-webkit-transition: all .3s ease-in-out;
			transition: all .3s ease-in-out;
			position: absolute;

			bottom: 0;
			top: 0;
			width: 100%;
			will-change: transition;
		}

		:host::content .current,
		:host::content > *:target{
			opacity: 1;
			visibility: visible;
			display:block;
			-webkit-transform: translate(0, 0);
			transform: translate(0, 0);
		}

		:host::content .next {
			-webkit-transform: translate(10%, 0);
			transform: translate(10%, 0);
			opacity: 0;
			visibility: hidden;
		}

		:host::content .previous {
			-webkit-transform: translate(-10%, 0);
			transform: translate(-10%, 0);
			opacity: 0;
			visibility: hidden;
		}

		:host .wrapper.push-menu-open {
			transform: translate(250px, 0);
		}
/*
		:host ::content > * {
		  display: none;
			backface-visibility: hidden;
			transform: translate3d(0, 0, 0);
			transform-style: preserve-3d;
			background: red;
		}


		:host ::content > *:last-child {
		    display: block;

		}

		:host ::content{
			position:relative;
			overflow:hidden;
			background-color: green;
		}

		:host ::content > *:target {
			background-color: pink;
		  display: block;
		  animation: pulse 0.5s linear 1;
			animation: moveFromLeft .7s ease both;
		}

*/

	</style>
	<template>
		<article id="viewWrapper" class="wrapper et-wrapper">
			<content></content>
		</article>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'px-views',
		behaviors: [
			//pxMobile.behaviors.BaseElement,
			ViewEvents,
			ViewsBehavior
		],
		// add properties and methods on the element's prototype
		properties: {
			//The default selected view
			selected: {
				type: Number,
				reflectToAttribute: true,
				notify: true,
				observer: '_setCurrent',
				value: 0
			},
			//The current context of the view.
			context: {
				type: Object,
				value: {}
			},

			//The main view
			main: {
				type: Object,
				value: {}
			},
			//The list of views
			ViewTransitions: {
				type: Object,
				value: {}
			},

			//A Hash map of indexed views
			views: {
				type: Object,
				value: {}
			},

			//A Hash map of indexed view routes
			routes: {
				type: Object,
				value: {}
			},
			router: {
				type: Object,
				value: {}
			},

			//The in transition effect
			inTrans : {
				type: String, value: 'moveFromRight'
			},

			//The out transition effect
			outTrans: {
				type: String, value: 'moveToLeft'
			},

			//The theme to apply to the views
			theme: {
				type: String,
				notify: true,
				reflectToAttribute: true,
				observer: '_themeChanged'
			},

			//The url of the view to load
			url: {
				type: String
			},

			//The class name to set on the selected view
			selectedClassname: {
				type: String,
				notify: true,
				reflectToAttribute: true,
				value: 'et-page-current'
			},

			//Loop thru the views
			loop: {
				type: Boolean,
				value: false
			},

			//Enable auto routing of views based on the mode
			autoRouter: {
				type: Boolean,
				value: false
			},

			//The router mode
			mode: {
				type: String,
				value: 'history'
			},

			//Returns array with View's history. Each array element contains URL of loaded page
			viewHistory: {
				type: Array, value: []
			},

			routerId: {
				type: String
			}
		}
	});
</script>
<script type="text/javascript">
  var ViewBehavior = {
    
  };
</script>
<script>

  /**
   * `Polymer.IronScrollTargetBehavior` allows an element to respond to scroll events from a
   * designated scroll target.
   *
   * Elements that consume this behavior can override the `_scrollHandler`
   * method to add logic on the scroll event.
   *
   * @demo demo/scrolling-region.html Scrolling Region
   * @demo demo/document.html Document Element
   * @polymerBehavior
   */
  Polymer.IronScrollTargetBehavior = {

    properties: {

      /**
       * Specifies the element that will handle the scroll event
       * on the behalf of the current element. This is typically a reference to an element,
       * but there are a few more posibilities:
       *
       * ### Elements id
       *
       *```html
       * <div id="scrollable-element" style="overflow: auto;">
       *  <x-element scroll-target="scrollable-element">
       *    <!-- Content-->
       *  </x-element>
       * </div>
       *```
       * In this case, the `scrollTarget` will point to the outer div element. 
       *
       * ### Document scrolling
       *
       * For document scrolling, you can use the reserved word `document`:
       *
       *```html
       * <x-element scroll-target="document">
       *   <!-- Content -->
       * </x-element>
       *```
       *
       * ### Elements reference
       *
       *```js
       * appHeader.scrollTarget = document.querySelector('#scrollable-element');
       *```
       * 
       * @type {HTMLElement}
       */
      scrollTarget: {
        type: HTMLElement,
        value: function() {
          return this._defaultScrollTarget;
        }
      }
    },

    observers: [
      '_scrollTargetChanged(scrollTarget, isAttached)'
    ],

    _scrollTargetChanged: function(scrollTarget, isAttached) {
      var eventTarget;

      if (this._oldScrollTarget) {
        eventTarget = this._oldScrollTarget === this._doc ? window : this._oldScrollTarget;
        eventTarget.removeEventListener('scroll', this._boundScrollHandler);
        this._oldScrollTarget = null;
      }

      if (!isAttached) {
        return;
      }
      // Support element id references
      if (scrollTarget === 'document') {

        this.scrollTarget = this._doc;

      } else if (typeof scrollTarget === 'string') {

        this.scrollTarget = this.domHost ? this.domHost.$[scrollTarget] :
            Polymer.dom(this.ownerDocument).querySelector('#' + scrollTarget);

      } else if (this._isValidScrollTarget()) {

        eventTarget = scrollTarget === this._doc ? window : scrollTarget;
        this._boundScrollHandler = this._boundScrollHandler || this._scrollHandler.bind(this);
        this._oldScrollTarget = scrollTarget;

        eventTarget.addEventListener('scroll', this._boundScrollHandler);
      }
    },

    /**
     * Runs on every scroll event. Consumer of this behavior may override this method.
     *
     * @protected
     */
    _scrollHandler: function scrollHandler() {},

    /**
     * The default scroll target. Consumers of this behavior may want to customize
     * the default scroll target.
     *
     * @type {Element}
     */
    get _defaultScrollTarget() {
      return this._doc;
    },

    /**
     * Shortcut for the document element
     *
     * @type {Element}
     */
    get _doc() {
      return this.ownerDocument.documentElement;
    },

    /**
     * Gets the number of pixels that the content of an element is scrolled upward.
     *
     * @type {number}
     */
    get _scrollTop() {
      if (this._isValidScrollTarget()) {
        return this.scrollTarget === this._doc ? window.pageYOffset : this.scrollTarget.scrollTop;
      }
      return 0;
    },

    /**
     * Gets the number of pixels that the content of an element is scrolled to the left.
     *
     * @type {number}
     */
    get _scrollLeft() {
      if (this._isValidScrollTarget()) {
        return this.scrollTarget === this._doc ? window.pageXOffset : this.scrollTarget.scrollLeft;
      }
      return 0;
    },

    /**
     * Sets the number of pixels that the content of an element is scrolled upward.
     *
     * @type {number}
     */
    set _scrollTop(top) {
      if (this.scrollTarget === this._doc) {
        window.scrollTo(window.pageXOffset, top);
      } else if (this._isValidScrollTarget()) {
        this.scrollTarget.scrollTop = top;
      }
    },

    /**
     * Sets the number of pixels that the content of an element is scrolled to the left.
     *
     * @type {number}
     */
    set _scrollLeft(left) {
      if (this.scrollTarget === this._doc) {
        window.scrollTo(left, window.pageYOffset);
      } else if (this._isValidScrollTarget()) {
        this.scrollTarget.scrollLeft = left;
      }
    },

    /**
     * Scrolls the content to a particular place.
     *
     * @method scroll
     * @param {number} left The left position
     * @param {number} top The top position
     */
    scroll: function(left, top) {
       if (this.scrollTarget === this._doc) {
        window.scrollTo(left, top);
      } else if (this._isValidScrollTarget()) {
        this.scrollTarget.scrollLeft = left;
        this.scrollTarget.scrollTop = top;
      }
    },

    /**
     * Gets the width of the scroll target.
     *
     * @type {number}
     */
    get _scrollTargetWidth() {
      if (this._isValidScrollTarget()) {
        return this.scrollTarget === this._doc ? window.innerWidth : this.scrollTarget.offsetWidth;
      }
      return 0;
    },

    /**
     * Gets the height of the scroll target.
     *
     * @type {number}
     */
    get _scrollTargetHeight() {
      if (this._isValidScrollTarget()) {
        return this.scrollTarget === this._doc ? window.innerHeight : this.scrollTarget.offsetHeight;
      }
      return 0;
    },

    /**
     * Returns true if the scroll target is a valid HTMLElement.
     *
     * @return {boolean}
     */
    _isValidScrollTarget: function() {
      return this.scrollTarget instanceof HTMLElement;
    }
  };

</script>
<script type="text/javascript">
  /**
   * Private class to have x-axis point and left flick status by checking a current and previous position
   */
  var xPoint = function(x) {
    this.updated = false;
    this.x = this._prev = this._origin = x;
    this._timeStamp = (new Date()).getTime();
  };
  xPoint.prototype = {
    TIMER_RESET_THRESHOLD: -5 /* px */ ,
    VELOCITY_THRESHOLD: -0.2 /* px/ms */ ,
    distance: function() {
      // distance between touch start and current point
      return this.x - this._origin;
    },
    update: function(x) {
      // reset time stamp at move stop
      if (x - this.x > this.TIMER_RESET_THRESHOLD) {
        this._timeStamp = (new Date()).getTime();
        this._prev = this.x;
      }
      this.x = x;
      this.updated = true;
    },
    isFlick: function() {
      var dt = (new Date()).getTime() - this._timeStamp;
      var dx = this.x - this._prev;
      return (dx / dt) < this.VELOCITY_THRESHOLD;
    }
  };

  var SwippableViewBehavior = {
    properties: {
      /**
       * If true, the content will be opened by default
       *
       * @attribute open
       * @type boolean
       * @default false
       */
      open: {
        type: Boolean,
        value: false
      },
      /**
       * If true, drag (touch move) action is disabled and a content is automatically opened by click/touch
       *
       * @attribute nodrag
       * @type boolean
       * @default false
       */
      nodrag: {
        type: Boolean,
        value: false
      },
      /**
       * Offset pixcel position for opened state
       *
       * @attribute offset
       * @type number
       * @default 60
       */
      offset: {
        type: Number,
        value: 40
      },
      /**
       * If true, box shadow is added
       *
       * @attribute shadow
       * @type boolean
       * @default false
       */
      shadow: {
        type: Boolean,
        value: false
      },
      /**
       * If true, all gestures are disabled
       *
       * @attribute disabled
       * @type boolean
       * @default false
       */
      disabled: {
        type: Boolean,
        value: false,
        observer: 'disabledChanged'
      }
    },
    handleUp: function(e) {
      console.log('handleUp');
      if (this.nodrag) {
        this.toggleOpen();
      } else {
        this.onUp(e);
      }
    },
    disabledChanged: function(e) {
      console.warn('disabledChanged');
    },
    handleDown: function(e) {
      console.log('handleDown');
      this.onDown(e);
    },
    handleTrack: function(e) {
      console.log('handleTrack');
      if (this.disabled) {
        return;
      }
      switch (e.detail.state) {
        case 'track':
          this.onMove(e);
          break;
        case 'end':
          this.onUp(e);
          break;
      }
    },
    onDown: function(e) {
      this.point = new xPoint(e.detail.x);
      this.applyClass();
      console.log('onDown', e);
    },
    onMove: function(e) {
      var p = this.point;
      console.log('onMove', e, this);
      if (p) {
        p.update(e.detail.x);
        this.translate3d(this.open ? this.offset - this.$.viewContent.clientWidth + p.distance() + "px" : p.distance() + "px", 0, 0, this.$.viewContent);
        console.log('onMove', p.distance());
      }
    },
    onUp: function(e) {
      var p = this.point;
      if (!p) {
        return;
      }
      this.open = p && p.isFlick();
      this.point = null;
      this.applyClass();
      this.async(this.transition);
      console.log('onUp', this.open, this);
      console.log('onUp', e);
    },
    transition: function() {
      var transitionPx = this.offset - this.$.viewContent.clientWidth + "px";
      console.log('transition', transitionPx);
      this.translate3d(this.open ? transitionPx : 0, 0, 0, this.$.viewContent);
    },
    applyClass: function() {
      var list = ["style-scope swipe-content"]
      if (this.nodrag || this.point === null) {
        list.push("cubic-bezier");
      }
      console.log('applyClass', list);
      this.$.viewContent.className = list.join(" ");
    },

    _ready: function() {

      //console.log(this.tagName, 'created');
      this.applyClass();
      this.transition();
      // allow y scroll on this node but prevent x scroll
      this.setScrollDirection('y');
    },

    detached: function() {
      this.removeGestureListeners();
      console.log(this.tagName, 'detached');
    }
  };
</script>
<script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>




<dom-module id="px-view" assetpath="../px-view/">
	<link rel="stylesheet" href="../px-view/px-view.css">
	<style>
		:host {
			display: block;
			height: 100%;
			height: 99vh;
			min-height: 300px;
			position: relative;
		}

		:host .view-row,
		:host .view-col {
			overflow: hidden;
			position: absolute;
		}

		:host::content .content {
			position: relative;
			top: 44px;
			position: absolute;
			bottom: 0;
			width: 100%;
		}

		:host .view-row {
			left: 0;
			right: 0;
		}

		:host .view-col {
			top: 0;
			bottom: 0;
		}

		:host .scroll-x {
			overflow-x: auto;
		}

		:host::content .scroll-y,
		:host::content .content {
			overflow-y: auto;
			overflow-x: hidden;
			-webkit-overflow-scrolling: touch;
		}

		:host .view-header.view-row {
			height: 55px;
			top: 0;
		}

		:host .view-body.view-row {
			top: 0px;
			bottom: 50px;
		}

		:host .view-footer.view-row {
			height: 50px;
			bottom: 0;
		}

		:host.debug .view-header,
		:host.debug .view-footer {
			background-color: green;
		}

		:host.modal .view-body {
			position: relative !important;
		}
	</style>
	<template>
		<div class="viewContent">

			<template is="dom-if" if="{{dynamicNavbar}}">
				<px-navbar id="navbar" title$="{{title}}" theme$="{{theme}}" back$="{{fromView}}" on-back="_handleBack">
					<template is="dom-if" if="{{modal}}">
						<button on-click="toggle">
							Close
						</button>
					</template>
				</px-navbar>
			</template>

			<div id="scrollable-element" style="overflow: auto;">

				<section scroll-target="scrollable-element">
					<content></content>
				</section>
			</div>

		</div>

	</template>
</dom-module>
<script type="text/javascript">
	var PxViewBehavior = [
		ViewBehavior,
		SwippableViewBehavior
	];
	Polymer({
		is: 'px-view',
		behaviors: [
			ViewBehavior
		],
		properties: {
			//Title for the view
			title: {
				type: String,
				observer: '_titleChanged',
				reflectToAttribute: true
			},
			//String containing the route format
			route: {
				type: String,
				reflectToAttribute: true
			},
			//The icon for the view (used with the sidebar component)
			icon: {
				type: String,
				reflectToAttribute: true
			},
			//Boolean to auto load import attribute value.
			autoload: {
				type: Boolean
			},
			//Path to remote view that will be loaded
			import: {
				type: String,
				notify: true,
				reflectToAttribute: true,
				value: null,
				observer: '_importChanged'
			},
			//The in transition effect
			inTrans: {
				type: String,
				value: 'moveFromRight'
			},
			//The out transition effect
			outTrans: {
				type: String,
				value: 'moveToLeft'
			},
			//Returns object with intialized parameters. You can access and rewrite some parameters like mainView.params.linksView = '.another-view'
			params: {
				type: Object
			},

			//Returns object with cached pages. It is available only if you use dynamically generated content
			contentCache: {
				type: Object
			},
			//Returns string with url of currently active (loaded) page
			url: {
				type: String
			},
			//Returns HTMLElement link to pages element
			pagesContainer: {
				type: Object
			},
			//Returns HTMLElement of the Views navbar
			navbar: {
				type: Object
			},
			//Returns HTMLElement of the previous view
			fromView: {
				type: Object
			},
			//Contains object with Page Data of currently active page
			activePage: {
				type: Object
			},
			//Returns true if this view is main view.
			main: {
				type: Boolean,
				value: false
			},
			//Returns true if this view is modal view.
			modal: {
				type: Boolean,
				value: false
			},
			//Returns true if the modal view is open.
			isOpen: {
				type: Boolean,
				value: false
			},
			//Returns true if the view is the current active view.
			active: {
				type: Boolean,
				value: false
			},
			//Boolean to auto show the navbar.
			dynamicNavbar: {
				type: Boolean
			},
			//The view parent view container.
			viewContainer: {
				type: Object
			},
			//The JavaScript controller
			controller: {
				type: Object
			},
			//The theme to apply to all child elements.
			theme: {
				type: String,
				notify: true,
				reflectToAttribute: true,
				observer: '_themeChanged'
			}
		},
		logger: {
      logApi: function(o) {
        console.log('API', o);
      }
    },
    created: function() {
      if(this._created){
        this._created();
      }
    },
    attached: function() {

      if (!this.inTrans) {
        this.inTrans = 'moveFromRight';
        this.outTrans = 'moveToLeft';
      }
      if (this.modal) {
        this.addClass('modal');
      }
      if (this.isOpen) {
        this.addClass('active');
      }
      if (!this.route) {
        this.route = '#' + this.id;
      }

      if (this.main) {
        this.main = true;
      } else {
        this.main = false;
      }
      this.pages = Polymer.dom(this).querySelectorAll('px-pages')[0];
      this.navbar = Polymer.dom(this).querySelector('px-navbar');
    },
    _themeChanged: function(newVal, oldVal) {
      this.logger.logApi('themeChanged', newVal);
      if (newVal && this.child('px-navbar')) {
        this.navbar = this.child('px-navbar')[0];
        if (this.navbar && this.navbar.localName === 'px-navbar') {
          //		this.navbar.theme = newVal;
          this.logger.logApi('themeChanged', 'setting navbar theme to', newVal);
        }
      }
    },
    _importChanged: function(newVal, oldVal) {
      var _this = this;
      var content = Polymer.dom(_this.root).querySelector('content');
      if (newVal) {
        this.debounce('injectHtml', function() {
          _this.logger.logApi('hrefChanged', 'Load remote html', newVal);
          _this.loadHtml(newVal);
        }, 50);
      }
    },
    loadHtml: function(url) {
      var _this = this,
        html = '';
      this.importHref(url, function(e) {
        html = e.target.import.body.innerHTML;
        _this.logger.logApi('inject px-view html', _this.id);
        _this.$.viewContent.html(html);
      }, function(e) {
        _this.logger.logApi('Error loading view', e);
      });
    },
    //Hide navbar in this View
    _hideNavbar: function() {
      this.logger.logApi('hideNavbar', this.id);
    },
    //Show navbar in this View
    _showNavbar: function() {
      this.logger.logApi('showNavbar', this.id);
    },
    //Hide toolbar in this View
    _hideToolbar: function() {
      this.logger.logApi('hideToolbar', this.id);
    },
    //Show toolbar in this View
    _showToolbar: function() {
      this.logger.logApi('showToolbar', this.id);
    },
    //Destroy initialized View, detach swipe events, and disable navigation
    _destroy: function() {},
    open: function() {
      this.logger.logApi('open', this);
      this.isOpen = true;
      this.addClass('active');
    },
    close: function() {
      this.logger.logApi('close', this);
      this.isOpen = false;
      this.removeClass('active');
    },
    toggle: function() {
      this.logger.logApi('toggle', this);
      this.isOpen = !this.isOpen;
      this.toggleClass('active', this.isOpen);
    },
    _titleChanged: function(newVal, oldVal) {
      if (newVal) {
        if (this.navbar) {
					console.log(this.tagName, this.id, 'Setting title on navbar');
          this.navbar.title = newVal;
        }
      }
    },
		_handleBack: function(e){
			if(this.viewContainer){
				this.viewContainer.prev();
			}
		}
	});
</script>
<script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.pxMobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var BaseClass = (function () {
	function BaseClass(name, options) {
		_classCallCheck(this, BaseClass);

		this.utils = utils;
		this._id = name || utils.uuid();
		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.mixin(new _corePubsub2['default'](name, options));
		this.mixin(options);

		this.events = {};
		return this;
	}

	_createClass(BaseClass, [{
		key: 'mixin',
		value: function mixin(klass) {
			this.utils.addMixin(klass, this);
		}
	}, {
		key: 'on',
		value: function on(type, listener) {
			if (!this.events[type]) {
				this.events[type] = [listener];
			} else {
				this.events[type].push(listener);
			}
		}
	}, {
		key: 'emit',
		value: function emit(type, data) {
			var evt = this.events[type];
			if (!evt) {
				return;
			}
			var args = Array.prototype.slice.call(arguments, 1);
			for (var i = 0; i < evt.length; i++) {
				debounce(evt[i]);
			}
			function debounce(e) {
				var _this = this;

				setTimeout(function () {
					e.apply(_this, args);
				}, 0);
			}
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return utils.extendClass(obj, this);
		}
	}]);

	return BaseClass;
})();

exports['default'] = BaseClass;
module.exports = exports['default'];
},{"./core/pubsub":4,"./utils/log":25,"./utils/utils":26}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _coreServiceLocator = require('../core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _instance = null;

var App = (function (_BaseClass) {
	_inherits(App, _BaseClass);

	_createClass(App, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance === null) {
				_instance = new App();
			}
			return _instance;
		}
	}]);

	function App(name, options) {
		_classCallCheck(this, App);

		_get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.session = {};

		this.services = new _coreServiceLocator2['default'](name, options);

		this.params = {

			cache: true,
			cacheIgnore: [],
			cacheIgnoreGetParameters: false,
			cacheDuration: 1000 * 60 * 10,
			preloadPreviousPage: true,
			uniqueHistory: false,
			uniqueHistoryIgnoreGetParameters: false,
			dynamicPageUrl: 'content-{{index}}',
			allowDuplicateUrls: false,
			router: true,

			pushState: false,
			pushStateRoot: undefined,
			pushStateNoAnimation: false,
			pushStateSeparator: '#!/',
			pushStatePreventOnLoad: true,

			fastClicks: true,
			fastClicksDistanceThreshold: 10,
			fastClicksDelayBetweenClicks: 50,

			tapHold: false,
			tapHoldDelay: 750,
			tapHoldPreventClicks: true,

			activeState: true,
			activeStateElements: 'a, button, label, span',

			animateNavBackIcon: false,

			swipeBackPage: true,
			swipeBackPageThreshold: 0,
			swipeBackPageActiveArea: 30,
			swipeBackPageAnimateShadow: true,
			swipeBackPageAnimateOpacity: true,

			ajaxLinks: undefined,
			externalLinks: '.external',
			sortable: true,

			hideNavbarOnPageScroll: false,
			hideToolbarOnPageScroll: false,
			hideTabbarOnPageScroll: false,
			showBarsOnPageScrollEnd: true,
			showBarsOnPageScrollTop: true,

			scrollTopOnNavbarClick: false,
			scrollTopOnStatusbarClick: false,

			modalButtonOk: 'OK',
			modalButtonCancel: 'Cancel',
			modalUsernamePlaceholder: 'Username',
			modalPasswordPlaceholder: 'Password',
			modalTitle: 'App',
			modalCloseByOutside: false,
			actionsCloseByOutside: true,
			popupCloseByOutside: true,
			modalPreloaderTitle: 'Loading... ',
			modalStack: true,

			imagesLazyLoadThreshold: 0,
			imagesLazyLoadSequential: true,

			viewClass: 'pxm-view',
			viewMainClass: 'pxm-view-main',
			viewsClass: 'pxm-views',

			animatePages: true,

			templates: {},
			templateData: {},
			templatePages: false,
			precompileTemplates: false,

			init: true
		};

		for (var param in options) {
			this.params[param] = options[param];
		}
	}

	_createClass(App, [{
		key: 'configureRouter',
		value: function configureRouter(config, router) {
			config.title = 'App';
			config.map([{
				route: ['', 'welcome'],
				name: 'welcome',
				moduleId: 'welcome',
				nav: true,
				title: 'Welcome'
			}]);

			this.router = router;
		}
	}, {
		key: 'start',
		value: function start() {
			this.log.logApi('start', this);
			return Promise.all(this.services.startAll());
		}
	}, {
		key: 'bootstrap',
		value: function bootstrap(cb) {
			this.log.logApi('bootstrap', this);
			cb(this);
		}
	}, {
		key: 'run',
		value: function run(cb) {
			this.log.logApi('run', this);
			this.start();
			cb(this);
		}
	}]);

	return App;
})(_base2['default']);

exports['default'] = App;
module.exports = exports['default'];
},{"../base":1,"../core/service-locator":7}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var extensions = {};

var Core = (function (_BaseClass) {
	_inherits(Core, _BaseClass);

	function Core(name, options) {
		_classCallCheck(this, Core);

		_get(Object.getPrototypeOf(Core.prototype), 'constructor', this).call(this, name, options);
		this.modules = {};
		this.messages = {
			'!start': 'Could not start the given module, its either already started or is not registered: ',
			'!stop': 'Could not stop the given module, its either already stopped or is not registered: ',
			'!!module': 'Cant register an already registered module: ',
			'!!listen': 'Theres already an listen handler to the notification: '
		};
		return this;
	}

	_createClass(Core, [{
		key: 'register',
		value: function register(module, constructor) {
			if (this.modules[module]) {
				this.helpers.err('!!module', module);
				return false;
			}
			this.modules[module] = {
				constructor: constructor,
				instance: null
			};
		}
	}, {
		key: 'moduleCheck',
		value: function moduleCheck(module, destroy) {
			if (destroy) {
				return !module || !module.instance;
			}

			return !module || module.instance;
		}
	}, {
		key: 'start',
		value: function start(module) {
			if (!module) {
				return this.startAll();
			}

			var cModule = this.modules[module],
			    el = this.getElement(module);

			if (this.moduleCheck(cModule)) {
				this.helpers.err('!start', module);
				return false;
			}

			cModule.instance = new cModule.constructor(new this.Sandbox(module));

			cModule.instance.el = el;

			if (cModule.instance.init) {
				return cModule.instance.init();
			}
		}
	}, {
		key: 'stop',
		value: function stop(module) {
			if (!module) {
				return this.stopAll();
			}

			var cModule = this.modules[module],
			    stopReturn;

			if (this.moduleCheck(cModule, true)) {
				this.helpers.err('!stop', module);
				return false;
			}

			if (cModule.instance.destroy) {
				stopReturn = cModule.instance.destroy();
			}

			cModule.instance = null;

			this.Sandbox.clearNotifications(module);

			return stopReturn;
		}
	}, {
		key: 'stopAll',
		value: function stopAll() {
			this.xAll('stop');
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			this.xAll('start');
		}
	}, {
		key: 'xAll',
		value: function xAll(method) {
			for (var module in this.modules) {
				if (this.modules.hasOwnProperty(module)) {
					this[method](module);
				}
			}
		}
	}, {
		key: 'getElement',
		value: function getElement(id) {
			var el = document.getElementById(id);

			return el && el.id === id && el.parentElement ? el : null;
		}
	}, {
		key: 'err',
		value: (function (_err) {
			function err(_x, _x2) {
				return _err.apply(this, arguments);
			}

			err.toString = function () {
				return _err.toString();
			};

			return err;
		})(function (error, message) {
			this.helpers.log(err.messages[error] + ' - ' + message);
		})
	}], [{
		key: 'extend',
		value: function extend(name, implementation) {
			extensions[name] = implementation;
		}
	}, {
		key: 'getExtension',
		value: function getExtension(extension) {
			return extensions[extension] || null;
		}
	}]);

	return Core;
})(_base2['default']);

exports['default'] = Core;
module.exports = exports['default'];
},{"../base":1}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('../utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var PubSub = (function () {
	function PubSub() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'pubsub' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, PubSub);

		this.log = new _utilsLog2['default'](name, {
			colors: {
				debug: 'color:orange'
			}
		});

		this.topics = {};

		this.subUid = -1;
		return this;
	}

	_createClass(PubSub, [{
		key: 'start',
		value: function start() {}
	}, {
		key: 'publish',
		value: function publish(topic, args) {
			var topics = this.topics;

			if (!topics[topic]) {
				return false;
			}

			var subscribers = topics[topic],
			    len = subscribers ? subscribers.length : 0;

			while (len--) {
				subscribers[len].func(topic, args);
			}

			return this;
		}
	}, {
		key: 'subscribe',
		value: function subscribe(topic, fn) {
			var topics = this.topics;

			if (!topics[topic]) {
				topics[topic] = [];
			}

			var token = (++this.subUid).toString();

			this.topics[topic].push({
				token: token,
				func: fn
			});
			return token;
		}
	}, {
		key: 'unsubscribe',
		value: function unsubscribe(token) {
			var topics = this.topics;
			for (var m in topics) {
				if (topics[m]) {
					for (var i = 0, j = topics[m].length; i < j; i++) {
						if (topics[m][i].token === token) {
							topics[m].splice(i, 1);
							return token;
						}
					}
				}
			}
			return this;
		}
	}], [{
		key: 'emit',
		value: function emit(event, data) {
			return (0, _utilsDom2['default'])('*body').trigger(event, data);
		}
	}, {
		key: 'on',
		value: function on(event, cb) {
			return (0, _utilsDom2['default'])('*body').on(event, cb);
		}
	}]);

	return PubSub;
})();

exports['default'] = PubSub;
module.exports = exports['default'];
},{"../base":1,"../utils/dom":22,"../utils/log":25}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var routeStripper = /^[#\/]|\s+$/g;

var rootStripper = /^\/+|\/+$/g;

var pathStripper = /#.*$/;

var RouterHistory = (function (_BaseClass) {
	_inherits(RouterHistory, _BaseClass);

	function RouterHistory(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			root: '/'
		} : arguments[1];

		_classCallCheck(this, RouterHistory);

		_get(Object.getPrototypeOf(RouterHistory.prototype), 'constructor', this).call(this, name, options);
		this.root = ('/' + this.root + '/').replace(rootStripper, '#/');

		if (typeof window !== 'undefined') {
			this.location = window.location;
			this.history = window.history;
		}
		this.pushState = options.pushState || false;
		return this;
	}

	_createClass(RouterHistory, [{
		key: 'go',
		value: function go(route, options) {
			if (this.pushState) {
				this.history.pushState(options, document.title, route);
			} else {
				this.location.hash = route;
			}
		}
	}, {
		key: 'state',
		value: function state() {
			return this.history.state;
		}
	}, {
		key: 'back',
		value: function back() {
			return this.history.back();
		}
	}, {
		key: 'forward',
		value: function forward() {
			return this.history.forward();
		}
	}, {
		key: 'atRoot',
		value: function atRoot() {
			var path = this.location.pathname.replace(/[^\/]$/, '$&/');
			return path === this.root && !this.getSearch();
		}
	}, {
		key: 'matchRoot',
		value: function matchRoot() {
			var path = this.decodeFragment(this.location.pathname);
			var root = path.slice(0, this.root.length - 1) + '/';
			return root === this.root;
		}
	}, {
		key: 'decodeFragment',
		value: function decodeFragment(fragment) {
			return decodeURI(fragment.replace(/%25/g, '%2525'));
		}
	}, {
		key: 'getSearch',
		value: function getSearch() {
			var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
			return match ? match[0] : '';
		}
	}, {
		key: 'getHash',
		value: function getHash(window) {
			var match = (window || this).location.href.match(/#(.*)$/);
			return match ? match[1] : '';
		}
	}, {
		key: 'getPath',
		value: function getPath() {
			var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
			return path.charAt(0) === '/' ? path.slice(1) : path;
		}
	}, {
		key: 'getFragment',
		value: function getFragment(fragment) {
			if (fragment === null) {
				if (this._usePushState || !this._wantsHashChange) {
					fragment = this.getPath();
				} else {
					fragment = this.getHash();
				}
			} else {
				fragment = this.getHash();
			}
			return fragment.replace(routeStripper, '');
		}
	}]);

	return RouterHistory;
})(_base2['default']);

exports['default'] = RouterHistory;
module.exports = exports['default'];
},{"../base":1}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _pubsub = require('./pubsub');

var _pubsub2 = _interopRequireDefault(_pubsub);

var _routerHistory = require('./router-history');

var _routerHistory2 = _interopRequireDefault(_routerHistory);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _instance = null;
var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g;
var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

var Router = (function (_BaseClass) {
	_inherits(Router, _BaseClass);

	_createClass(Router, null, [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new Router();
			}

			return _instance;
		}
	}]);

	function Router(name, options) {
		_classCallCheck(this, Router);

		name = name + '.Router';
		_get(Object.getPrototypeOf(Router.prototype), 'constructor', this).call(this, name, options);

		this.history = new _routerHistory2['default']();

		this.routes = {};

		this.urlPrefix = '#';
		this.mixin(options);
		this.started = false;
		this._setRegexRoutes();

		return this;
	}

	_createClass(Router, [{
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = this.history.getFragment();
			var fn = function fn() {
				if (current !== self.history.getFragment()) {
					current = self.history.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 50);
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.history.getFragment();

			for (var i = 0; i < this.routesRegex.length; i++) {
				var match = fragment.match(this.routesRegex[i].regexp);
				if (match) {
					match.shift();
					this.routesRegex[i].success.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this2 = this;

			this.log.logApi('2. start', this);
			if ('onhashchange' in window) {
				this.log.logApi('3. onhashchange', 'The browser supports the hashchange event!');
				this.started = true;
				window.addEventListener('hashchange', function (e) {
					_this2._handleRoute(e);
				}, this);
			} else {}
			return this;
		}
	}, {
		key: 'execute',
		value: function execute(callback, args, name) {
			this.log.logApi('execute =>' + name, args);
			if (callback) {
				callback.apply(this, args);
			}
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(route, options) {
			this.log.logApi('navigate =>' + route, options);

			this.history.go(route, options);

			return this;
		}
	}, {
		key: 'on',
		value: function on(route, options) {
			this.subscribe(route, options);
			this.log.logApi('5. on -' + route, options);
			this.routes[route] = options;
			this._setRegexRoutes();
			return this;
		}
	}, {
		key: 'when',
		value: function when(route) {
			this.log.logApi('4. when', route);
			var _this = this;
			return new Promise(function (resolve, reject) {
				_this.on(route, {
					callback: function callback(req, res) {
						resolve(req, res);
					}
				});
			});
		}
	}, {
		key: 'route',
		value: function route(_route2, name, callback) {
			this.log.logApi('route', _route2);
			return this;
		}
	}, {
		key: '_handleRoute',
		value: function _handleRoute(e) {
			var _this = this;
			this.log.logApi('_handleRoute', e);
			var _hash = location.hash.replace(/^#\/|\/$/gi, '/');
			var parser = document.createElement('a');
			parser.href = _hash;
			var _routeObj = null;
			var res = {};
			var req = {
				hostname: parser.hostname,
				host: parser.host,
				port: parser.port,
				protocol: parser.protocol,
				pathname: parser.pathname,
				hash: parser.hash,
				url: parser.href,
				query: parser.search,
				params: {},
				data: {} };

			req.query = this._getUrlQuery(parser.href);

			for (var i = 0; i < this.routesRegex.length; i++) {
				_routeObj = this.routesRegex[i];

				if (_routeObj.regexp.test(_hash)) {
					_routeObj.current = _hash;

					_routeObj = this._setRouteParams(_routeObj);

					req.params = _routeObj.params;

					this.log.logApi(_hash, _routeObj);

					_this.publish('route:change', {
						_routeObj: _routeObj, req: req, res: res
					});

					this.execute(_routeObj.success, [req, res], _hash);
				} else {

					this.execute(_routeObj.error, [req, res], _hash);
				}
			}
		}
	}, {
		key: '_setRegexRoutes',
		value: function _setRegexRoutes() {
			var _out = [],
			    _routeParams = [],
			    _reg,
			    _routeObj;

			var routeHandler = null;
			var routeErrorHandler = function routeErrorHandler() {};
			var routeSuccessHandler = function routeSuccessHandler() {};
			var routeResolver = null;

			this.log.logApi('1. registerRoutes', this.routes);
			for (var _route in this.routes) {
				if (this.utils.type(this.routes[_route]) === 'function') {
					routeSuccessHandler = this.routes[_route];
				}

				if (this.utils.type(this.routes[_route]) === 'object') {

					if (this.routes[_route].error) {
						routeErrorHandler.bind(this.routes[_route].error);
					}
					if (this.routes[_route].success) {
						routeSuccessHandler.bind(this.routes[_route].success);
					}

					console.warn('Found route callback');

					if (this.routes[_route].resolve) {
						routeSuccessHandler = this.routes[_route].resolve;
						console.warn('Found route resolver');
					}
				}

				_routeParams = _route.replace('/', '').split('/');
				_reg = this._regexRoute(_route, _routeParams);
				_routeObj = {
					regexp: _reg,
					route: _route,
					success: routeSuccessHandler,
					error: routeErrorHandler
				};
				_out.push(_routeObj);
			}
			this.routesRegex = _out;
			return _out;
		}
	}, {
		key: '_setRouteParams',
		value: function _setRouteParams(routeObj) {
			var normalized = routeObj.route.replace(/\:/g, '');
			var m1 = routeObj.regexp.exec(normalized);
			var m2 = routeObj.regexp.exec(routeObj.current);
			var params = {};
			for (var i = 1; i < m1.length; i++) {
				params[m1[i]] = m2[i];
			}
			routeObj.params = params;
			return routeObj;
		}
	}, {
		key: '_getUrlQuery',
		value: function _getUrlQuery(url) {
			var re = /(?:\?|&(?:amp;)?)([^=&#]+)(?:=?([^&#]*))/g,
			    match,
			    params = {};

			if (typeof url === 'undefined') {
				url = window.location.href;
			}
			var decode = function decode(s) {
				return decodeURIComponent(s.replace(/\+/g, ' '));
			};
			while (match = re.exec(url)) {
				params[decode(match[1])] = decode(match[2]);
			}

			this.log.logApi('getUrlQuery', url);
			return params;
		}
	}, {
		key: '_regexRoute',
		value: function _regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}]);

	return Router;
})(_base2['default']);

exports['default'] = Router;
module.exports = exports['default'];
},{"../base":1,"./pubsub":4,"./router-history":5}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var _instance = null;
var _services = {};

var ServiceLocator = (function () {
	function ServiceLocator(options) {
		_classCallCheck(this, ServiceLocator);

		this.services = _services;
		this.options = options || {};
		return this;
	}

	_createClass(ServiceLocator, [{
		key: 'register',
		value: function register(key, service) {
			_services[key] = service;
			return this;
		}
	}, {
		key: 'resolve',
		value: function resolve(key) {
			return _services[key];
		}
	}, {
		key: 'start',
		value: function start(key) {
			var service = _services[key];
			console.warn('Starting service', key, service);
			return service.start();
		}
	}, {
		key: 'startAll',
		value: function startAll() {
			var all = [];
			console.warn('startAll', _services);
			for (var service in _services) {
				console.warn('Starting service', service);
				all.push(this.start(service));
			}
			return all;
		}
	}, {
		key: 'reset',
		value: function reset() {
			_services = {};
			this.services = _services;
			return this;
		}
	}], [{
		key: 'getInstance',
		value: function getInstance() {
			if (_instance == null) {
				_instance = new ServiceLocator();
			}
			return _instance;
		}
	}]);

	return ServiceLocator;
})();

exports['default'] = ServiceLocator;
module.exports = exports['default'];
},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var SimpleRouter = (function (_BaseClass) {
	_inherits(SimpleRouter, _BaseClass);

	function SimpleRouter(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			mode: 'hash',
			root: '/',
			urlPrefix: '!#'
		} : arguments[1];

		_classCallCheck(this, SimpleRouter);

		name = name + '.Router';
		_get(Object.getPrototypeOf(SimpleRouter.prototype), 'constructor', this).call(this, name, options);

		this._routes = [];
		this.routes = [];
		this.routeMap = {};

		this.mode = options.hash;

		this.root = options.root || window.location.href;
		this.debug = options.debug || true;

		this.urlPrefix = options.urlPrefix || '#';

		this.mixin(options);

		this.config(options);

		return this;
	}

	_createClass(SimpleRouter, [{
		key: 'config',
		value: function config(options) {
			this.mode = options && options.mode && options.mode === 'history' && !!history.pushState ? 'history' : 'hash';
			this.root = options && options.root ? '/' + this.clearSlashes(options.root) + '/' : '/';
			if (options && options.routes) {
				for (var route in options.routes) {
					this.add(route, options.routes[route]);
				}
			}
			return this;
		}
	}, {
		key: 'clearSlashes',
		value: function clearSlashes(path) {
			return path.toString().replace(/\/$/, '').replace(/^\//, '');
		}
	}, {
		key: 'getFragment',
		value: function getFragment() {
			var fragment = '';
			if (this.mode === 'history') {
				fragment = this.clearSlashes(decodeURI(location.pathname + location.search));
				fragment = fragment.replace(/\?(.*)$/, '');
				fragment = this.root !== '/' ? fragment.replace(this.root, '') : fragment;
			} else {
				var match = window.location.href.match(/#(.*)$/);
				fragment = match ? match[1] : '';
			}
			return this.clearSlashes(fragment);
		}
	}, {
		key: 'add',
		value: function add(re, handler) {
			if (typeof re === 'function') {
				handler = re;
				re = '';
			}

			this._routes.push({
				re: re,
				handler: handler
			});
			this.on(re, handler);

			this.routes[re] = {
				re: re,
				handler: handler
			};

			return this;
		}
	}, {
		key: 'remove',
		value: function remove(param) {
			for (var i = 0, r; i < this.routes.length, r = this.routes[i]; i++) {
				if (r.handler === param || r.re.toString() === param.toString()) {
					this._routes.splice(i, 1);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'flush',
		value: function flush() {
			this._routes = [];
			this.mode = null;
			this.root = '/';
			return this;
		}
	}, {
		key: 'check',
		value: function check(f) {
			var fragment = f || this.getFragment();
			for (var i = 0; i < this._routes.length; i++) {
				var match = fragment.match(this._routes[i].re);
				if (match) {
					match.shift();
					this._routes[i].handler.apply({}, match);
					return this;
				}
			}
			return this;
		}
	}, {
		key: 'listen',
		value: function listen() {
			var self = this;
			var current = self.getFragment();
			var fn = function fn() {
				if (current !== self.getFragment()) {
					current = self.getFragment();
					self.check(current);
				}
			};
			clearInterval(this.interval);
			this.interval = setInterval(fn, 100);
			this.listening = true;
			return this;
		}
	}, {
		key: 'navigate',
		value: function navigate(path) {
			path = path ? path : '';

			if (this.mode === 'history') {
				history.pushState(null, null, this.root + this.clearSlashes(path));
			} else {
				window.location.href.match(/#(.*)$/);
				window.location.href = window.location.href.replace(/#(.*)$/, '') + '#' + path;
			}
			this.emit(path);
			return this;
		}
	}, {
		key: 'regexRoute',
		value: function regexRoute(path, keys, sensitive, strict) {
			if (path instanceof RegExp) {
				return path;
			}
			if (path instanceof Array) {
				path = '(' + path.join('|') + ')';
			}
			path = path.concat(strict ? '' : '/?').replace(/\/\(/g, '(?:/').replace(/\+/g, '__plus__').replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (_, slash, format, key, capture, optional) {
				keys.push({
					name: key,
					optional: !!optional
				});
				slash = slash || '';
				return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');
			}).replace(/([\/.])/g, '\\$1').replace(/__plus__/g, '(.+)').replace(/\*/g, '(.*)');

			return new RegExp('^' + path + '$', sensitive ? '' : 'i');
		}
	}, {
		key: 'start',
		value: function start() {
			return this.listen();
		}
	}]);

	return SimpleRouter;
})(_base2['default']);

exports['default'] = SimpleRouter;
module.exports = exports['default'];
},{"../base":1}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var defaults = {
	baseUrl: '/default',
	idField: '_id',
	model: {},
	models: [],
	params: {
		limit: 25,
		startkey: null,
		endkey: null
	}
};

var Collection = (function (_BaseClass) {
	_inherits(Collection, _BaseClass);

	function Collection(name) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];

		_classCallCheck(this, Collection);

		_get(Object.getPrototypeOf(Collection.prototype), 'constructor', this).call(this, name, options);

		this.model = options.model;
		this.models = options.models;
		this.baseUrl = options.baseUrl;

		this.idField = options.idField || '_id';
		this.params = options.params || {
			startkey: '',
			endkey: '',
			limit: 25
		};
		this.lastResponse = null;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(name, options);

		return this;
	}

	_createClass(Collection, [{
		key: 'parse',
		value: function parse(resp) {
			return resp;
		}
	}, {
		key: 'add',
		value: function add(model) {
			return this.models.push(model);
		}
	}, {
		key: 'fetch',
		value: function fetch(params) {
			var self = this;
			return self.adapter.get(params).then(function (resp) {
				self.lastResponse = resp;
				self.models = resp.data.rows;
				return resp;
			});
		}
	}, {
		key: 'remove',
		value: function remove(model) {
			this.log.logApi('Find model by', model);
			if (this.utils.type(model) === 'string') {
				this.log.logApi('Find by _id', model);
			}
			if (this.utils.type(model) === 'number') {
				this.log.logApi('Find by index', model);
			}
			if (this.utils.type(model) === 'object') {
				this.log.logApi('Find by model', model);
			}
		}
	}, {
		key: 'where',
		value: function where(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'find',
		value: function find(filter) {
			return this.models.filter(filter);
		}
	}, {
		key: 'get',
		value: function get(id) {
			this.log.logApi('get', id);
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			return JSON.stringify(this.models);
		}
	}]);

	return Collection;
})(_base2['default']);

exports['default'] = Collection;
module.exports = exports['default'];
},{"../base":1,"./http":11}],10:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x3, _x4, _x5) {
	var _again = true;_function: while (_again) {
		var object = _x3,
		    property = _x4,
		    receiver = _x5;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x3 = parent;_x4 = property;_x5 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var DB = (function (_BaseClass) {
	_inherits(DB, _BaseClass);

	function DB() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'db' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, DB);

		_get(Object.getPrototypeOf(DB.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[DB] - Using default baseUrl - /default');
		}

		var adapter = options.adapter || new _http2['default'](name, options);
		this.adapter = adapter;

		return this;
	}

	_createClass(DB, [{
		key: 'info',
		value: function info() {
			return this.adapter.get('');
		}
	}, {
		key: 'allDocs',
		value: function allDocs(options) {
			this.log.logApi('allDocs', options);
			return this.adapter.get('/_all_docs', {
				params: options
			});
		}
	}, {
		key: 'get',
		value: function get(docId, options) {
			this.log.logApi('get', docId);
			if (!docId) {
				throw new Error('db.get(docId) - Must provide a document _id!');
			}
			return this.adapter.get('/' + docId, options);
		}
	}, {
		key: 'put',
		value: function put(doc, options) {
			this.log.logApi('put', doc);
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			if (!doc._id) {
				throw new Error('db.put(doc) - Must provide a _id on the document object!');
			}
			if (doc._rev) {
				options = options || {
					params: {
						rev: doc._rev
					}
				};
			}
			return this.adapter.put('/' + doc._id, doc, options);
		}
	}, {
		key: 'post',
		value: function post(doc) {
			if (!doc) {
				throw new Error('db.put(doc) - Must provide a document object!');
			}
			doc._id = this.utils.uuid();
			return this.put(doc);
		}
	}, {
		key: 'remove',
		value: function remove(id, rev) {
			this.log.logApi('remove', {
				id: id,
				rev: rev
			});
			if (!id) {
				throw new Error('db.remove(id, rev) - Must provide a id!');
			}
			if (!rev) {
				throw new Error('db.remove(id, rev) - Must provide a rev!');
			}
			return this.adapter['delete']('/' + id, {
				params: {
					rev: rev
				}
			});
		}
	}, {
		key: 'getAttachment',
		value: function getAttachment(id, attachmentId, contentType) {
			this.log.logApi('getAttachment', {
				id: id,
				attachment: attachmentId
			});
			if (!id) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document _id!');
			}
			if (!attachmentId) {
				throw new Error('db.getAttachment(id, attachmentId) - Must provide a document attachment!');
			}
			return this.adapter.request(id + '/' + attachmentId, {
				method: 'GET',
				headers: {
					'Content-Type': contentType || 'application/octet-stream'
				}
			});
		}
	}, {
		key: 'saveAttachment',
		value: function saveAttachment(id, rev, filename, type, file) {
			this.log.logApi('saveAttachment', file);
			return this.adapter.request(id + '/' + filename, {
				method: 'PUT',
				headers: {
					'Content-Type': type || 'application/octet-stream'
				},
				params: {
					rev: rev
				},
				body: file
			});
		}
	}, {
		key: 'bulkDocs',
		value: function bulkDocs(docs) {
			if (!docs) {
				throw new Error('bulkDocs - Must provide an array of documents!');
			}
			this.log.logApi('bulkDocs', docs);
			return this.adapter.post('/_bulk_docs', {
				docs: docs
			});
		}
	}, {
		key: 'changes',
		value: function changes(options) {
			var self = this;
			var defaults = {
				live: false,
				include_docs: false,
				conflicts: false,
				attachments: false,
				binary: false,
				descending: false,
				since: 0,
				limit: null,
				heartbeat: 1000
			};

			options = this.utils.extend(defaults, options);

			self.log.logApi('changes', options);

			var _fetchChanges = function _fetchChanges() {
				self.log.logApi('_fetchChanges', options);

				return self.adapter.get('/_changes', {
					params: options
				}).then(self.adapter.parseJSON).then(function (resp) {
					options.since = resp.data.last_seq;

					if (_callbacks.change) {
						if (resp.data.results) {
							resp.data.results.forEach(function (change) {
								_callbacks.change(change);
								self.log.logApi('change', change);
							});
						}
					}

					if (resp.data.results.length === 0) {
						if (_callbacks.complete) {
							_callbacks.complete(resp);
						}
						self.log.logApi('complete', resp);
					}

					return resp;
				})['catch'](function (err) {
					if (_callbacks.error) {
						_callbacks.error(err);
					}
					return err;
				});
			};

			var _callbacks = {};

			var _feed = setInterval(function () {
				self.log.logApi('_feed', options);
				_fetchChanges();
			}, options.heartbeat);

			return {
				on: function on(e, cb) {
					_callbacks[e] = cb;
					self.log.logApi('on', options);
					return this;
				},
				cancel: function cancel() {
					self.log.logApi('cancel', options);
					clearInterval(_feed);
					return this;
				}
			};
		}
	}]);

	return DB;
})(_base2['default']);

exports['default'] = DB;
module.exports = exports['default'];
},{"../base":1,"./http":11}],11:[function(require,module,exports){

'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x14, _x15, _x16) {
	var _again = true;_function: while (_again) {
		var object = _x14,
		    property = _x15,
		    receiver = _x16;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x14 = parent;_x15 = property;_x16 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var HTTP = (function (_BaseClass) {
	_inherits(HTTP, _BaseClass);

	function HTTP() {
		var name = arguments.length <= 0 || arguments[0] === undefined ? 'http' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {
			baseUrl: '/default'
		} : arguments[1];

		_classCallCheck(this, HTTP);

		_get(Object.getPrototypeOf(HTTP.prototype), 'constructor', this).call(this, name, options);

		if (!options.baseUrl) {
			this.log.logApi('[HTTP] - Using default baseUrl - /default');
		}

		return this;
	}

	_createClass(HTTP, [{
		key: 'checkStatus',
		value: function checkStatus(response) {
			return new Promise(function (resolve, reject) {
				if (response.status >= 200 && response.status < 300) {
					resolve(response);
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'parseJSON',
		value: function parseJSON(response) {
			return new Promise(function (resolve, reject) {
				if (!response) {
					throw new Error('Must pass a response object to parseJSON!');
				}
				if (response.status >= 200 && response.status < 300) {
					if (response.headers.get('Content-Type') === 'application/json') {
						response.json().then(function (json) {
							response.data = json;
							resolve(response);
						});
					} else {
						resolve(response);
					}
				} else {
					reject(response);
				}
			});
		}
	}, {
		key: 'getJSON',
		value: function getJSON() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return fetch(url, options || {
				method: 'GET'
			}).then(this.checkStatus).then(this.parseJSON);
		}
	}, {
		key: 'request',
		value: function request(url, options) {
			var _this2 = this;

			var _this = this;
			var config = this.utils.extend({
				data: null,
				params: null,
				body: null,
				method: 'GET',
				headers: {
					'Content-Type': 'application/json'
				}
			}, options);

			if (options.data) {
				config.body = JSON.stringify(options.data);
				delete config.data;
			}

			url = this.utils.resolveURL(this.baseUrl, url);

			if (options.params) {
				url = this.utils.resolveURL(url, options.params);
				delete options.params;
			}

			this.log.logApi('request => ' + url, config);
			this.log.logHttp(config.method, url);

			var benchmark = this.log.logTime('request');
			return new Promise(function (resolve, reject) {
				fetch(url, config).then(function (resp) {
					_this2.log.logHttp(resp.headers.get('Content-Type') + ' ' + resp.status + ' ' + benchmark.end(), resp, true);
					if (config.method === 'HEAD') {
						_this2.checkStatus(resp).then(resolve, reject);
					} else {
						_this2.parseJSON(resp).then(resolve, reject);
					}
				}, reject);
			});
		}
	}, {
		key: 'get',
		value: function get(url) {
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			this.log.logApi('get', options);
			return this.request(url, options);
		}
	}, {
		key: 'put',
		value: function put(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			this.log.logApi('put', data);
			return this.request(url, this.utils.extend({
				method: 'PUT',
				data: data
			}, options));
		}
	}, {
		key: 'post',
		value: function post(url) {
			var data = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
			var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			return this.request(url, this.utils.extend({
				method: 'POST',
				data: data
			}, options));
		}
	}, {
		key: 'delete',
		value: function _delete() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'DELETE'
			}, options));
		}
	}, {
		key: 'head',
		value: function head() {
			var url = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];
			var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

			return this.request(url, this.utils.extend({
				method: 'HEAD'
			}, options));
		}
	}]);

	return HTTP;
})(_base2['default']);

exports['default'] = HTTP;
module.exports = exports['default'];
},{"../base":1}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x2, _x3, _x4) {
	var _again = true;_function: while (_again) {
		var object = _x2,
		    property = _x3,
		    receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _http = require('./http');

var _http2 = _interopRequireDefault(_http);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var Model = (function (_BaseClass) {
	_inherits(Model, _BaseClass);

	function Model(id, options) {
		_classCallCheck(this, Model);

		id = id || utils.uuid();
		options = options || {};

		_get(Object.getPrototypeOf(Model.prototype), 'constructor', this).call(this, id, options);

		this.uuid = utils.uuid();
		this.baseUrl = options.baseUrl || '/default';
		this.defaults = options.defaults || {};
		this.idField = options.idField || '_id';
		this.scope = options.data || {};
		this.scope[options.idField] = id;

		this.adapter = options.adapter || _http2['default'];
		this.adapter = new this.adapter(id, options);

		this.log = new _utilsLog2['default']('Model:' + id, {
			colors: {
				debug: 'color:blue'
			}
		});
		this.log.logApi('constructor', options);
	}

	_createClass(Model, [{
		key: 'url',
		value: function url() {
			var url = '/' + encodeURIComponent(this.get('_id'));

			if (this.get('_rev')) {
				url += '?rev=' + this.get('_rev');
			}
			this.log.logApi('url()', url);
			return url;
		}
	}, {
		key: 'has',
		value: function has(attribute) {
			return this.scope.hasOwnProperty(attribute);
		}
	}, {
		key: 'get',
		value: function get(attribute) {
			if (this.has(attribute)) {
				return this.scope[attribute];
			} else {
				return false;
			}
		}
	}, {
		key: 'set',
		value: function set(attributes) {
			var force = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

			for (var key in attributes) {
				if (force) {
					this.scope[key] = attributes[key];
				}
				if (this.has(key)) {
					this.scope[key] = attributes[key];
				}
			}
			return this;
		}
	}, {
		key: 'toJSON',
		value: function toJSON() {
			this.log.logApi('toJSON', this.scope);
			return JSON.stringify(this.scope);
		}
	}, {
		key: 'clone',
		value: function clone() {
			return new this.constructor(this.options);
		}
	}, {
		key: 'parse',
		value: function parse(resp) {
			this.log.logApi('parse', resp);
			if (resp.data) {
				this.scope = resp.data;
			}
			return resp;
		}
	}, {
		key: 'fetch',
		value: function fetch(options) {
			var self = this;
			this.log.logApi('fetch', options);
			return this.adapter.get(this.url(), options || {}).then(function (resp) {
				return self.parse(resp);
			});
		}
	}, {
		key: 'save',
		value: function save(options) {
			this.log.logApi('save', options);
			return this.adapter.put('' + this.url(), this.scope);
		}
	}, {
		key: 'destroy',
		value: function destroy(rev) {
			this.log.logApi('destroy', rev);
			return this.adapter['delete']('' + this.url());
		}
	}, {
		key: 'sync',
		value: function sync(options) {
			this.log.logApi('sync', options);
		}
	}], [{
		key: 'extend',
		value: function extend(obj) {
			return _get(Object.getPrototypeOf(Model), 'extend', this).call(this, this, obj);
		}
	}]);

	return Model;
})(_base2['default']);

exports['default'] = Model;
module.exports = exports['default'];
},{"../base":1,"../utils/log":25,"../utils/utils":26,"./http":11}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }newObj['default'] = obj;return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _utilsLog = require('../utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsUtils = require('../utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var pmPage = (function () {
  function pmPage() {
    _classCallCheck(this, pmPage);
  }

  _createClass(pmPage, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var logger = new _utilsLog2['default'](this.localName, {
        colors: {
          debug: 'color:orange'
        }
      });
      utils.addMixin(logger, this);

      this.properties = {
        title: {
          type: String,
          value: 'Page Title'
        },

        backText: {
          type: String,
          value: null
        },

        backLink: {
          type: String,
          value: null
        },

        href: {
          type: String,
          notify: true,
          value: null,
          observer: '_tmplChanged'
        },

        active: {
          type: Boolean,
          value: false
        },

        modal: {
          type: Boolean,
          value: false
        },

        query: {
          type: Object
        },

        context: {
          type: Object
        },

        view: {
          type: Object
        },

        fromPage: {
          type: Object
        },
        route: {
          type: String
        },

        url: {
          type: String
        },

        container: {
          type: String
        }
      };

      this.createShadowRoot().innerHTML = '\n\t\t\t\t\t<style>\n\t\t\t\t\t\t:host {\n\t\t\t\t\t    display: block;\n\t\t\t\t\t    box-sizing: border-box;\n\t\t\t\t\t    -webkit-transition: all 0.4s ease-out;\n\t\t\t\t\t    transition: all 0.4s ease-out;\n\t\t\t\t\t  }\n\t\t\t\t\t\t:host header{\n\t\t\t\t\t\t  padding: 10px;\n\t\t\t\t\t\t}\n\t\t\t\t\t  :host .close-btn{\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t    position: absolute;\n\t\t\t\t\t    right: .1em;\n\t\t\t\t\t    top: .2em;\n\t\t\t\t\t    width: 44px;\n\t\t\t\t\t    height: 44px;\n\t\t\t\t\t    display: block;\n\t\t\t\t\t  }\n\t\t\t\t    :host .hamburger {\n\t\t\t\t      width: 20px;\n\t\t\t\t      height: 2px;\n\t\t\t\t      background: #000;\n\t\t\t\t      display: block;\n\t\t\t\t      position: absolute;\n\t\t\t\t      top: 50%;\n\t\t\t\t      left: 15%;\n\t\t\t\t      transition: transform 300ms;\n\t\t\t\t    }\n\t\t\t\t\t  :host .hamburger-1 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t  :host .hamburger-2 {\n\t\t\t\t\t    transform: translate3d(0, 0, 0) rotate(-45deg);\n\t\t\t\t\t  }\n\t\t\t\t\t</style>\n\t\t\t\t\t<div class="page-content overthrow">\n\t\t\t\t\t\t<content></content>\n\t\t\t\t\t</div>\n\t\t\t\t\t';

      this.logApi('created', this.id);
    }
  }, {
    key: 'ready',
    value: function ready() {
      this.logApi('ready', this.id);
      if (this.modal) {
        this.toggleClass('modal');
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {}
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {}
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(prop, oldVal, newVal) {}
  }, {
    key: 'show',
    value: function show() {
      this.logApi('show view', this.id);
      this.toggleClass('current', false, this);
    }
  }, {
    key: 'hide',
    value: function hide() {
      this.logApi('hide view', this.id);
      this.toggleClass('hidden', true, this);
    }
  }, {
    key: 'update',
    value: function update() {
      this.logApi('update view', this.id);
    }
  }, {
    key: 'currentView',
    value: function currentView() {
      this.logApi('current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    }
  }, {
    key: 'nextView',
    value: function nextView() {
      this.logApi('next view', this.id);
      this.toggleClass('next', true, this);
    }
  }, {
    key: 'previousView',
    value: function previousView() {
      this.logApi('previous view', this.id);
      this.toggleClass('previous', true, this);
    }
  }, {
    key: 'contextChanged',
    value: function contextChanged(newContext, oldContext) {
      this.logApi('contextChanged', newContext, oldContext);
    }
  }, {
    key: '_tmplChanged',
    value: function _tmplChanged(newVal, oldVal) {
      var _this = this,
          html = '';
      if (newVal) {
        this.logApi(this.id, 'Load remote html', newVal);
        this.importHref(newVal, function (e) {
          html = e.target['import'].body.innerHTML;
          _this.logApi('inject html', _this.id);
          _this.logApi('inject px-view html', _this.id);
          _this.html(html);
        }, function (e) {
          _this.logApi('Error loading page', e);
        });
      }
    }
  }, {
    key: 'showMenu',
    value: function showMenu() {
      px.mobile.dom('pxm-app').toggleClass('show-menu');
    }
  }, {
    key: 'open',
    value: function open() {
      this.logApi('open', this);
      this.addClass('active');
    }
  }, {
    key: 'close',
    value: function close() {
      this.logApi('close', this);
      this.removeClass('active');
    }
  }, {
    key: 'toggle',
    value: function toggle() {
      this.logApi('toggle', this);
      this.toggleClass('active');
    }
  }]);

  return pmPage;
})();

exports['default'] = pmPage;
module.exports = exports['default'];
},{"../utils/log":25,"../utils/utils":26}],14:[function(require,module,exports){

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireWildcard(obj) {
	if (obj && obj.__esModule) {
		return obj;
	} else {
		var newObj = {};if (obj != null) {
			for (var key in obj) {
				if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
			}
		}newObj['default'] = obj;return newObj;
	}
}

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _coreCore = require('./core/core');

var _coreCore2 = _interopRequireDefault(_coreCore);

var _coreServiceLocator = require('./core/service-locator');

var _coreServiceLocator2 = _interopRequireDefault(_coreServiceLocator);

var _coreRouterHistory = require('./core/router-history');

var _coreRouterHistory2 = _interopRequireDefault(_coreRouterHistory);

var _coreRouter = require('./core/router');

var _coreRouter2 = _interopRequireDefault(_coreRouter);

var _coreSimpleRouter = require('./core/simple-router');

var _coreSimpleRouter2 = _interopRequireDefault(_coreSimpleRouter);

var _corePubsub = require('./core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _dsCollection = require('./ds/collection');

var _dsCollection2 = _interopRequireDefault(_dsCollection);

var _dsHttp = require('./ds/http');

var _dsHttp2 = _interopRequireDefault(_dsHttp);

var _dsDb = require('./ds/db');

var _dsDb2 = _interopRequireDefault(_dsDb);

var _dsModel = require('./ds/model');

var _dsModel2 = _interopRequireDefault(_dsModel);

var _elementsPmPage = require('./elements/pm-page');

var _elementsPmPage2 = _interopRequireDefault(_elementsPmPage);

var _coreApp = require('./core/app');

var _coreApp2 = _interopRequireDefault(_coreApp);

var _uiElement = require('./ui/element');

var _uiElement2 = _interopRequireDefault(_uiElement);

var _uiElements = require('./ui/elements');

var _uiElements2 = _interopRequireDefault(_uiElements);

var _uiPage = require('./ui/page');

var _uiPage2 = _interopRequireDefault(_uiPage);

var _uiPages = require('./ui/pages');

var _uiPages2 = _interopRequireDefault(_uiPages);

var _uiViews = require('./ui/views');

var _uiViews2 = _interopRequireDefault(_uiViews);

var _uiView = require('./ui/view');

var _uiView2 = _interopRequireDefault(_uiView);

var _uiComponent = require('./ui/component');

var _uiComponent2 = _interopRequireDefault(_uiComponent);

var _utilsUtils = require('./utils/utils');

var utils = _interopRequireWildcard(_utilsUtils);

var _utilsInterface = require('./utils/interface');

var _utilsInterface2 = _interopRequireDefault(_utilsInterface);

var _utilsInterfaces = require('./utils/interfaces');

var _utilsInterfaces2 = _interopRequireDefault(_utilsInterfaces);

var _utilsLog = require('./utils/log');

var _utilsLog2 = _interopRequireDefault(_utilsLog);

var _utilsDom = require('./utils/dom');

var _utilsDom2 = _interopRequireDefault(_utilsDom);

var pxMobile = {
	debug: true,
	version: 'es6',
	behaviors: {},

	BaseClass: _base2['default'],
	Core: _coreCore2['default'],
	SimpleRouter: _coreSimpleRouter2['default'],
	Router: _coreRouter2['default'],
	RouterHistory: _coreRouterHistory2['default'],
	ServiceLocator: _coreServiceLocator2['default'],
	PubSub: _corePubsub2['default'],

	Collection: _dsCollection2['default'],
	DB: _dsDb2['default'],
	HTTP: _dsHttp2['default'],
	Model: _dsModel2['default'],

	App: _coreApp2['default'],
	Page: _uiPage2['default'],
	Pages: _uiPages2['default'],
	View: _uiView2['default'],
	Views: _uiViews2['default'],
	Element: _uiElement2['default'],
	Elements: _uiElements2['default'],

	$: _utilsDom.$,
	utils: utils,
	Logger: _utilsLog2['default'],
	Interface: _utilsInterface2['default'],
	Interfaces: _utilsInterfaces2['default'],
	dom: _utilsDom2['default'],
	ui: {
		App: _coreApp2['default'],
		Component: _uiComponent2['default'],
		Element: _uiElement2['default'],
		Page: _uiPage2['default'],
		Pages: _uiPages2['default'],
		View: _uiView2['default'],
		Views: _uiViews2['default']
	},
	elements: {
		pmPage: _elementsPmPage2['default']
	}
};

exports['default'] = pxMobile;
module.exports = exports['default'];
},{"./base":1,"./core/app":2,"./core/core":3,"./core/pubsub":4,"./core/router":6,"./core/router-history":5,"./core/service-locator":7,"./core/simple-router":8,"./ds/collection":9,"./ds/db":10,"./ds/http":11,"./ds/model":12,"./elements/pm-page":13,"./ui/component":15,"./ui/element":16,"./ui/elements":17,"./ui/page":18,"./ui/pages":19,"./ui/view":20,"./ui/views":21,"./utils/dom":22,"./utils/interface":23,"./utils/interfaces":24,"./utils/log":25,"./utils/utils":26}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Component = function Component() {
  _classCallCheck(this, Component);
};

exports["default"] = Component;
module.exports = exports["default"];
},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var Element = (function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, [{
    key: 'createdCallback',
    value: function createdCallback() {
      this.createShadowRoot().innerHTML = '\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="quotes"><div>\n    ';

      this.updateUi();
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      console.log('attachedCallback');
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      console.log('detachedCallback');
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      console.log('attr changed');
    }
  }, {
    key: 'updateUi',
    value: function updateUi() {
      console.log('updateUi');
    }
  }, {
    key: 'myProp',
    get: function get() {
      var s = this.getAttribute('my-prop');
      return s ? JSON.parse(s) : [];
    },
    set: function set(val) {
      this.setAttribute('my-prop', JSON.stringify(val));
      this.updateUi();
    }
  }]);

  return Element;
})();

exports['default'] = Element;
module.exports = exports['default'];
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Elements = (function (_BaseClass) {
	_inherits(Elements, _BaseClass);

	function Elements(id, options) {
		_classCallCheck(this, Elements);

		_get(Object.getPrototypeOf(Elements.prototype), 'constructor', this).call(this, id, options);
		this.logger.logApi('constructor', id);
	}

	return Elements;
})(_base2['default']);

exports['default'] = Elements;
module.exports = exports['default'];
},{"../base":1}],18:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Page = (function (_BaseClass) {
	_inherits(Page, _BaseClass);

	function Page(name, options) {
		_classCallCheck(this, Page);

		_get(Object.getPrototypeOf(Page.prototype), 'constructor', this).call(this, name, options);

		this.properties = {
			title: {
				type: String,
				value: null
			},
			backText: {
				type: String,
				value: null
			},
			backLink: {
				type: String,
				value: null
			},

			href: {
				type: String,
				notify: true,
				value: null,
				observer: '_tmplChanged'
			},
			active: {
				type: Boolean,
				value: false
			},
			dialog: {
				type: Boolean,
				value: false
			},

			query: {
				type: Object
			},
			context: {
				type: Object
			},

			view: {
				type: Object
			},

			fromPage: {
				type: Object
			},
			route: {
				type: String
			},

			url: {
				type: String
			},

			container: {
				type: String
			}
		};

		this.utils.addMixin(new _corePubsub2['default'](name), this);

		return this;
	}

	_createClass(Page, [{
		key: 'created',
		value: function created() {
			var logger = new px.mobile.Logger(this.tagName, {
				colors: {
					debug: 'color:orange'
				}
			});
			px.mobile.utils.addMixin(logger, this);
			this.log.logApi('created', this.id);
			this.emit('page:' + this.id + ':init', this);
		}
	}, {
		key: 'ready',
		value: function ready() {
			this.log.logApi('ready', this.id);
			if (this.dialog) {
				this.toggleClass('dialog');
			}
			this.emit('page:' + this.id + ':ready', this);
		}
	}, {
		key: 'show',
		value: function show() {
			console.warn('INFO', 'show view', this.id);
			this.toggleClass('current', false, this);
		}
	}, {
		key: 'hide',
		value: function hide() {
			console.warn('INFO', 'hide view', this.id);
			this.toggleClass('hidden', true, this);
		}
	}, {
		key: 'update',
		value: function update() {
			console.warn('INFO', 'update view', this.id);
		}
	}, {
		key: 'currentView',
		value: function currentView() {
			console.warn('INFO', 'current view', this.id);
			this.child()[0].toggleClass('current', true, this);
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			console.warn('INFO', 'next view', this.id);
			this.toggleClass('next', true, this);
		}
	}, {
		key: 'previousView',
		value: function previousView() {
			console.warn('INFO', 'previous view', this.id);
			this.toggleClass('previous', true, this);
		}
	}, {
		key: 'contextChanged',
		value: function contextChanged(newContext, oldContext) {
			console.warn('contextChanged', newContext, oldContext);
		}
	}, {
		key: '_tmplChanged',
		value: function _tmplChanged(newVal, oldVal) {
			var _this = this,
			    html = '';
			if (newVal) {
				console.warn(this.id, 'Load remote html', newVal);
				this.importHref(newVal, function (e) {
					html = e.target['import'].body.innerHTML;
					_this.log.logApi('inject html', _this.id);
					console.warn('inject px-view html', _this.id);
					_this.html(html);
				}, function (e) {
					console.error('Error loading page', e);
				});
			}
		}
	}, {
		key: 'showMenu',
		value: function showMenu() {
			px.mobile.dom('px-app').toggleClass('show-menu');
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}, {
		key: 'close',
		value: function close() {
			if (this.dialog) {
				this.toggleClass('open');
			}
		}
	}]);

	return Page;
})(_base2['default']);

exports['default'] = Page;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],19:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _corePubsub = require('../core/pubsub');

var _corePubsub2 = _interopRequireDefault(_corePubsub);

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var Pages = (function (_BaseClass) {
	_inherits(Pages, _BaseClass);

	function Pages(name, options) {
		_classCallCheck(this, Pages);

		_get(Object.getPrototypeOf(Pages.prototype), 'constructor', this).call(this, name, options);

		this.PageList = [];
		this.PageMap = {};

		return this;
	}

	_createClass(Pages, [{
		key: 'beforeRegister',
		value: function beforeRegister() {}
	}, {
		key: 'created',
		value: function created() {}
	}, {
		key: 'ready',
		value: function ready() {}
	}, {
		key: 'attached',
		value: function attached() {}
	}, {
		key: 'detached',
		value: function detached() {}
	}, {
		key: 'attributeChanged',
		value: function attributeChanged() {}
	}, {
		key: 'goto',
		value: function goto(indexOrId) {
			var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};
			if (page) {
				this.gotoPage(indexOrId);
				return page;
			}
		}
	}, {
		key: 'gotoPage',
		value: function gotoPage(id) {
			var index = 0;
			if (this.PageMap[id]) {
				index = this.PageList.indexOf(this.PageMap[id]);
			}
			this.selected = index;
			this.logApi('gotoPage', id, index);
		}
	}, {
		key: 'gotoIndex',
		value: function gotoIndex(index) {
			this.logApi('gotoIndex', index);
			this.children[index].removeClass('previous');
			this.children[index].removeClass('next');
			this.selected = index;
		}
	}, {
		key: 'current',
		value: function current() {
			this.logApi('current', this.selected);
			this.gotoIndex(this.selected);
		}
	}, {
		key: 'prev',
		value: function prev() {
			if (this.selected <= 0) {
				if (this.loop) {
					this.reset(true);
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected - 1);
			}
		}
	}, {
		key: 'next',
		value: function next() {
			this.logApi('next', this.selected);
			if (this.selected >= this.PageList.length - 1) {
				if (this.loop) {
					this.reset();
				} else {
					this.current();
				}
			} else {
				this.gotoIndex(this.selected + 1);
			}
		}
	}]);

	return Pages;
})(_base2['default']);

exports['default'] = Pages;
module.exports = exports['default'];
},{"../base":1,"../core/pubsub":4}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var View = (function () {
	function View(options) {
		_classCallCheck(this, View);

		console.warn('new View', options);
		this.id = options.id;
		this.params = options.params || {};
		this.url = options.url || '';
		this.main = options.main || false;
		this.element = document.createElement('px-view');
	}

	_createClass(View, [{
		key: 'toHTML',
		value: function toHTML() {
			this.log.logApi(this, this.element);
		}
	}]);

	return View;
})();

exports['default'] = View;
module.exports = exports['default'];
},{}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

function _interopRequireDefault(obj) {
	return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _base = require('../base');

var _base2 = _interopRequireDefault(_base);

var _view = require('./view');

var _view2 = _interopRequireDefault(_view);

var Views = (function (_BaseClass) {
	_inherits(Views, _BaseClass);

	function Views(options) {
		var _this = this;

		_classCallCheck(this, Views);

		_get(Object.getPrototypeOf(Views.prototype), 'constructor', this).call(this, options.id, options);
		this.id = options.id;
		this.selected = options.selected || 0;
		this.selectedView = {};
		this.views = [];
		this.viewMap = {};

		if (options.views) {
			options.views.forEach(function (view) {
				_this.add(view);
			});
		}

		this.selectViewByIndex(this.selected);
		return this;
	}

	_createClass(Views, [{
		key: 'created',
		value: function created() {
			this.log.logApi('Views created');
		}
	}, {
		key: 'attached',
		value: function attached() {
			this.log.logApi('Views attached');
		}
	}, {
		key: 'add',
		value: function add(v) {
			var view = new _view2['default'](v);
			view.index = this.views.length;
			this[view.id] = view;
			this.views.push(view);
			this.viewMap[view.id] = view;
			return this;
		}
	}, {
		key: 'get',
		value: function get(key) {
			return this.viewMap[key];
		}
	}, {
		key: 'getViews',
		value: function getViews() {
			return this.viewMap;
		}
	}, {
		key: 'selectView',
		value: function selectView(key) {
			this.log.logApi('Views.selectView()', key);
			this.selectedView = this.viewMap[key];
			this.selected = this.views.indexOf(this.selectedView);
			return this;
		}
	}, {
		key: 'getSelectedView',
		value: function getSelectedView() {
			return this.selectedView;
		}
	}, {
		key: 'getSelectedIndex',
		value: function getSelectedIndex() {
			return this.views.indexOf(this.getSelectedView());
		}
	}, {
		key: 'nextView',
		value: function nextView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected + 1;

			counter++;

			if (counter >= len) {
				this.log.logApi('Reached last item');
				counter = 0;
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('nextView', items, len, 'index', index, 'selected', this.selected);
			return this.selected;
		}
	}, {
		key: 'prevView',
		value: function prevView() {
			var items = this.views,
			    len = items.length,
			    counter = this.selected,
			    index = this.selected;

			counter--;

			if (counter >= len) {
				counter = index - len;
			} else if (counter < 0) {
				counter = 0;
				this.log.logApi('Reached first item');
			}
			this.selected = counter;
			this.selectView(this.views[this.selected].id);

			this.log.logApi('prevView', items, len, 'index', index, 'selected', this.selected);

			return this.selected;
		}
	}, {
		key: 'selectViewByIndex',
		value: function selectViewByIndex(i) {
			this.selectView(this.views[i].id);
		}
	}, {
		key: 'changeView',
		value: function changeView(id) {
			this.selectView(id);
		}
	}]);

	return Views;
})(_base2['default']);

exports['default'] = Views;
module.exports = exports['default'];
},{"../base":1,"./view":20}],22:[function(require,module,exports){
(function (global){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var DOM = (function () {
	function DOM(selector, context) {
		_classCallCheck(this, DOM);

		console.time('dom');
		var matches = {
			'#': 'getElementById',
			'.': 'getElementsByClassName',
			'@': 'getElementsByName',
			'=': 'getElementsByTagName',
			'*': 'querySelectorAll'
		};
		var match = matches[selector[0]];
		if (!match) {
			match = 'querySelectorAll';
		}
		var out = null,
		    el;

		try {
			el = (context === undefined ? document : context)[matches](selector.slice(1));
			out = el.length < 2 ? el[0] : el;
		} catch (err) {}
		this.length = el.length || 0;
		Object.assign(this, out);
		return this;
	}

	_createClass(DOM, [{
		key: 'find',
		value: function find(selector, context) {}
	}, {
		key: 'clone',
		value: function clone() {}
	}, {
		key: 'each',
		value: function each(callback) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = Array.from(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var el = _step.value;

					callback.call(el);
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator['return']) {
						_iterator['return']();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return this;
		}
	}, {
		key: 'addClass',
		value: function addClass(className) {
			return this.each(function () {
				if (this.classList) {
					this.classList.add(className);
				} else {
					this.className += ' ' + className;
				}
			});
		}
	}, {
		key: 'removeClass',
		value: function removeClass(className) {
			return this.each(function () {
				this.classList.remove(className);
			});
		}
	}, {
		key: 'hasClass',
		value: function hasClass(className) {
			if (this.classList) {
				return this.classList.contains(className);
			} else {
				return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
			}
		}
	}, {
		key: 'toggleClass',
		value: function toggleClass(className) {
			var el = this;
			if (el.classList) {
				el.classList.toggle(className);
			} else {
				var classes = el.className.split(' ');
				var existingIndex = classes.indexOf(className);

				if (existingIndex >= 0) {
					classes.splice(existingIndex, 1);
				} else {
					classes.push(className);
				}
				el.className = classes.join(' ');
			}
		}
	}, {
		key: 'css',
		value: function css(prop, value) {
			if (value) {
				this.style[prop] = value;
				return this;
			} else if (prop) {
				return this.style[prop];
			} else {
				return this.style;
			}
		}
	}, {
		key: 'attr',
		value: function attr(name, value) {
			name = name.toLowerCase();

			if (value) {
				this.setAttribute(name, value);
				return this;
			} else {
				return this.getAttribute(name);
			}
		}
	}, {
		key: 'data',
		value: function data(name, value) {
			if (value) {
				this.setAttribute('data-' + name, value);
				return this;
			} else {
				return this.getAttribute('data-' + name);
			}
		}
	}, {
		key: 'on',
		value: function on(event, callback) {
			return this.each(function () {
				this.addEventListener(event, callback, false);
			});
		}
	}, {
		key: '_on',
		value: function _on(eventName, eventHandler) {
			eventType = eventType.split(' ');
			for (var i = 0; i < eventType.length; i++) {
				this.addEventListener(eventType[i], callback);
			}
			return this;
		}
	}, {
		key: 'off',
		value: function off(eventName, eventHandler) {
			this.removeEventListener(eventName, eventHandler);
		}
	}, {
		key: 'trigger',
		value: function trigger(eventName, eventData) {
			var event;
			if (window.CustomEvent) {
				event = new CustomEvent(eventName, {
					detail: eventData
				});
			} else {
				event = document.createEvent('CustomEvent');
				event.initCustomEvent(eventName, true, true, eventData);
			}
			return this.dispatchEvent(event);
		}
	}, {
		key: 'empty',
		value: function empty() {
			this.innerHTML = '';
			return this;
		}
	}, {
		key: 'html',
		value: function html(_html) {
			if (_html) {
				this.innerHTML = _html;
				return this;
			} else {
				return this.innerHTML;
			}
		}
	}, {
		key: 'text',
		value: function text(_text) {
			if (_text) {
				this.textContent = _text;
				return this;
			} else {
				return this.textContent;
			}
		}
	}, {
		key: 'next',
		value: function next() {
			return this.nextElementSibling;
		}
	}, {
		key: 'prev',
		value: function prev() {}
	}, {
		key: 'parent',
		value: function parent() {
			return this.parentNode;
		}
	}, {
		key: 'child',
		value: function child() {}
	}, {
		key: 'position',
		value: function position() {}
	}]);

	return DOM;
})();

exports['default'] = DOM;

var dom = function dom(selector, context, undefined) {

	var matches = ({
		'#': 'getElementById',
		'.': 'getElementsByClassName',
		'@': 'getElementsByName',
		'=': 'getElementsByTagName',
		'*': 'querySelectorAll'
	})[selector[0]];

	var out = null,
	    el;
	try {
		el = (context === undefined ? document : context)[matches](selector.slice(1));
		out = el.length < 2 ? el[0] : el;
	} catch (err) {}

	return out;
};

dom.extend = function (out) {
	out = out || {};
	for (var i = 1; i < arguments.length; i++) {
		if (!arguments[i]) {
			continue;
		}
		for (var key in arguments[i]) {
			if (arguments[i].hasOwnProperty(key)) {
				out[key] = arguments[i][key];
			}
		}
	}
	return out;
};

(function (win) {
	if (!win || !win.Element) {
		return;
	}

	win.Element.prototype.find = function (selector) {
		return dom(selector, this);
	};

	win.Element.prototype.append = function (el) {
		return this.appendChild(el);
	};

	win.Element.prototype.clone = function () {
		return this.cloneNode(true);
	};

	window.Element.prototype.hasClass = function (className) {
		if (this.classList) {
			return this.classList.contains(className);
		} else {
			return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);
		}
	};

	win.Element.prototype.addClass = function (className) {
		var classes = className.split(' ');
		for (var i = 0; i < classes.length; i++) {
			if (this.classList) {
				this.classList.add(classes[i]);
			} else {
				this.className += ' ' + classes[i];
			}
		}
		return this;
	};

	win.Element.prototype.removeClass = function (className) {
		var el = this;
		if (el.classList && className) {
			el.classList.remove(className);
		} else if (el.classList && !className) {
			el.classList.forEach(function (cla) {
				el.removeClass(cla);
			});
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
		return this;
	};

	win.Element.prototype.toggleClass = function (className) {
		var el = this;
		if (el.classList) {
			el.classList.toggle(className);
		} else {
			var classes = el.className.split(' ');
			var existingIndex = classes.indexOf(className);

			if (existingIndex >= 0) {
				classes.splice(existingIndex, 1);
			} else {
				classes.push(className);
			}
			el.className = classes.join(' ');
		}
	};

	win.Element.prototype.css = function (prop, value) {
		if (value) {
			this.style[prop] = value;
			return this;
		} else if (prop) {
			return this.style[prop];
		} else {
			return this.style;
		}
	};

	win.Element.prototype.attr = function (name, value) {
		name = name.toLowerCase();

		if (value) {
			this.setAttribute(name, value);
			return this;
		} else {
			return this.getAttribute(name);
		}
	};

	win.Element.prototype.data = function (name, value) {
		if (value) {
			this.setAttribute('data-' + name, value);
			return this;
		} else {
			return this.getAttribute('data-' + name);
		}
	};

	win.Element.prototype.on = function (eventType, callback) {
		eventType = eventType.split(' ');
		for (var i = 0; i < eventType.length; i++) {
			this.addEventListener(eventType[i], callback);
		}
		return this;
	};

	win.Element.prototype.off = function (eventName, eventHandler) {
		this.removeEventListener(eventName, eventHandler);
	};

	win.Element.prototype.trigger = function (eventName, eventData) {
		var event;
		if (win.CustomEvent) {
			event = new CustomEvent(eventName, {
				detail: eventData
			});
		} else {
			event = document.createEvent('CustomEvent');
			event.initCustomEvent(eventName, true, true, eventData);
		}
		return this.dispatchEvent(event);
	};

	win.Element.prototype.empty = function () {
		this.innerHTML = '';
		return this;
	};

	win.Element.prototype.html = function (html) {
		if (html) {
			this.innerHTML = html;
			return this;
		} else {
			return this.innerHTML;
		}
	};

	win.Element.prototype.text = function (text) {
		if (text) {
			this.textContent = text;
			return this;
		} else {
			return this.textContent;
		}
	};

	win.Element.prototype.next = function () {
		return this.nextElementSibling;
	};

	win.Element.prototype.parent = function () {
		return this.parentNode;
	};

	win.Element.prototype.remove = function () {
		return this.parentNode.removeChild(this);
	};

	win.Element.prototype.child = function (el) {
		if (el) {
			return this.querySelectorAll(el);
		} else {
			return this.children;
		}
	};

	win.Element.prototype.position = function () {
		var pos = {
			left: this.offsetLeft,
			top: this.offsetTop
		};
		return pos;
	};

	win.NodeList.prototype.addClass = function (name) {
		this.each(function (el) {
			el.classList.add(name);
		});
		return this;
	};

	win.NodeList.prototype.removeClass = function (name) {
		this.each(function (el) {
			el.classList.remove(name);
		});
		return this;
	};

	win.NodeList.prototype.find = function find(elem) {
		console.error('You cannot find in a NodeList. Just use $(*selector %s)', elem);
		return this;
	};

	win.NodeList.prototype.each = Array.prototype.forEach;

	win.NodeList.prototype.attr = function (name, value) {
		this.each(function (el) {
			if (value) {
				el.setAttribute(name, value);
			} else {
				return el.getAttribute(name);
			}
		});
		return this;
	};

	win.NodeList.prototype.toggleClass = function (className) {
		this.each(function (el) {
			el.toggleClass(className);
		});
		return this;
	};

	win.NodeList.prototype.css = function (prop, value) {
		this.each(function (el) {
			el.css(prop, value);
		});
		return this;
	};

	win.NodeList.prototype.on = function (eventType, callback) {
		this.each(function (el) {
			el.on(eventType, callback);
		});
		return this;
	};

	win.NodeList.prototype.first = function () {
		return this.length < 2 ? this : this[0];
	};

	win.NodeList.prototype.last = function () {
		return this.length > 1 ? this[this.length - 1] : this;
	};
})(typeof window == "undefined" ? global : window);

var $ = function $(selector) {
	return dom(selector);
};
exports.$ = $;
exports['default'] = dom;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError("Cannot call a class as a function");
	}
}

var Interface = (function () {
	function Interface(name, methods) {
		_classCallCheck(this, Interface);

		if (arguments.length !== 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}

		this.name = name;
		this.methods = [];

		for (var i = 0, len = methods.length; i < len; i++) {
			if (typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}

			this.methods.push(methods[i]);
		}
	}

	_createClass(Interface, null, [{
		key: "ensureImplements",
		value: function ensureImplements(object) {
			if (arguments.length < 2) {
				throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
			}

			for (var i = 1, len = arguments.length; i < len; i++) {
				var _interface = arguments[i];
				if (_interface.constructor !== Interface) {
					throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
				}

				for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
					var method = _interface.methods[j];
					if (!object[method] || typeof object[method] !== 'function') {
						throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
					}
				}
			}
			return true;
		}
	}]);

	return Interface;
})();

exports["default"] = Interface;
module.exports = exports["default"];
},{}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _interface = require('./interface');

var _interface2 = _interopRequireDefault(_interface);

var Interfaces = {};

Interfaces.IDBInterface = new _interface2['default']('IDBInterface', ['getAttachment', 'saveAttachment', 'get', 'put', 'post', 'remove', 'allDocs', 'bulkDocs', 'changes']);

Interfaces.IHTTPInterface = new _interface2['default']('IHTTPInterface', ['get', 'put', 'post', 'delete', 'head', 'request']);

exports['default'] = Interfaces;
module.exports = exports['default'];
},{"./interface":23}],25:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () {
	function defineProperties(target, props) {
		for (var i = 0; i < props.length; i++) {
			var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
		}
	}return function (Constructor, protoProps, staticProps) {
		if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
	};
})();

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

var Logger = (function () {
	function Logger() {
		var category = arguments.length <= 0 || arguments[0] === undefined ? 'log' : arguments[0];
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, Logger);

		this.category = category;

		var defaults = {
			colors: {
				trace: 'color:#7672E6;',
				success: 'color:#46AD00;',
				info: 'color:#005CB9;',
				warn: 'color:#FF9821;',
				fatal: 'color:#C057BA;',
				error: 'color:#E32533;',
				debug: 'color:#005CB9;'
			}
		};
		this.colors = defaults.colors;
		this.options = options;
		this.debugEnabled = options.debugEnabled || false;
		return this;
	}

	_createClass(Logger, [{
		key: 'log',
		value: function log(level, args) {
			var timestamp = new Date().toLocaleString();
			var log = window.console ? window.console.log.bind(window.console) : function () {};
			if (this.debugEnabled) {
				log('[' + timestamp + '] [' + level + '] [' + this.category + ']', arguments);
			}
		}
	}, {
		key: 'debug',
		value: function debug(args) {
			return this.log('DEBUG', args);
		}
	}, {
		key: 'info',
		value: function info(args) {
			return this.log('INFO', args);
		}
	}, {
		key: 'warn',
		value: function warn(args) {
			return this.log('WARN', args);
		}
	}, {
		key: 'error',
		value: function error(args) {
			return this.log('ERROR', args);
		}
	}, {
		key: 'logApi',
		value: function logApi(method, params, success) {
			if (!params) {
				params = {};
			}

			if (this.debugEnabled) {
				console.log('%c[%s:api] %s %o', success ? this.colors.success : this.colors.debug, this.category, method, params);
			}
		}
	}, {
		key: 'logHttp',
		value: function logHttp(method, url, success) {
			if (this.debugEnabled) {
				console.log('%c[%s:http] %c%s %c%o', success ? this.colors.success : this.colors.info, this.category, null, method, null, url);
			}
		}
	}, {
		key: 'logTime',
		value: function logTime(name) {
			var start = new Date();
			return {
				end: function end() {
					return new Date().getMilliseconds() - start.getMilliseconds() + 'ms';
				}
			};
		}
	}]);

	return Logger;
})();

exports['default'] = Logger;
module.exports = exports['default'];
},{}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) {
	var _again = true;_function: while (_again) {
		var object = _x,
		    property = _x2,
		    receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
			var parent = Object.getPrototypeOf(object);if (parent === null) {
				return undefined;
			} else {
				_x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
			}
		} else if ('value' in desc) {
			return desc.value;
		} else {
			var getter = desc.get;if (getter === undefined) {
				return undefined;
			}return getter.call(receiver);
		}
	}
};

exports.resolveURL = resolveURL;
exports.extend = extend;
exports.extendDeep = extendDeep;
exports.extendClass = extendClass;
exports.type = type;
exports.addMixin = addMixin;
exports.debounce = debounce;
exports.mixin = mixin;
exports.mix = mix;
exports.uuid = uuid;

function _classCallCheck(instance, Constructor) {
	if (!(instance instanceof Constructor)) {
		throw new TypeError('Cannot call a class as a function');
	}
}

function _inherits(subClass, superClass) {
	if (typeof superClass !== 'function' && superClass !== null) {
		throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);
	}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = '';
	i = 1;
	while (i < len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === 'object') {
			for (key in path) {
				if (queryString.length > 0) {
					queryString += '&';
				}
				value = path[key];
				queryString += key + '=' + value;
				i++;
			}
			continue;
		}
		if (path && path.indexOf('/') !== 0) {
			path = '/' + path;
		}
		if (base.substr(base.length - 1) === '/') {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length > 0) {
		base += '?' + queryString;
	}
	return base;
}

function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}

function extendDeep(parent, child) {
	var i,
	    toStr = Object.prototype.toString,
	    astr = '[object Array]';
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === 'object') {
				child[i] = toStr.call(parent[i]) === astr ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

function extendClass(child, parent) {
	var hasProp = ({}).hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}

	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;

	return child;
}

function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		'[object Boolean]': 'boolean',
		'[object Number]': 'number',
		'[object String]': 'string',
		'[object Function]': 'function',
		'[object Array]': 'array',
		'[object Date]': 'date',
		'[object RegExp]': 'regexp',
		'[object Object]': 'object'
	};
	return classToType[Object.prototype.toString.call(obj)];
}

function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

function debounce(name, func, wait, immediate) {
	var timeout;
	return function () {
		var context = this,
		    args = arguments;
		var later = function later() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}

function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function (name) {
		if (name !== 'constructor') {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

function mix() {
	var arg,
	    prop,
	    child = {};
	for (arg = 0; arg < arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}

var chars = ('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz').split('');

function getValue(radix) {
	return 0 | Math.random() * radix;
}

function uuid(len, radix) {
	radix = radix || chars.length;
	var out = '';
	var i = -1;

	if (len) {
		while (++i < len) {
			out += chars[getValue(radix)];
		}
		return out;
	}

	while (++i < 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += '-';
				break;
			case 19:
				out += chars[getValue(16) & 0x3 | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}

function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i < len; i++) {
		if (typeof methods[i] !== 'string') {
			throw new Error("Interface constructor expects method names to be passed in as a string.");
		}

		this.methods.push(methods[i]);
	}
}

Interface.ensureImplements = function (object) {
	if (arguments.length < 2) {
		throw new Error('Function Interface.ensureImplements called with ' + arguments.length + 'arguments, but expected at least 2.');
	}

	for (var i = 1, len = arguments.length; i < len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error('Function Interface.ensureImplements expects arguments two and above to be instances of Interface.');
		}

		for (var j = 0, methodsLen = _interface.methods.length; j < methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== 'function') {
				throw new Error('Function Interface.ensureImplements: object does not implement the ' + _interface.name + ' interface. Method ' + method + ' was not found. ');
			}
		}
	}
	return true;
};

var aggregation = function aggregation(baseClass) {
	for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		mixins[_key - 1] = arguments[_key];
	}

	var base = (function (_baseClass) {
		_inherits(_Combined, _baseClass);

		function _Combined() {
			var _this = this;

			_classCallCheck(this, _Combined);

			for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
				args[_key2] = arguments[_key2];
			}

			_get(Object.getPrototypeOf(_Combined.prototype), 'constructor', this).apply(this, args);
			mixins.forEach(function (mixin) {
				mixin.prototype.initializer.call(_this);
			});
		}

		return _Combined;
	})(baseClass);
	var copyProps = function copyProps(target, source) {
		Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {
			if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
				return;
			}

			Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
		});
	};
	mixins.forEach(function (mixin) {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
exports.aggregation = aggregation;
},{}]},{},[14])(14)
});</script>
<script type="text/javascript">
  var PagesBehavior = {
    behaviors: [BaseElement],
    // add properties and methods on the element's prototype
    properties: {

      // declare properties for the element's public API
      title: {
        type: String,
        value: 'Predix Mobile Page'
      },

      //The default selected Page
      selected: {
        type: Number,
        reflectToAttribute: true,
        notify: true,
        observer: '_setCurrent',
        value: 0
      },

      //The current context of the Page.
      currentPage: {
        type: Object,
        value: {}
      },
      context: {
        type: Object,
        value: {}
      },

      //The list of pages
      pages: {
        type: Array
      },

      PageList: {
        type: Array
      },

      selectedIndex: {
        type: Number
      },
      //The pages routes
      routes: {
        type: Object,
        value: {}
      },

      //The in effect
      inTransition: {
        type: String
      },

      //The out effect
      outTransition: {
        type: String
      },

      //Loop pages once end is reached.
      loop: {
        type: Boolean,
        value: false
      }
    },
    handleTrack: function(e) {
      var message;
      //pos = (this.containerSize / 100) * (((paneIndex - showIndex) * 100) + percent);
      var contextWidth = this.offsetWidth;
      var translateWidth = (contextWidth / 100) + e.detail.x;
      var pos = Math.abs(translateWidth);
      var transform = 'translateX( ' + pos + ' )'
      var currentPage = null;
      console.log('handleTrack', e);
      switch (e.detail.state) {
        case 'start':
          message = 'Tracking started!';
          break;
        case 'track':
          message = 'Tracking in progress... ' +
            e.detail.x + ', ' + e.detail.y;
          this.transform('translateX(' + pos + 'px)', this.currentPage);
          break;
        case 'end':
          message = 'Tracking ended!';
          break;
      }



      console.log('handleTrack', message, pos, contextWidth, translateWidth, transform);
    },
    emit: function(event, data) {
      //  console.warn('emit:event', event, data);
      return pxMobile.dom('*body').trigger('page:' + event, data);
    },
    on: function(event, cb) {
      //  console.warn('on:event', event, cb);
      return pxMobile.dom('*body').on('page:' + event, cb);
    },

    created: function() {
      this.PageMap = {};
      this.PageList = [];
    },


    attached: function() {
      if (!this.id) {
        throw 'pages' + this.tagName + ' cannot be created without an id!';
      }
      //  this.listen(this, 'track', 'handleTrack');
      this._initpages();
      this.gotoIndex(this.selected);
      this.addClass('et-wrapper');
    },
    _initpages: function() {
      var self = this;
      var pages = Polymer.dom(this).querySelectorAll('px-page');

      //  var pages = Polymer.dom(this).getEffectiveChildren();
      var len = pages.length;
      for (var i = 0; i < len; i++) {
      //  console.log('page', pages[i]);
        self._addPage(pages[i]);
      }
      this.fire('px-pages-ready');
      this.fire('ready');
    },

    //show Page
    showPage: function(index) {

      this.PageList[this.selected].toggleClass('et-page-current');
      this.selected = index;
      this.PageList[this.selected].child()[0].toggleClass('et-page-current');
    },

    //hide Page
    hidePage: function(index) {

      this.toggleClass('hidden', true, this);
    },

    //update Page
    updatePage: function(page) {},

    //Handle adding a Page to the map
    _addPage: function(Page) {

      this.emit('add', Page);

      if (Page.modal) {
        return;
      }

      //add the index to the el
      Page.attr('index', this.PageList.length.toString());

      //push to Page list
      this.PageList.push(Page);

      //add next class to element
      Page.addClass('et-page');
      Page.addClass('next');

      //add to Page map
      this.PageMap[Page.id] = Page;

      //Add to routeHandlers
      if (Page.route) {
        this.routes[Page.route] = Page.id;
      }
    },

    //Handle clearing all the 'current' classes.
    _clearCurrent: function() {
      var _pages = Polymer.dom(this).querySelectorAll('px-page');
      if (_pages) {
        _pages.forEach(function(Page) {
          Page.removeClass('current');
        });
      }
    }
  };


  PagesBehavior._setCurrent = function(index, oldIndex) {
    var prevPage = this.children[oldIndex];
    var currPage = this.children[index];


    this.emit('change', currPage);

    if (prevPage) {
      prevPage.removeClass('current');
      prevPage.removeClass('et-page-current');
      prevPage.addClass('previous');
    }

    if (currPage) {
      currPage.removeClass('next');
      currPage.addClass('current');
      currPage.addClass('et-page-current');
    }
    this.currentPage = currPage;
    this.fire('current', currPage);

  };

  PagesBehavior.getCurrentPage = function() {
    this.currentPage = this.PageList[this.selected];
    return this.currentPage;
  };

  PagesBehavior.changePage = function(indexOrId) {
    var p = null;
    this._clearCurrent();

    if (this.PageList[indexOrId]) {
      p = this.PageList[indexOrId];
      this._setCurrent(indexOrId);
    } else if (this.PageMap[indexOrId]) {
      p = this.PageMap[indexOrId];
      this._setCurrent(this.PageList.indexOf(p));
    }
    this.emit('change', indexOrId);
    this.currentPage = p;
    this.fire('change', p);
  };


  // TODO: New IMplmenation
  PagesBehavior.currentIndex = 0;
  PagesBehavior.reset = function(reverse) {
    var _pages = this.children;
    var len = this.children.length;
    for (var i = 0; i < len; i++) {
      this.children[i].removeClass('current');

      if (reverse) {
        this.children[i].addClass('previous');
        this.children[i].removeClass('next');
      } else {
        this.children[i].addClass('next');
        this.children[i].removeClass('previous');
      }
    }
    this.children[this.selected].removeClass('next');
    if (reverse) {
      this.selected = this.PageList.length - 1;
    } else {
      this.selected = this.selected - (this.PageList.length - 1);
    }

    this.current();
  };

  PagesBehavior.goto = function(indexOrId) {
    var page = this.PageMap[indexOrId] || this.PageList[indexOrId] | {};

    if (page) {
      this.gotoPage(indexOrId);
      window.location.hash = page.route;
      return page;
    }

  };


  /**
   * Goto a page
   */
  PagesBehavior.gotoPage = function(id) {
    var index = 0;
    if (this.PageMap[id]) {
      index = this.PageList.indexOf(this.PageMap[id]);
    }
    this.selected = index;
  //  console.log('gotoPage', id, index);
  };

  /**
   * Goto a page by index
   * @param index
   */
  PagesBehavior.gotoIndex = function(index) {
    console.log('gotoIndex', index);
    this.children[index].removeClass('previous');
    this.children[index].removeClass('next');
    this.selected = index;

  };

  /**
   * The current page
   */
  PagesBehavior.current = function() {
    console.log('current', this.selected);
    this.gotoIndex(this.selected);
  };

  /**
   * The next page
   */
  PagesBehavior.next = function() {
    console.log('next', this.selected);
    if (this.selected >= this.PageList.length - 1) {
      if (this.loop) {
        this.reset();
      } else {
        this.current();
      }
    } else {
      this.gotoIndex(this.selected + 1);
    }
  };

  /**
   * The previous page
   */
  PagesBehavior.prev = function() {
    if (this.selected <= 0) {
      if (this.loop) {
        this.reset(true);
      } else {
        this.current();
      }
    } else {
      this.gotoIndex(this.selected - 1);
    }
  };

  /**
   * Remove transition from page
   * @param index
   */
  PagesBehavior.removeTransition = function(index) {
    var page = this.PageList[index];
    page.content.css('transition', 'none');
  };

  /**
   * Do a transition
   */
  PagesBehavior.doTransition = function(index) {
    var page = this.PageList[index];
    var position = page.position();
    page
      .css('transition', 'all 400ms ease')
      .css('transform', 'translate3d(' + (-1 * (position.left)) + 'px, 0, 0)');
  };

  /**
   * Change the page
   * @param name
   */
  PagesBehavior.change = function(name) {
    return this.goto(name);
  };

  /**
   * Load a page
   * @param url
   */
  PagesBehavior.load = function(url) {
    console.warn('PagesBehavior.load', 'NOT IMPLEMENTED');
    return false;
  };

  /**
   * Get the active page
   * @returns {*}
   */
  PagesBehavior.getActivePage = function() {
    return this.PageList[this.selected];
  };

  //PagesBehavior.currentPage = this.getActivePage();

  /**
   * Add a px-page from page object
   * @param obj
   */
  PagesBehavior.addPage = function(obj) {
    console.warn('PagesBehavior.addPage', 'NOT IMPLEMENTED');
    return false;
  };

  //Handle setting the height of the current page to the height of the container.
  PagesBehavior._fixHeight = function() {
    var pHeight = this.offsetHeight;
    var pageHeight = this.currentPage.offsetHeight;
    var pageContent = this.querySelector('.page-content');
    var contentHeight = pageContent.offsetHeight;
    pageContent.css('height', pageHeight + 'px')
    console.log('Parent', pHeight, 'Child', pageHeight, 'Content', contentHeight, pageContent);

    return pageContent;
  };
</script>
<style>
.et-wrapper {
	position: relative;
	-webkit-perspective: 1200px;
	-moz-perspective: 1200px;
	perspective: 1200px;
	display: block;
	overflow: hidden;
}

.et-page {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	visibility: hidden;
	overflow: hidden;
	-webkit-backface-visibility: hidden;
	-moz-backface-visibility: hidden;
	backface-visibility: hidden;
	-webkit-transform: translate3d(0, 0, 0);
	-moz-transform: translate3d(0, 0, 0);
	transform: translate3d(0, 0, 0);
	-webkit-transform-style: preserve-3d;
	-moz-transform-style: preserve-3d;
	transform-style: preserve-3d;
}

.et-page-current,
.no-js .et-page {
	visibility: visible;
	z-index: 1;
}

.no-js body {
	overflow: auto;
}

.et-page-ontop {
	z-index: 999;
}

/* Triggers (menu and button) */
.et-rotate {
  cursor: pointer;
}



/* animation sets */

/* move from / to  */

.pt-page-moveToLeft {
	-webkit-animation: moveToLeft .6s ease both;
	-moz-animation: moveToLeft .6s ease both;
	animation: moveToLeft .6s ease both;
}

.pt-page-moveFromLeft {
	-webkit-animation: moveFromLeft .6s ease both;
	-moz-animation: moveFromLeft .6s ease both;
	animation: moveFromLeft .6s ease both;
}

.pt-page-moveToRight {
	-webkit-animation: moveToRight .6s ease both;
	-moz-animation: moveToRight .6s ease both;
	animation: moveToRight .6s ease both;
}

.pt-page-moveFromRight {
	-webkit-animation: moveFromRight .6s ease both;
	-moz-animation: moveFromRight .6s ease both;
	animation: moveFromRight .6s ease both;
}

.pt-page-moveToTop {
	-webkit-animation: moveToTop .6s ease both;
	-moz-animation: moveToTop .6s ease both;
	animation: moveToTop .6s ease both;
}

.pt-page-moveFromTop {
	-webkit-animation: moveFromTop .6s ease both;
	-moz-animation: moveFromTop .6s ease both;
	animation: moveFromTop .6s ease both;
}

.pt-page-moveToBottom {
	-webkit-animation: moveToBottom .6s ease both;
	-moz-animation: moveToBottom .6s ease both;
	animation: moveToBottom .6s ease both;
}

.pt-page-moveFromBottom {
	-webkit-animation: moveFromBottom .6s ease both;
	-moz-animation: moveFromBottom .6s ease both;
	animation: moveFromBottom .6s ease both;
}

/* fade */

.pt-page-fade {
	-webkit-animation: fade .7s ease both;
	-moz-animation: fade .7s ease both;
	animation: fade .7s ease both;
}

/* move from / to and fade */

.pt-page-moveToLeftFade {
	-webkit-animation: moveToLeftFade .7s ease both;
	-moz-animation: moveToLeftFade .7s ease both;
	animation: moveToLeftFade .7s ease both;
}

.pt-page-moveFromLeftFade {
	-webkit-animation: moveFromLeftFade .7s ease both;
	-moz-animation: moveFromLeftFade .7s ease both;
	animation: moveFromLeftFade .7s ease both;
}

.pt-page-moveToRightFade {
	-webkit-animation: moveToRightFade .7s ease both;
	-moz-animation: moveToRightFade .7s ease both;
	animation: moveToRightFade .7s ease both;
}

.pt-page-moveFromRightFade {
	-webkit-animation: moveFromRightFade .7s ease both;
	-moz-animation: moveFromRightFade .7s ease both;
	animation: moveFromRightFade .7s ease both;
}

.pt-page-moveToTopFade {
	-webkit-animation: moveToTopFade .7s ease both;
	-moz-animation: moveToTopFade .7s ease both;
	animation: moveToTopFade .7s ease both;
}

.pt-page-moveFromTopFade {
	-webkit-animation: moveFromTopFade .7s ease both;
	-moz-animation: moveFromTopFade .7s ease both;
	animation: moveFromTopFade .7s ease both;
}

.pt-page-moveToBottomFade {
	-webkit-animation: moveToBottomFade .7s ease both;
	-moz-animation: moveToBottomFade .7s ease both;
	animation: moveToBottomFade .7s ease both;
}

.pt-page-moveFromBottomFade {
	-webkit-animation: moveFromBottomFade .7s ease both;
	-moz-animation: moveFromBottomFade .7s ease both;
	animation: moveFromBottomFade .7s ease both;
}

/* move to with different easing */

.pt-page-moveToLeftEasing {
	-webkit-animation: moveToLeft .7s ease-in-out both;
	-moz-animation: moveToLeft .7s ease-in-out both;
	animation: moveToLeft .7s ease-in-out both;
}
.pt-page-moveToRightEasing {
	-webkit-animation: moveToRight .7s ease-in-out both;
	-moz-animation: moveToRight .7s ease-in-out both;
	animation: moveToRight .7s ease-in-out both;
}
.pt-page-moveToTopEasing {
	-webkit-animation: moveToTop .7s ease-in-out both;
	-moz-animation: moveToTop .7s ease-in-out both;
	animation: moveToTop .7s ease-in-out both;
}
.pt-page-moveToBottomEasing {
	-webkit-animation: moveToBottom .7s ease-in-out both;
	-moz-animation: moveToBottom .7s ease-in-out both;
	animation: moveToBottom .7s ease-in-out both;
}

/********************************* keyframes **************************************/

/* move from / to  */

@-webkit-keyframes moveToLeft {
	to { -webkit-transform: translateX(-100%); }
}
@-moz-keyframes moveToLeft {
	to { -moz-transform: translateX(-100%); }
}
@keyframes moveToLeft {
	to { transform: translateX(-100%); }
}

@-webkit-keyframes moveFromLeft {
	from { -webkit-transform: translateX(-100%); }
}
@-moz-keyframes moveFromLeft {
	from { -moz-transform: translateX(-100%); }
}
@keyframes moveFromLeft {
	from { transform: translateX(-100%); }
}

@-webkit-keyframes moveToRight {
	to { -webkit-transform: translateX(100%); }
}
@-moz-keyframes moveToRight {
	to { -moz-transform: translateX(100%); }
}
@keyframes moveToRight {
	to { transform: translateX(100%); }
}

@-webkit-keyframes moveFromRight {
	from { -webkit-transform: translateX(100%); }
}
@-moz-keyframes moveFromRight {
	from { -moz-transform: translateX(100%); }
}
@keyframes moveFromRight {
	from { transform: translateX(100%); }
}

@-webkit-keyframes moveToTop {
	to { -webkit-transform: translateY(-100%); }
}
@-moz-keyframes moveToTop {
	to { -moz-transform: translateY(-100%); }
}
@keyframes moveToTop {
	to { transform: translateY(-100%); }
}

@-webkit-keyframes moveFromTop {
	from { -webkit-transform: translateY(-100%); }
}
@-moz-keyframes moveFromTop {
	from { -moz-transform: translateY(-100%); }
}
@keyframes moveFromTop {
	from { transform: translateY(-100%); }
}

@-webkit-keyframes moveToBottom {
	to { -webkit-transform: translateY(100%); }
}
@-moz-keyframes moveToBottom {
	to { -moz-transform: translateY(100%); }
}
@keyframes moveToBottom {
	to { transform: translateY(100%); }
}

@-webkit-keyframes moveFromBottom {
	from { -webkit-transform: translateY(100%); }
}
@-moz-keyframes moveFromBottom {
	from { -moz-transform: translateY(100%); }
}
@keyframes moveFromBottom {
	from { transform: translateY(100%); }
}

/* fade */

@-webkit-keyframes fade {
	to { opacity: 0.3; }
}
@-moz-keyframes fade {
	to { opacity: 0.3; }
}
@keyframes fade {
	to { opacity: 0.3; }
}

/* move from / to and fade */

@-webkit-keyframes moveToLeftFade {
	to { opacity: 0.3; -webkit-transform: translateX(-100%); }
}
@-moz-keyframes moveToLeftFade {
	to { opacity: 0.3; -moz-transform: translateX(-100%); }
}
@keyframes moveToLeftFade {
	to { opacity: 0.3; transform: translateX(-100%); }
}

@-webkit-keyframes moveFromLeftFade {
	from { opacity: 0.3; -webkit-transform: translateX(-100%); }
}
@-moz-keyframes moveFromLeftFade {
	from { opacity: 0.3; -moz-transform: translateX(-100%); }
}
@keyframes moveFromLeftFade {
	from { opacity: 0.3; transform: translateX(-100%); }
}

@-webkit-keyframes moveToRightFade {
	to { opacity: 0.3; -webkit-transform: translateX(100%); }
}
@-moz-keyframes moveToRightFade {
	to { opacity: 0.3; -moz-transform: translateX(100%); }
}
@keyframes moveToRightFade {
	to { opacity: 0.3; transform: translateX(100%); }
}

@-webkit-keyframes moveFromRightFade {
	from { opacity: 0.3; -webkit-transform: translateX(100%); }
}
@-moz-keyframes moveFromRightFade {
	from { opacity: 0.3; -moz-transform: translateX(100%); }
}
@keyframes moveFromRightFade {
	from { opacity: 0.3; transform: translateX(100%); }
}

@-webkit-keyframes moveToTopFade {
	to { opacity: 0.3; -webkit-transform: translateY(-100%); }
}
@-moz-keyframes moveToTopFade {
	to { opacity: 0.3; -moz-transform: translateY(-100%); }
}
@keyframes moveToTopFade {
	to { opacity: 0.3; transform: translateY(-100%); }
}

@-webkit-keyframes moveFromTopFade {
	from { opacity: 0.3; -webkit-transform: translateY(-100%); }
}
@-moz-keyframes moveFromTopFade {
	from { opacity: 0.3; -moz-transform: translateY(-100%); }
}
@keyframes moveFromTopFade {
	from { opacity: 0.3; transform: translateY(-100%); }
}

@-webkit-keyframes moveToBottomFade {
	to { opacity: 0.3; -webkit-transform: translateY(100%); }
}
@-moz-keyframes moveToBottomFade {
	to { opacity: 0.3; -moz-transform: translateY(100%); }
}
@keyframes moveToBottomFade {
	to { opacity: 0.3; transform: translateY(100%); }
}

@-webkit-keyframes moveFromBottomFade {
	from { opacity: 0.3; -webkit-transform: translateY(100%); }
}
@-moz-keyframes moveFromBottomFade {
	from { opacity: 0.3; -moz-transform: translateY(100%); }
}
@keyframes moveFromBottomFade {
	from { opacity: 0.3; transform: translateY(100%); }
}

/* scale and fade */

.pt-page-scaleDown {
	-webkit-animation: scaleDown .7s ease both;
	-moz-animation: scaleDown .7s ease both;
	animation: scaleDown .7s ease both;
}

.pt-page-scaleUp {
	-webkit-animation: scaleUp .7s ease both;
	-moz-animation: scaleUp .7s ease both;
	animation: scaleUp .7s ease both;
}

.pt-page-scaleUpDown {
	-webkit-animation: scaleUpDown .5s ease both;
	-moz-animation: scaleUpDown .5s ease both;
	animation: scaleUpDown .5s ease both;
}

.pt-page-scaleDownUp {
	-webkit-animation: scaleDownUp .5s ease both;
	-moz-animation: scaleDownUp .5s ease both;
	animation: scaleDownUp .5s ease both;
}

.pt-page-scaleDownCenter {
	-webkit-animation: scaleDownCenter .4s ease-in both;
	-moz-animation: scaleDownCenter .4s ease-in both;
	animation: scaleDownCenter .4s ease-in both;
}

.pt-page-scaleUpCenter {
	-webkit-animation: scaleUpCenter .4s ease-out both;
	-moz-animation: scaleUpCenter .4s ease-out both;
	animation: scaleUpCenter .4s ease-out both;
}

/********************************* keyframes **************************************/

/* scale and fade */

@-webkit-keyframes scaleDown {
	to { opacity: 0; -webkit-transform: scale(.8); }
}
@-moz-keyframes scaleDown {
	to { opacity: 0; -moz-transform: scale(.8); }
}
@keyframes scaleDown {
	to { opacity: 0; transform: scale(.8); }
}

@-webkit-keyframes scaleUp {
	from { opacity: 0; -webkit-transform: scale(.8); }
}
@-moz-keyframes scaleUp {
	from { opacity: 0; -moz-transform: scale(.8); }
}
@keyframes scaleUp {
	from { opacity: 0; transform: scale(.8); }
}

@-webkit-keyframes scaleUpDown {
	from { opacity: 0; -webkit-transform: scale(1.2); }
}
@-moz-keyframes scaleUpDown {
	from { opacity: 0; -moz-transform: scale(1.2); }
}
@keyframes scaleUpDown {
	from { opacity: 0; transform: scale(1.2); }
}

@-webkit-keyframes scaleDownUp {
	to { opacity: 0; -webkit-transform: scale(1.2); }
}
@-moz-keyframes scaleDownUp {
	to { opacity: 0; -moz-transform: scale(1.2); }
}
@keyframes scaleDownUp {
	to { opacity: 0; transform: scale(1.2); }
}

@-webkit-keyframes scaleDownCenter {
	to { opacity: 0; -webkit-transform: scale(.7); }
}
@-moz-keyframes scaleDownCenter {
	to { opacity: 0; -moz-transform: scale(.7); }
}
@keyframes scaleDownCenter {
	to { opacity: 0; transform: scale(.7); }
}

@-webkit-keyframes scaleUpCenter {
	from { opacity: 0; -webkit-transform: scale(.7); }
}
@-moz-keyframes scaleUpCenter {
	from { opacity: 0; -moz-transform: scale(.7); }
}
@keyframes scaleUpCenter {
	from { opacity: 0; transform: scale(.7); }
}

/* rotate sides first and scale */

.pt-page-rotateRightSideFirst {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateRightSideFirst .8s both ease-in;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateRightSideFirst .8s both ease-in;
	transform-origin: 0% 50%;
	animation: rotateRightSideFirst .8s both ease-in;
}
.pt-page-rotateLeftSideFirst {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateLeftSideFirst .8s both ease-in;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateLeftSideFirst .8s both ease-in;
	transform-origin: 100% 50%;
	animation: rotateLeftSideFirst .8s both ease-in;
}
.pt-page-rotateTopSideFirst {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateTopSideFirst .8s both ease-in;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateTopSideFirst .8s both ease-in;
	transform-origin: 50% 100%;
	animation: rotateTopSideFirst .8s both ease-in;
}
.pt-page-rotateBottomSideFirst {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateBottomSideFirst .8s both ease-in;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateBottomSideFirst .8s both ease-in;
	transform-origin: 50% 0%;
	animation: rotateBottomSideFirst .8s both ease-in;
}

/* flip */

.pt-page-flipOutRight {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipOutRight .5s both ease-in;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipOutRight .5s both ease-in;
	transform-origin: 50% 50%;
	animation: flipOutRight .5s both ease-in;
}
.pt-page-flipInLeft {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipInLeft .5s both ease-out;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipInLeft .5s both ease-out;
	transform-origin: 50% 50%;
	animation: flipInLeft .5s both ease-out;
}
.pt-page-flipOutLeft {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipOutLeft .5s both ease-in;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipOutLeft .5s both ease-in;
	transform-origin: 50% 50%;
	animation: flipOutLeft .5s both ease-in;
}
.pt-page-flipInRight {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipInRight .5s both ease-out;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipInRight .5s both ease-out;
	transform-origin: 50% 50%;
	animation: flipInRight .5s both ease-out;
}
.pt-page-flipOutTop {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipOutTop .5s both ease-in;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipOutTop .5s both ease-in;
	transform-origin: 50% 50%;
	animation: flipOutTop .5s both ease-in;
}
.pt-page-flipInBottom {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipInBottom .5s both ease-out;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipInBottom .5s both ease-out;
	transform-origin: 50% 50%;
	animation: flipInBottom .5s both ease-out;
}
.pt-page-flipOutBottom {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipOutBottom .5s both ease-in;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipOutBottom .5s both ease-in;
	transform-origin: 50% 50%;
	animation: flipOutBottom .5s both ease-in;
}
.pt-page-flipInTop {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: flipInTop .5s both ease-out;
	-moz-transform-origin: 50% 50%;
	-moz-animation: flipInTop .5s both ease-out;
	transform-origin: 50% 50%;
	animation: flipInTop .5s both ease-out;
}

/* rotate fall */

.pt-page-rotateFall {
	-webkit-transform-origin: 0% 0%;
	-webkit-animation: rotateFall 1s both ease-in;
	-moz-transform-origin: 0% 0%;
	-moz-animation: rotateFall 1s both ease-in;
	transform-origin: 0% 0%;
	animation: rotateFall 1s both ease-in;
}

/* rotate newspaper */
.pt-page-rotateOutNewspaper {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: rotateOutNewspaper .5s both ease-in;
	-moz-transform-origin: 50% 50%;
	-moz-animation: rotateOutNewspaper .5s both ease-in;
	transform-origin: 50% 50%;
	animation: rotateOutNewspaper .5s both ease-in;
}
.pt-page-rotateInNewspaper {
	-webkit-transform-origin: 50% 50%;
	-webkit-animation: rotateInNewspaper .5s both ease-out;
	-moz-transform-origin: 50% 50%;
	-moz-animation: rotateInNewspaper .5s both ease-out;
	transform-origin: 50% 50%;
	animation: rotateInNewspaper .5s both ease-out;
}

/* push */
.pt-page-rotatePushLeft {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotatePushLeft .8s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotatePushLeft .8s both ease;
	transform-origin: 0% 50%;
	animation: rotatePushLeft .8s both ease;
}
.pt-page-rotatePushRight {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotatePushRight .8s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotatePushRight .8s both ease;
	transform-origin: 100% 50%;
	animation: rotatePushRight .8s both ease;
}
.pt-page-rotatePushTop {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotatePushTop .8s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotatePushTop .8s both ease;
	transform-origin: 50% 0%;
	animation: rotatePushTop .8s both ease;
}
.pt-page-rotatePushBottom {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotatePushBottom .8s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotatePushBottom .8s both ease;
	transform-origin: 50% 100%;
	animation: rotatePushBottom .8s both ease;
}

/* pull */
.pt-page-rotatePullRight {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotatePullRight .5s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotatePullRight .5s both ease;
	transform-origin: 100% 50%;
	animation: rotatePullRight .5s both ease;
}
.pt-page-rotatePullLeft {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotatePullLeft .5s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotatePullLeft .5s both ease;
	transform-origin: 0% 50%;
	animation: rotatePullLeft .5s both ease;
}
.pt-page-rotatePullTop {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotatePullTop .5s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotatePullTop .5s both ease;
	transform-origin: 50% 0%;
	animation: rotatePullTop .5s both ease;
}
.pt-page-rotatePullBottom {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotatePullBottom .5s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotatePullBottom .5s both ease;
	transform-origin: 50% 100%;
	animation: rotatePullBottom .5s both ease;
}

/* fold */
.pt-page-rotateFoldRight {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateFoldRight .7s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateFoldRight .7s both ease;
	transform-origin: 0% 50%;
	animation: rotateFoldRight .7s both ease;
}
.pt-page-rotateFoldLeft {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateFoldLeft .7s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateFoldLeft .7s both ease;
	transform-origin: 100% 50%;
	animation: rotateFoldLeft .7s both ease;
}
.pt-page-rotateFoldTop {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateFoldTop .7s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateFoldTop .7s both ease;
	transform-origin: 50% 100%;
	animation: rotateFoldTop .7s both ease;
}
.pt-page-rotateFoldBottom {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateFoldBottom .7s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateFoldBottom .7s both ease;
	transform-origin: 50% 0%;
	animation: rotateFoldBottom .7s both ease;
}

/* unfold */
.pt-page-rotateUnfoldLeft {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateUnfoldLeft .7s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateUnfoldLeft .7s both ease;
	transform-origin: 100% 50%;
	animation: rotateUnfoldLeft .7s both ease;
}
.pt-page-rotateUnfoldRight {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateUnfoldRight .7s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateUnfoldRight .7s both ease;
	transform-origin: 0% 50%;
	animation: rotateUnfoldRight .7s both ease;
}
.pt-page-rotateUnfoldTop {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateUnfoldTop .7s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateUnfoldTop .7s both ease;
	transform-origin: 50% 100%;
	animation: rotateUnfoldTop .7s both ease;
}
.pt-page-rotateUnfoldBottom {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateUnfoldBottom .7s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateUnfoldBottom .7s both ease;
	transform-origin: 50% 0%;
	animation: rotateUnfoldBottom .7s both ease;
}

/* room walls */
.pt-page-rotateRoomLeftOut {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateRoomLeftOut .8s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateRoomLeftOut .8s both ease;
	transform-origin: 100% 50%;
	animation: rotateRoomLeftOut .8s both ease;
}
.pt-page-rotateRoomLeftIn {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateRoomLeftIn .8s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateRoomLeftIn .8s both ease;
	transform-origin: 0% 50%;
	animation: rotateRoomLeftIn .8s both ease;
}
.pt-page-rotateRoomRightOut {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateRoomRightOut .8s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateRoomRightOut .8s both ease;
	transform-origin: 0% 50%;
	animation: rotateRoomRightOut .8s both ease;
}
.pt-page-rotateRoomRightIn {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateRoomRightIn .8s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateRoomRightIn .8s both ease;
	transform-origin: 100% 50%;
	animation: rotateRoomRightIn .8s both ease;
}
.pt-page-rotateRoomTopOut {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateRoomTopOut .8s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateRoomTopOut .8s both ease;
	transform-origin: 50% 100%;
	animation: rotateRoomTopOut .8s both ease;
}
.pt-page-rotateRoomTopIn {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateRoomTopIn .8s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateRoomTopIn .8s both ease;
	transform-origin: 50% 0%;
	animation: rotateRoomTopIn .8s both ease;
}
.pt-page-rotateRoomBottomOut {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateRoomBottomOut .8s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateRoomBottomOut .8s both ease;
	transform-origin: 50% 0%;
	animation: rotateRoomBottomOut .8s both ease;
}
.pt-page-rotateRoomBottomIn {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateRoomBottomIn .8s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateRoomBottomIn .8s both ease;
	transform-origin: 50% 100%;
	animation: rotateRoomBottomIn .8s both ease;
}

/* cube */
.pt-page-rotateCubeLeftOut {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateCubeLeftOut .6s both ease-in;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateCubeLeftOut .6s both ease-in;
	transform-origin: 100% 50%;
	animation: rotateCubeLeftOut .6s both ease-in;
}
.pt-page-rotateCubeLeftIn {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateCubeLeftIn .6s both ease-in;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateCubeLeftIn .6s both ease-in;
	transform-origin: 0% 50%;
	animation: rotateCubeLeftIn .6s both ease-in;
}
.pt-page-rotateCubeRightOut {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateCubeRightOut .6s both ease-in;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateCubeRightOut .6s both ease-in;
	transform-origin: 0% 50%;
	animation: rotateCubeRightOut .6s both ease-in;
}
.pt-page-rotateCubeRightIn {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateCubeRightIn .6s both ease-in;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateCubeRightIn .6s both ease-in;
	transform-origin: 100% 50%;
	animation: rotateCubeRightIn .6s both ease-in;
}
.pt-page-rotateCubeTopOut {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateCubeTopOut .6s both ease-in;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateCubeTopOut .6s both ease-in;
	transform-origin: 50% 100%;
	animation: rotateCubeTopOut .6s both ease-in;
}
.pt-page-rotateCubeTopIn {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateCubeTopIn .6s both ease-in;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateCubeTopIn .6s both ease-in;
	transform-origin: 50% 0%;
	animation: rotateCubeTopIn .6s both ease-in;
}
.pt-page-rotateCubeBottomOut {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateCubeBottomOut .6s both ease-in;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateCubeBottomOut .6s both ease-in;
	transform-origin: 50% 0%;
	animation: rotateCubeBottomOut .6s both ease-in;
}
.pt-page-rotateCubeBottomIn {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateCubeBottomIn .6s both ease-in;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateCubeBottomIn .6s both ease-in;
	transform-origin: 50% 100%;
	animation: rotateCubeBottomIn .6s both ease-in;
}

/* carousel */
.pt-page-rotateCarouselLeftOut {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateCarouselLeftOut .8s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateCarouselLeftOut .8s both ease;
	transform-origin: 100% 50%;
	animation: rotateCarouselLeftOut .8s both ease;
}
.pt-page-rotateCarouselLeftIn {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateCarouselLeftIn .8s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateCarouselLeftIn .8s both ease;
	transform-origin: 0% 50%;
	animation: rotateCarouselLeftIn .8s both ease;
}
.pt-page-rotateCarouselRightOut {
	-webkit-transform-origin: 0% 50%;
	-webkit-animation: rotateCarouselRightOut .8s both ease;
	-moz-transform-origin: 0% 50%;
	-moz-animation: rotateCarouselRightOut .8s both ease;
	transform-origin: 0% 50%;
	animation: rotateCarouselRightOut .8s both ease;
}
.pt-page-rotateCarouselRightIn {
	-webkit-transform-origin: 100% 50%;
	-webkit-animation: rotateCarouselRightIn .8s both ease;
	-moz-transform-origin: 100% 50%;
	-moz-animation: rotateCarouselRightIn .8s both ease;
	transform-origin: 100% 50%;
	animation: rotateCarouselRightIn .8s both ease;
}
.pt-page-rotateCarouselTopOut {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateCarouselTopOut .8s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateCarouselTopOut .8s both ease;
	transform-origin: 50% 100%;
	animation: rotateCarouselTopOut .8s both ease;
}
.pt-page-rotateCarouselTopIn {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateCarouselTopIn .8s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateCarouselTopIn .8s both ease;
	transform-origin: 50% 0%;
	animation: rotateCarouselTopIn .8s both ease;
}
.pt-page-rotateCarouselBottomOut {
	-webkit-transform-origin: 50% 0%;
	-webkit-animation: rotateCarouselBottomOut .8s both ease;
	-moz-transform-origin: 50% 0%;
	-moz-animation: rotateCarouselBottomOut .8s both ease;
	transform-origin: 50% 0%;
	animation: rotateCarouselBottomOut .8s both ease;
}
.pt-page-rotateCarouselBottomIn {
	-webkit-transform-origin: 50% 100%;
	-webkit-animation: rotateCarouselBottomIn .8s both ease;
	-moz-transform-origin: 50% 100%;
	-moz-animation: rotateCarouselBottomIn .8s both ease;
	transform-origin: 50% 100%;
	animation: rotateCarouselBottomIn .8s both ease;
}

/* sides */
.pt-page-rotateSidesOut {
	-webkit-transform-origin: -50% 50%;
	-webkit-animation: rotateSidesOut .5s both ease-in;
	-moz-transform-origin: -50% 50%;
	-moz-animation: rotateSidesOut .5s both ease-in;
	transform-origin: -50% 50%;
	animation: rotateSidesOut .5s both ease-in;
}
.pt-page-rotateSidesIn {
	-webkit-transform-origin: 150% 50%;
	-webkit-animation: rotateSidesIn .5s both ease-out;
	-moz-transform-origin: 150% 50%;
	-moz-animation: rotateSidesIn .5s both ease-out;
	transform-origin: 150% 50%;
	animation: rotateSidesIn .5s both ease-out;
}

/* slide */
.pt-page-rotateSlideOut {
	-webkit-animation: rotateSlideOut 1s both ease;
	-moz-animation: rotateSlideOut 1s both ease;
	animation: rotateSlideOut 1s both ease;
}
.pt-page-rotateSlideIn {
	-webkit-animation: rotateSlideIn 1s both ease;
	-moz-animation: rotateSlideIn 1s both ease;
	animation: rotateSlideIn 1s both ease;
}

/********************************* keyframes **************************************/

/* rotate sides first and scale */

@-webkit-keyframes rotateRightSideFirst {
	40% { -webkit-transform: rotateY(15deg); opacity: .8; -webkit-animation-timing-function: ease-out; }
	100% { -webkit-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@-moz-keyframes rotateRightSideFirst {
	40% { -moz-transform: rotateY(15deg); opacity: .8; -moz-animation-timing-function: ease-out; }
	100% { -moz-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@keyframes rotateRightSideFirst {
	40% { transform: rotateY(15deg); opacity: .8; animation-timing-function: ease-out; }
	100% { transform: scale(0.8) translateZ(-200px); opacity:0; }
}

@-webkit-keyframes rotateLeftSideFirst {
	40% { -webkit-transform: rotateY(-15deg); opacity: .8; -webkit-animation-timing-function: ease-out; }
	100% { -webkit-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@-moz-keyframes rotateLeftSideFirst {
	40% { -moz-transform: rotateY(-15deg); opacity: .8; -moz-animation-timing-function: ease-out; }
	100% { -moz-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@keyframes rotateLeftSideFirst {
	40% { transform: rotateY(-15deg); opacity: .8; animation-timing-function: ease-out; }
	100% { transform: scale(0.8) translateZ(-200px); opacity:0; }
}

@-webkit-keyframes rotateTopSideFirst {
	40% { -webkit-transform: rotateX(15deg); opacity: .8; -webkit-animation-timing-function: ease-out; }
	100% { -webkit-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@-moz-keyframes rotateTopSideFirst {
	40% { -moz-transform: rotateX(15deg); opacity: .8; -moz-animation-timing-function: ease-out; }
	100% { -moz-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@keyframes rotateTopSideFirst {
	40% { transform: rotateX(15deg); opacity: .8; animation-timing-function: ease-out; }
	100% { transform: scale(0.8) translateZ(-200px); opacity:0; }
}

@-webkit-keyframes rotateBottomSideFirst {
	40% { -webkit-transform: rotateX(-15deg); opacity: .8; -webkit-animation-timing-function: ease-out; }
	100% { -webkit-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@-moz-keyframes rotateBottomSideFirst {
	40% { -moz-transform: rotateX(-15deg); opacity: .8; -moz-animation-timing-function: ease-out; }
	100% { -moz-transform: scale(0.8) translateZ(-200px); opacity:0; }
}
@keyframes rotateBottomSideFirst {
	40% { transform: rotateX(-15deg); opacity: .8; animation-timing-function: ease-out; }
	100% { transform: scale(0.8) translateZ(-200px); opacity:0; }
}

/* flip */

@-webkit-keyframes flipOutRight {
	to { -webkit-transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}
@-moz-keyframes flipOutRight {
	to { -moz-transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}
@keyframes flipOutRight {
	to { transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}

@-webkit-keyframes flipInLeft {
	from { -webkit-transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}
@-moz-keyframes flipInLeft {
	from { -moz-transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}
@keyframes flipInLeft {
	from { transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}

@-webkit-keyframes flipOutLeft {
	to { -webkit-transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}
@-moz-keyframes flipOutLeft {
	to { -moz-transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}
@keyframes flipOutLeft {
	to { transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }
}

@-webkit-keyframes flipInRight {
	from { -webkit-transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}
@-moz-keyframes flipInRight {
	from { -moz-transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}
@keyframes flipInRight {
	from { transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }
}

@-webkit-keyframes flipOutTop {
	to { -webkit-transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}
@-moz-keyframes flipOutTop {
	to { -moz-transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}
@keyframes flipOutTop {
	to { transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}

@-webkit-keyframes flipInBottom {
	from { -webkit-transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}
@-moz-keyframes flipInBottom {
	from { -moz-transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}
@keyframes flipInBottom {
	from { transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}

@-webkit-keyframes flipOutBottom {
	to { -webkit-transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}
@-moz-keyframes flipOutBottom {
	to { -moz-transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}
@keyframes flipOutBottom {
	to { transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }
}

@-webkit-keyframes flipInTop {
	from { -webkit-transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}
@-moz-keyframes flipInTop {
	from { -moz-transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}
@keyframes flipInTop {
	from { transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }
}

/* fall */

@-webkit-keyframes rotateFall {
	0% { -webkit-transform: rotateZ(0deg); }
	20% { -webkit-transform: rotateZ(10deg); -webkit-animation-timing-function: ease-out; }
	40% { -webkit-transform: rotateZ(17deg); }
	60% { -webkit-transform: rotateZ(16deg); }
	100% { -webkit-transform: translateY(100%) rotateZ(17deg); }
}
@-moz-keyframes rotateFall {
	0% { -moz-transform: rotateZ(0deg); }
	20% { -moz-transform: rotateZ(10deg); -moz-animation-timing-function: ease-out; }
	40% { -moz-transform: rotateZ(17deg); }
	60% { -moz-transform: rotateZ(16deg); }
	100% { -moz-transform: translateY(100%) rotateZ(17deg); }
}
@keyframes rotateFall {
	0% { transform: rotateZ(0deg); }
	20% { transform: rotateZ(10deg); animation-timing-function: ease-out; }
	40% { transform: rotateZ(17deg); }
	60% { transform: rotateZ(16deg); }
	100% { transform: translateY(100%) rotateZ(17deg); }
}

/* newspaper */

@-webkit-keyframes rotateOutNewspaper {
	to { -webkit-transform: translateZ(-3000px) rotateZ(360deg); opacity: 0; }
}
@-moz-keyframes rotateOutNewspaper {
	to { -moz-transform: translateZ(-3000px) rotateZ(360deg); opacity: 0; }
}
@keyframes rotateOutNewspaper {
	to { transform: translateZ(-3000px) rotateZ(360deg); opacity: 0; }
}

@-webkit-keyframes rotateInNewspaper {
	from { -webkit-transform: translateZ(-3000px) rotateZ(-360deg); opacity: 0; }
}
@-moz-keyframes rotateInNewspaper {
	from { -moz-transform: translateZ(-3000px) rotateZ(-360deg); opacity: 0; }
}
@keyframes rotateInNewspaper {
	from { transform: translateZ(-3000px) rotateZ(-360deg); opacity: 0; }
}

/* push */

@-webkit-keyframes rotatePushLeft {
	to { opacity: 0; -webkit-transform: rotateY(90deg); }
}
@-moz-keyframes rotatePushLeft {
	to { opacity: 0; -moz-transform: rotateY(90deg); }
}
@keyframes rotatePushLeft {
	to { opacity: 0; transform: rotateY(90deg); }
}

@-webkit-keyframes rotatePushRight {
	to { opacity: 0; -webkit-transform: rotateY(-90deg); }
}
@-moz-keyframes rotatePushRight {
	to { opacity: 0; -moz-transform: rotateY(-90deg); }
}
@keyframes rotatePushRight {
	to { opacity: 0; transform: rotateY(-90deg); }
}

@-webkit-keyframes rotatePushTop {
	to { opacity: 0; -webkit-transform: rotateX(-90deg); }
}
@-moz-keyframes rotatePushTop {
	to { opacity: 0; -moz-transform: rotateX(-90deg); }
}
@keyframes rotatePushTop {
	to { opacity: 0; transform: rotateX(-90deg); }
}

@-webkit-keyframes rotatePushBottom {
	to { opacity: 0; -webkit-transform: rotateX(90deg); }
}
@-moz-keyframes rotatePushBottom {
	to { opacity: 0; -moz-transform: rotateX(90deg); }
}
@keyframes rotatePushBottom {
	to { opacity: 0; transform: rotateX(90deg); }
}

/* pull */

@-webkit-keyframes rotatePullRight {
	from { opacity: 0; -webkit-transform: rotateY(-90deg); }
}
@-moz-keyframes rotatePullRight {
	from { opacity: 0; -moz-transform: rotateY(-90deg); }
}
@keyframes rotatePullRight {
	from { opacity: 0; transform: rotateY(-90deg); }
}

@-webkit-keyframes rotatePullLeft {
	from { opacity: 0; -webkit-transform: rotateY(90deg); }
}
@-moz-keyframes rotatePullLeft {
	from { opacity: 0; -moz-transform: rotateY(90deg); }
}
@keyframes rotatePullLeft {
	from { opacity: 0; transform: rotateY(90deg); }
}

@-webkit-keyframes rotatePullTop {
	from { opacity: 0; -webkit-transform: rotateX(-90deg); }
}
@-moz-keyframes rotatePullTop {
	from { opacity: 0; -moz-transform: rotateX(-90deg); }
}
@keyframes rotatePullTop {
	from { opacity: 0; transform: rotateX(-90deg); }
}

@-webkit-keyframes rotatePullBottom {
	from { opacity: 0; -webkit-transform: rotateX(90deg); }
}
@-moz-keyframes rotatePullBottom {
	from { opacity: 0; -moz-transform: rotateX(90deg); }
}
@keyframes rotatePullBottom {
	from { opacity: 0; transform: rotateX(90deg); }
}

/* fold */

@-webkit-keyframes rotateFoldRight {
	to { opacity: 0; -webkit-transform: translateX(100%) rotateY(90deg); }
}
@-moz-keyframes rotateFoldRight {
	to { opacity: 0; -moz-transform: translateX(100%) rotateY(90deg); }
}
@keyframes rotateFoldRight {
	to { opacity: 0; transform: translateX(100%) rotateY(90deg); }
}

@-webkit-keyframes rotateFoldLeft {
	to { opacity: 0; -webkit-transform: translateX(-100%) rotateY(-90deg); }
}
@-moz-keyframes rotateFoldLeft {
	to { opacity: 0; -moz-transform: translateX(-100%) rotateY(-90deg); }
}
@keyframes rotateFoldLeft {
	to { opacity: 0; transform: translateX(-100%) rotateY(-90deg); }
}

@-webkit-keyframes rotateFoldTop {
	to { opacity: 0; -webkit-transform: translateY(-100%) rotateX(90deg); }
}
@-moz-keyframes rotateFoldTop {
	to { opacity: 0; -moz-transform: translateY(-100%) rotateX(90deg); }
}
@keyframes rotateFoldTop {
	to { opacity: 0; transform: translateY(-100%) rotateX(90deg); }
}

@-webkit-keyframes rotateFoldBottom {
	to { opacity: 0; -webkit-transform: translateY(100%) rotateX(-90deg); }
}
@-moz-keyframes rotateFoldBottom {
	to { opacity: 0; -moz-transform: translateY(100%) rotateX(-90deg); }
}
@keyframes rotateFoldBottom {
	to { opacity: 0; transform: translateY(100%) rotateX(-90deg); }
}

/* unfold */

@-webkit-keyframes rotateUnfoldLeft {
	from { opacity: 0; -webkit-transform: translateX(-100%) rotateY(-90deg); }
}
@-moz-keyframes rotateUnfoldLeft {
	from { opacity: 0; -moz-transform: translateX(-100%) rotateY(-90deg); }
}
@keyframes rotateUnfoldLeft {
	from { opacity: 0; transform: translateX(-100%) rotateY(-90deg); }
}

@-webkit-keyframes rotateUnfoldRight {
	from { opacity: 0; -webkit-transform: translateX(100%) rotateY(90deg); }
}
@-moz-keyframes rotateUnfoldRight {
	from { opacity: 0; -moz-transform: translateX(100%) rotateY(90deg); }
}
@keyframes rotateUnfoldRight {
	from { opacity: 0; transform: translateX(100%) rotateY(90deg); }
}

@-webkit-keyframes rotateUnfoldTop {
	from { opacity: 0; -webkit-transform: translateY(-100%) rotateX(90deg); }
}
@-moz-keyframes rotateUnfoldTop {
	from { opacity: 0; -moz-transform: translateY(-100%) rotateX(90deg); }
}
@keyframes rotateUnfoldTop {
	from { opacity: 0; transform: translateY(-100%) rotateX(90deg); }
}

@-webkit-keyframes rotateUnfoldBottom {
	from { opacity: 0; -webkit-transform: translateY(100%) rotateX(-90deg); }
}
@-moz-keyframes rotateUnfoldBottom {
	from { opacity: 0; -moz-transform: translateY(100%) rotateX(-90deg); }
}
@keyframes rotateUnfoldBottom {
	from { opacity: 0; transform: translateY(100%) rotateX(-90deg); }
}

/* room walls */

@-webkit-keyframes rotateRoomLeftOut {
	to { opacity: .3; -webkit-transform: translateX(-100%) rotateY(90deg); }
}
@-moz-keyframes rotateRoomLeftOut {
	to { opacity: .3; -moz-transform: translateX(-100%) rotateY(90deg); }
}
@keyframes rotateRoomLeftOut {
	to { opacity: .3; transform: translateX(-100%) rotateY(90deg); }
}

@-webkit-keyframes rotateRoomLeftIn {
	from { opacity: .3; -webkit-transform: translateX(100%) rotateY(-90deg); }
}
@-moz-keyframes rotateRoomLeftIn {
	from { opacity: .3; -moz-transform: translateX(100%) rotateY(-90deg); }
}
@keyframes rotateRoomLeftIn {
	from { opacity: .3; transform: translateX(100%) rotateY(-90deg); }
}

@-webkit-keyframes rotateRoomRightOut {
	to { opacity: .3; -webkit-transform: translateX(100%) rotateY(-90deg); }
}
@-moz-keyframes rotateRoomRightOut {
	to { opacity: .3; -moz-transform: translateX(100%) rotateY(-90deg); }
}
@keyframes rotateRoomRightOut {
	to { opacity: .3; transform: translateX(100%) rotateY(-90deg); }
}

@-webkit-keyframes rotateRoomRightIn {
	from { opacity: .3; -webkit-transform: translateX(-100%) rotateY(90deg); }
}
@-moz-keyframes rotateRoomRightIn {
	from { opacity: .3; -moz-transform: translateX(-100%) rotateY(90deg); }
}
@keyframes rotateRoomRightIn {
	from { opacity: .3; transform: translateX(-100%) rotateY(90deg); }
}

@-webkit-keyframes rotateRoomTopOut {
	to { opacity: .3; -webkit-transform: translateY(-100%) rotateX(-90deg); }
}
@-moz-keyframes rotateRoomTopOut {
	to { opacity: .3; -moz-transform: translateY(-100%) rotateX(-90deg); }
}
@keyframes rotateRoomTopOut {
	to { opacity: .3; transform: translateY(-100%) rotateX(-90deg); }
}

@-webkit-keyframes rotateRoomTopIn {
	from { opacity: .3; -webkit-transform: translateY(100%) rotateX(90deg); }
}
@-moz-keyframes rotateRoomTopIn {
	from { opacity: .3; -moz-transform: translateY(100%) rotateX(90deg); }
}
@keyframes rotateRoomTopIn {
	from { opacity: .3; transform: translateY(100%) rotateX(90deg); }
}

@-webkit-keyframes rotateRoomBottomOut {
	to { opacity: .3; -webkit-transform: translateY(100%) rotateX(90deg); }
}
@-moz-keyframes rotateRoomBottomOut {
	to { opacity: .3; -moz-transform: translateY(100%) rotateX(90deg); }
}
@keyframes rotateRoomBottomOut {
	to { opacity: .3; transform: translateY(100%) rotateX(90deg); }
}

@-webkit-keyframes rotateRoomBottomIn {
	from { opacity: .3; -webkit-transform: translateY(-100%) rotateX(-90deg); }
}
@-moz-keyframes rotateRoomBottomIn {
	from { opacity: .3; -moz-transform: translateY(-100%) rotateX(-90deg); }
}
@keyframes rotateRoomBottomIn {
	from { opacity: .3; transform: translateY(-100%) rotateX(-90deg); }
}

/* cube */

@-webkit-keyframes rotateCubeLeftOut {
	50% { -webkit-animation-timing-function: ease-out;  -webkit-transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
	100% { opacity: .3; -webkit-transform: translateX(-100%) rotateY(-90deg); }
}
@-moz-keyframes rotateCubeLeftOut {
	50% { -moz-animation-timing-function: ease-out;  -moz-transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
	100% { opacity: .3; -moz-transform: translateX(-100%) rotateY(-90deg); }
}
@keyframes rotateCubeLeftOut {
	50% { animation-timing-function: ease-out;  transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
	100% { opacity: .3; transform: translateX(-100%) rotateY(-90deg); }
}

@-webkit-keyframes rotateCubeLeftIn {
	0% { opacity: .3; -webkit-transform: translateX(100%) rotateY(90deg); }
	50% { -webkit-animation-timing-function: ease-out;  -webkit-transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
}
@-moz-keyframes rotateCubeLeftIn {
	0% { opacity: .3; -moz-transform: translateX(100%) rotateY(90deg); }
	50% { -moz-animation-timing-function: ease-out;  -moz-transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
}
@keyframes rotateCubeLeftIn {
	0% { opacity: .3; transform: translateX(100%) rotateY(90deg); }
	50% { animation-timing-function: ease-out;  transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
}

@-webkit-keyframes rotateCubeRightOut {
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
	100% { opacity: .3; -webkit-transform: translateX(100%) rotateY(90deg); }
}
@-moz-keyframes rotateCubeRightOut {
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
	100% { opacity: .3; -moz-transform: translateX(100%) rotateY(90deg); }
}
@keyframes rotateCubeRightOut {
	50% { animation-timing-function: ease-out; transform: translateX(50%) translateZ(-200px) rotateY(45deg); }
	100% { opacity: .3; transform: translateX(100%) rotateY(90deg); }
}

@-webkit-keyframes rotateCubeRightIn {
	0% { opacity: .3; -webkit-transform: translateX(-100%) rotateY(-90deg); }
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
}
@-moz-keyframes rotateCubeRightIn {
	0% { opacity: .3; -moz-transform: translateX(-100%) rotateY(-90deg); }
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
}
@keyframes rotateCubeRightIn {
	0% { opacity: .3; transform: translateX(-100%) rotateY(-90deg); }
	50% { animation-timing-function: ease-out; transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }
}

@-webkit-keyframes rotateCubeTopOut {
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
	100% { opacity: .3; -webkit-transform: translateY(-100%) rotateX(90deg); }
}
@-moz-keyframes rotateCubeTopOut {
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
	100% { opacity: .3; -moz-transform: translateY(-100%) rotateX(90deg); }
}
@keyframes rotateCubeTopOut {
	50% { animation-timing-function: ease-out; transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
	100% { opacity: .3; transform: translateY(-100%) rotateX(90deg); }
}

@-webkit-keyframes rotateCubeTopIn {
	0% { opacity: .3; -webkit-transform: translateY(100%) rotateX(-90deg); }
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
}
@-moz-keyframes rotateCubeTopIn {
	0% { opacity: .3; -moz-transform: translateY(100%) rotateX(-90deg); }
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
}
@keyframes rotateCubeTopIn {
	0% { opacity: .3; transform: translateY(100%) rotateX(-90deg); }
	50% { animation-timing-function: ease-out; transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
}

@-webkit-keyframes rotateCubeBottomOut {
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
	100% { opacity: .3; -webkit-transform: translateY(100%) rotateX(-90deg); }
}
@-moz-keyframes rotateCubeBottomOut {
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
	100% { opacity: .3; -moz-transform: translateY(100%) rotateX(-90deg); }
}
@keyframes rotateCubeBottomOut {
	50% { animation-timing-function: ease-out; transform: translateY(50%) translateZ(-200px) rotateX(-45deg); }
	100% { opacity: .3; transform: translateY(100%) rotateX(-90deg); }
}

@-webkit-keyframes rotateCubeBottomIn {
	0% { opacity: .3; -webkit-transform: translateY(-100%) rotateX(90deg); }
	50% { -webkit-animation-timing-function: ease-out; -webkit-transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
}
@-moz-keyframes rotateCubeBottomIn {
	0% { opacity: .3; -moz-transform: translateY(-100%) rotateX(90deg); }
	50% { -moz-animation-timing-function: ease-out; -moz-transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
}
@keyframes rotateCubeBottomIn {
	0% { opacity: .3; transform: translateY(-100%) rotateX(90deg); }
	50% { animation-timing-function: ease-out; transform: translateY(-50%) translateZ(-200px) rotateX(45deg); }
}

/* carousel */

@-webkit-keyframes rotateCarouselLeftOut {
	to { opacity: .3; -webkit-transform: translateX(-150%) scale(.4) rotateY(-65deg); }
}
@-moz-keyframes rotateCarouselLeftOut {
	to { opacity: .3; -moz-transform: translateX(-150%) scale(.4) rotateY(-65deg); }
}
@keyframes rotateCarouselLeftOut {
	to { opacity: .3; transform: translateX(-150%) scale(.4) rotateY(-65deg); }
}

@-webkit-keyframes rotateCarouselLeftIn {
	from { opacity: .3; -webkit-transform: translateX(200%) scale(.4) rotateY(65deg); }
}
@-moz-keyframes rotateCarouselLeftIn {
	from { opacity: .3; -moz-transform: translateX(200%) scale(.4) rotateY(65deg); }
}
@keyframes rotateCarouselLeftIn {
	from { opacity: .3; transform: translateX(200%) scale(.4) rotateY(65deg); }
}

@-webkit-keyframes rotateCarouselRightOut {
	to { opacity: .3; -webkit-transform: translateX(200%) scale(.4) rotateY(65deg); }
}
@-moz-keyframes rotateCarouselRightOut {
	to { opacity: .3; -moz-transform: translateX(200%) scale(.4) rotateY(65deg); }
}
@keyframes rotateCarouselRightOut {
	to { opacity: .3; transform: translateX(200%) scale(.4) rotateY(65deg); }
}

@-webkit-keyframes rotateCarouselRightIn {
	from { opacity: .3; -webkit-transform: translateX(-200%) scale(.4) rotateY(-65deg); }
}
@-moz-keyframes rotateCarouselRightIn {
	from { opacity: .3; -moz-transform: translateX(-200%) scale(.4) rotateY(-65deg); }
}
@keyframes rotateCarouselRightIn {
	from { opacity: .3; transform: translateX(-200%) scale(.4) rotateY(-65deg); }
}

@-webkit-keyframes rotateCarouselTopOut {
	to { opacity: .3; -webkit-transform: translateY(-200%) scale(.4) rotateX(65deg); }
}
@-moz-keyframes rotateCarouselTopOut {
	to { opacity: .3; -moz-transform: translateY(-200%) scale(.4) rotateX(65deg); }
}
@keyframes rotateCarouselTopOut {
	to { opacity: .3; transform: translateY(-200%) scale(.4) rotateX(65deg); }
}

@-webkit-keyframes rotateCarouselTopIn {
	from { opacity: .3; -webkit-transform: translateY(200%) scale(.4) rotateX(-65deg); }
}
@-moz-keyframes rotateCarouselTopIn {
	from { opacity: .3; -moz-transform: translateY(200%) scale(.4) rotateX(-65deg); }
}
@keyframes rotateCarouselTopIn {
	from { opacity: .3; transform: translateY(200%) scale(.4) rotateX(-65deg); }
}

@-webkit-keyframes rotateCarouselBottomOut {
	to { opacity: .3; -webkit-transform: translateY(200%) scale(.4) rotateX(-65deg); }
}
@-moz-keyframes rotateCarouselBottomOut {
	to { opacity: .3; -moz-transform: translateY(200%) scale(.4) rotateX(-65deg); }
}
@keyframes rotateCarouselBottomOut {
	to { opacity: .3; transform: translateY(200%) scale(.4) rotateX(-65deg); }
}

@-webkit-keyframes rotateCarouselBottomIn {
	from { opacity: .3; -webkit-transform: translateY(-200%) scale(.4) rotateX(65deg); }
}
@-moz-keyframes rotateCarouselBottomIn {
	from { opacity: .3; -moz-transform: translateY(-200%) scale(.4) rotateX(65deg); }
}
@keyframes rotateCarouselBottomIn {
	from { opacity: .3; transform: translateY(-200%) scale(.4) rotateX(65deg); }
}

/* sides */

@-webkit-keyframes rotateSidesOut {
	to { opacity: 0; -webkit-transform: translateZ(-500px) rotateY(90deg); }
}
@-moz-keyframes rotateSidesOut {
	to { opacity: 0; -moz-transform: translateZ(-500px) rotateY(90deg); }
}
@keyframes rotateSidesOut {
	to { opacity: 0; transform: translateZ(-500px) rotateY(90deg); }
}

@-webkit-keyframes rotateSidesIn {
	from { opacity: 0; -webkit-transform: translateZ(-500px) rotateY(-90deg); }
}
@-moz-keyframes rotateSidesIn {
	from { opacity: 0; -moz-transform: translateZ(-500px) rotateY(-90deg); }
}
@keyframes rotateSidesIn {
	from { opacity: 0; transform: translateZ(-500px) rotateY(-90deg); }
}

/* slide */

@-webkit-keyframes rotateSlideOut {
	25% { opacity: .5; -webkit-transform: translateZ(-500px); }
	75% { opacity: .5; -webkit-transform: translateZ(-500px) translateX(-200%); }
	100% { opacity: .5; -webkit-transform: translateZ(-500px) translateX(-200%); }
}
@-moz-keyframes rotateSlideOut {
	25% { opacity: .5; -moz-transform: translateZ(-500px); }
	75% { opacity: .5; -moz-transform: translateZ(-500px) translateX(-200%); }
	100% { opacity: .5; -moz-transform: translateZ(-500px) translateX(-200%); }
}
@keyframes rotateSlideOut {
	25% { opacity: .5; transform: translateZ(-500px); }
	75% { opacity: .5; transform: translateZ(-500px) translateX(-200%); }
	100% { opacity: .5; transform: translateZ(-500px) translateX(-200%); }
}

@-webkit-keyframes rotateSlideIn {
	0%, 25% { opacity: .5; -webkit-transform: translateZ(-500px) translateX(200%); }
	75% { opacity: .5; -webkit-transform: translateZ(-500px); }
	100% { opacity: 1; -webkit-transform: translateZ(0) translateX(0); }
}
@-moz-keyframes rotateSlideIn {
	0%, 25% { opacity: .5; -moz-transform: translateZ(-500px) translateX(200%); }
	75% { opacity: .5; -moz-transform: translateZ(-500px); }
	100% { opacity: 1; -moz-transform: translateZ(0) translateX(0); }
}
@keyframes rotateSlideIn {
	0%, 25% { opacity: .5; transform: translateZ(-500px) translateX(200%); }
	75% { opacity: .5; transform: translateZ(-500px); }
	100% { opacity: 1; transform: translateZ(0) translateX(0); }
}

/* animation delay classes */

.pt-page-delay100 {
	-webkit-animation-delay: .1s;
	-moz-animation-delay: .1s;
	animation-delay: .1s;
}
.pt-page-delay180 {
	-webkit-animation-delay: .180s;
	-moz-animation-delay: .180s;
	animation-delay: .180s;
}
.pt-page-delay200 {
	-webkit-animation-delay: .2s;
	-moz-animation-delay: .2s;
	animation-delay: .2s;
}
.pt-page-delay300 {
	-webkit-animation-delay: .3s;
	-moz-animation-delay: .3s;
	animation-delay: .3s;
}
.pt-page-delay400 {
	-webkit-animation-delay: .4s;
	-moz-animation-delay: .4s;
	animation-delay: .4s;
}
.pt-page-delay500 {
	-webkit-animation-delay: .5s;
	-moz-animation-delay: .5s;
	animation-delay: .5s;
}
.pt-page-delay700 {
	-webkit-animation-delay: .7s;
	-moz-animation-delay: .7s;
	animation-delay: .7s;
}
.pt-page-delay1000 {
	-webkit-animation-delay: 1s;
	-moz-animation-delay: 1s;
	animation-delay: 1s;
}

</style>

<dom-module id="px-pages" assetpath="../px-page/">
  <template>
  <style>
  :host{
    display: block;
    position: relative;
    -webkit-transition: all 3s ease-out;
    transition: all 3s ease-out;
    -webkit-overflow-scrolling: touch;
    height: 100%;
    height: calc(100% - 10px);
    min-height: 99vh;
    width: 100%;
  }

  ::content px-page {
    opacity: 0;
    -webkit-transition: all 0.3s ease-out;
    transition: all 0.3s ease-out;
  }

  ::content px-page.et-page-current{
    opacity: 1;
    visibility: visible;
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }

  ::content px-page.next {
    transform: translate(0%, 0);
    visibility: visible;
  }

  ::content px-page.previous {
    transform: translate(-0%, 0);
    visibility: visible;
  }
  </style>
    <content select="*"></content>
  </template>
</dom-module>
<script type="text/javascript">
  Polymer({
    is : 'px-pages',
    behaviors : [ BaseElement,  PagesBehavior ]
  });

</script>
<script>/*! Overthrow. An overflow:auto polyfill for responsive design. (c) 2012: Scott Jehl, Filament Group, Inc. http://filamentgroup.github.com/Overthrow/license.txt */
(function( w, undefined ){
	
	var doc = w.document,
		docElem = doc.documentElement,
		enabledClassName = "overthrow-enabled",

		// Touch events are used in the polyfill, and thus are a prerequisite
		canBeFilledWithPoly = "ontouchmove" in doc,
		
		// The following attempts to determine whether the browser has native overflow support
		// so we can enable it but not polyfill
		nativeOverflow = 
			// Features-first. iOS5 overflow scrolling property check - no UA needed here. thanks Apple :)
			"WebkitOverflowScrolling" in docElem.style ||
			// Test the windows scrolling property as well
			"msOverflowStyle" in docElem.style ||
			// Touch events aren't supported and screen width is greater than X
			// ...basically, this is a loose "desktop browser" check. 
			// It may wrongly opt-in very large tablets with no touch support.
			( !canBeFilledWithPoly && w.screen.width > 800 ) ||
			// Hang on to your hats.
			// Whitelist some popular, overflow-supporting mobile browsers for now and the future
			// These browsers are known to get overlow support right, but give us no way of detecting it.
			(function(){
				var ua = w.navigator.userAgent,
					// Webkit crosses platforms, and the browsers on our list run at least version 534
					webkit = ua.match( /AppleWebKit\/([0-9]+)/ ),
					wkversion = webkit && webkit[1],
					wkLte534 = webkit && wkversion >= 534;
					
				return (
					/* Android 3+ with webkit gte 534
					~: Mozilla/5.0 (Linux; U; Android 3.0; en-us; Xoom Build/HRI39) AppleWebKit/534.13 (KHTML, like Gecko) Version/4.0 Safari/534.13 */
					ua.match( /Android ([0-9]+)/ ) && RegExp.$1 >= 3 && wkLte534 ||
					/* Blackberry 7+ with webkit gte 534
					~: Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en-US) AppleWebKit/534.11+ (KHTML, like Gecko) Version/7.0.0 Mobile Safari/534.11+ */
					ua.match( / Version\/([0-9]+)/ ) && RegExp.$1 >= 0 && w.blackberry && wkLte534 ||
					/* Blackberry Playbook with webkit gte 534
					~: Mozilla/5.0 (PlayBook; U; RIM Tablet OS 1.0.0; en-US) AppleWebKit/534.8+ (KHTML, like Gecko) Version/0.0.1 Safari/534.8+ */   
					ua.indexOf( "PlayBook" ) > -1 && wkLte534 && !ua.indexOf( "Android 2" ) === -1 ||
					/* Firefox Mobile (Fennec) 4 and up
					~: Mozilla/5.0 (Mobile; rv:15.0) Gecko/15.0 Firefox/15.0 */
					ua.match(/Firefox\/([0-9]+)/) && RegExp.$1 >= 4 ||
					/* WebOS 3 and up (TouchPad too)
					~: Mozilla/5.0 (hp-tablet; Linux; hpwOS/3.0.0; U; en-US) AppleWebKit/534.6 (KHTML, like Gecko) wOSBrowser/233.48 Safari/534.6 TouchPad/1.0 */
					ua.match( /wOSBrowser\/([0-9]+)/ ) && RegExp.$1 >= 233 && wkLte534 ||
					/* Nokia Browser N8
					~: Mozilla/5.0 (Symbian/3; Series60/5.2 NokiaN8-00/012.002; Profile/MIDP-2.1 Configuration/CLDC-1.1 ) AppleWebKit/533.4 (KHTML, like Gecko) NokiaBrowser/7.3.0 Mobile Safari/533.4 3gpp-gba 
					~: Note: the N9 doesn't have native overflow with one-finger touch. wtf */
					ua.match( /NokiaBrowser\/([0-9\.]+)/ ) && parseFloat(RegExp.$1) === 7.3 && webkit && wkversion >= 533
				);
			})();

	// Expose overthrow API
	w.overthrow = {};

	w.overthrow.enabledClassName = enabledClassName;

	w.overthrow.addClass = function(){
		if( docElem.className.indexOf( w.overthrow.enabledClassName ) === -1 ){
			docElem.className += " " + w.overthrow.enabledClassName;
		}
	};

	w.overthrow.removeClass = function(){
		docElem.className = docElem.className.replace( w.overthrow.enabledClassName, "" );
	};

	// Enable and potentially polyfill overflow
	w.overthrow.set = function(){
			
		// If nativeOverflow or at least the element canBeFilledWithPoly, add a class to cue CSS that assumes overflow scrolling will work (setting height on elements and such)
		if( nativeOverflow ){
			w.overthrow.addClass();
		}

	};

	// expose polyfillable 
	w.overthrow.canBeFilledWithPoly = canBeFilledWithPoly;

	// Destroy everything later. If you want to.
	w.overthrow.forget = function(){

		w.overthrow.removeClass();
		
	};
		
	// Expose overthrow API
	w.overthrow.support = nativeOverflow ? "native" : "none";
		
})( this );
</script>
<script>/*! Overthrow. An overflow:auto polyfill for responsive design. (c) 2012: Scott Jehl, Filament Group, Inc. http://filamentgroup.github.com/Overthrow/license.txt */
(function( w, o, undefined ){

	// o is overthrow reference from overthrow-polyfill.js
	if( o === undefined ){
		return;
	}

	o.scrollIndicatorClassName = "overthrow";
	
	var doc = w.document,
		docElem = doc.documentElement,
		// o api
		nativeOverflow = o.support === "native",
		canBeFilledWithPoly = o.canBeFilledWithPoly,
		configure = o.configure,
		set = o.set,
		forget = o.forget,
		scrollIndicatorClassName = o.scrollIndicatorClassName;

	// find closest overthrow (elem or a parent)
	o.closest = function( target, ascend ){
		return !ascend && target.className && target.className.indexOf( scrollIndicatorClassName ) > -1 && target || o.closest( target.parentNode );
	};
		
	// polyfill overflow
	var enabled = false;
	o.set = function(){
			
		set();

		// If nativeOverflow or it doesn't look like the browser canBeFilledWithPoly, our job is done here. Exit viewport left.
		if( enabled || nativeOverflow || !canBeFilledWithPoly ){
			return;
		}

		w.overthrow.addClass();

		enabled = true;

		o.support = "polyfilled";

		o.forget = function(){
			forget();
			enabled = false;
			// Remove touch binding (check for method support since this part isn't qualified by touch support like the rest)
			if( doc.removeEventListener ){
				doc.removeEventListener( "touchstart", start, false );
			}
		};

		// Fill 'er up!
		// From here down, all logic is associated with touch scroll handling
			// elem references the overthrow element in use
		var elem,
			
			// The last several Y values are kept here
			lastTops = [],
	
			// The last several X values are kept here
			lastLefts = [],
			
			// lastDown will be true if the last scroll direction was down, false if it was up
			lastDown,
			
			// lastRight will be true if the last scroll direction was right, false if it was left
			lastRight,
			
			// For a new gesture, or change in direction, reset the values from last scroll
			resetVertTracking = function(){
				lastTops = [];
				lastDown = null;
			},
			
			resetHorTracking = function(){
				lastLefts = [];
				lastRight = null;
			},
		
			// On webkit, touch events hardly trickle through textareas and inputs
			// Disabling CSS pointer events makes sure they do, but it also makes the controls innaccessible
			// Toggling pointer events at the right moments seems to do the trick
			// Thanks Thomas Bachem http://stackoverflow.com/a/5798681 for the following
			inputs,
			setPointers = function( val ){
				inputs = elem.querySelectorAll( "textarea, input" );
				for( var i = 0, il = inputs.length; i < il; i++ ) {
					inputs[ i ].style.pointerEvents = val;
				}
			},
			
			// For nested overthrows, changeScrollTarget restarts a touch event cycle on a parent or child overthrow
			changeScrollTarget = function( startEvent, ascend ){
				if( doc.createEvent ){
					var newTarget = ( !ascend || ascend === undefined ) && elem.parentNode || elem.touchchild || elem,
						tEnd;
							
					if( newTarget !== elem ){
						tEnd = doc.createEvent( "HTMLEvents" );
						tEnd.initEvent( "touchend", true, true );
						elem.dispatchEvent( tEnd );
						newTarget.touchchild = elem;
						elem = newTarget;
						newTarget.dispatchEvent( startEvent );
					}
				}
			},
			
			// Touchstart handler
			// On touchstart, touchmove and touchend are freshly bound, and all three share a bunch of vars set by touchstart
			// Touchend unbinds them again, until next time
			start = function( e ){

				// Stop any throw in progress
				if( o.intercept ){
					o.intercept();
				}
				
				// Reset the distance and direction tracking
				resetVertTracking();
				resetHorTracking();
				
				elem = o.closest( e.target );
					
				if( !elem || elem === docElem || e.touches.length > 1 ){
					return;
				}			

				setPointers( "none" );
				var touchStartE = e,
					scrollT = elem.scrollTop,
					scrollL = elem.scrollLeft,
					height = elem.offsetHeight,
					width = elem.offsetWidth,
					startY = e.touches[ 0 ].pageY,
					startX = e.touches[ 0 ].pageX,
					scrollHeight = elem.scrollHeight,
					scrollWidth = elem.scrollWidth,
				
					// Touchmove handler
					move = function( e ){
					
						var ty = scrollT + startY - e.touches[ 0 ].pageY,
							tx = scrollL + startX - e.touches[ 0 ].pageX,
							down = ty >= ( lastTops.length ? lastTops[ 0 ] : 0 ),
							right = tx >= ( lastLefts.length ? lastLefts[ 0 ] : 0 );
							
						// If there's room to scroll the current container, prevent the default window scroll
						if( ( ty > 0 && ty < scrollHeight - height ) || ( tx > 0 && tx < scrollWidth - width ) ){
							e.preventDefault();
						}
						// This bubbling is dumb. Needs a rethink.
						else {
							changeScrollTarget( touchStartE );
						}
						
						// If down and lastDown are inequal, the y scroll has changed direction. Reset tracking.
						if( lastDown && down !== lastDown ){
							resetVertTracking();
						}
						
						// If right and lastRight are inequal, the x scroll has changed direction. Reset tracking.
						if( lastRight && right !== lastRight ){
							resetHorTracking();
						}
						
						// remember the last direction in which we were headed
						lastDown = down;
						lastRight = right;							
						
						// set the container's scroll
						elem.scrollTop = ty;
						elem.scrollLeft = tx;
					
						lastTops.unshift( ty );
						lastLefts.unshift( tx );
					
						if( lastTops.length > 3 ){
							lastTops.pop();
						}
						if( lastLefts.length > 3 ){
							lastLefts.pop();
						}
					},
				
					// Touchend handler
					end = function( e ){

						// Bring the pointers back
						setPointers( "auto" );
						setTimeout( function(){
							setPointers( "none" );
						}, 450 );
						elem.removeEventListener( "touchmove", move, false );
						elem.removeEventListener( "touchend", end, false );
					};
				
				elem.addEventListener( "touchmove", move, false );
				elem.addEventListener( "touchend", end, false );
			};
			
		// Bind to touch, handle move and end within
		doc.addEventListener( "touchstart", start, false );
	};
		
})( this, this.overthrow );
</script>
<script>/*! Overthrow. An overflow:auto polyfill for responsive design. (c) 2012: Scott Jehl, Filament Group, Inc. http://filamentgroup.github.com/Overthrow/license.txt */
(function( w, o, undefined ){

	// o is overthrow reference from overthrow-polyfill.js
	if( o === undefined ){
		w.overthrow = o = {};
	}

	// Easing can use any of Robert Penner's equations (http://www.robertpenner.com/easing_terms_of_use.html). By default, overthrow includes ease-out-cubic
	// arguments: t = current iteration, b = initial value, c = end value, d = total iterations
	// use w.overthrow.easing to provide a custom function externally, or pass an easing function as a callback to the toss method
	o.easing = function (t, b, c, d) {
		return c*((t=t/d-1)*t*t + 1) + b;
	};

	// tossing property is true during a programatic scroll
	o.tossing = false;

	// Keeper of intervals
	var timeKeeper;

	/* toss scrolls and element with easing

	// elem is the element to scroll
	// options hash:
		* left is the desired horizontal scroll. Default is "+0". For relative distances, pass a string with "+" or "-" in front.
		* top is the desired vertical scroll. Default is "+0". For relative distances, pass a string with "+" or "-" in front.
		* duration is the number of milliseconds the throw will take. Default is 100.
		* easing is an optional custom easing function. Default is w.overthrow.easing. Must follow the easing function signature

	*/
	o.toss = function( elem, options ){
		o.intercept();
		var i = 0,
			sLeft = elem.scrollLeft,
			sTop = elem.scrollTop,
			// Toss defaults
			op = {
				top: "+0",
				left: "+0",
				duration: 50,
				easing: o.easing,
				finished: function() {}
			},
			endLeft, endTop, finished = false;

		// Mixin based on predefined defaults
		if( options ){
			for( var j in op ){
				if( options[ j ] !== undefined ){
					op[ j ] = options[ j ];
				}
			}
		}

		// Convert relative values to ints
		// First the left val
		if( typeof op.left === "string" ){
			op.left = parseFloat( op.left );
			endLeft = op.left + sLeft;
		}
		else {
			endLeft = op.left;
			op.left = op.left - sLeft;
		}
		// Then the top val
		if( typeof op.top === "string" ){

			op.top = parseFloat( op.top );
			endTop = op.top + sTop;
		}
		else {
			endTop = op.top;
			op.top = op.top - sTop;
		}

		o.tossing = true;
		timeKeeper = setInterval(function(){
			if( i++ < op.duration ){
				elem.scrollLeft = op.easing( i, sLeft, op.left, op.duration );
				elem.scrollTop = op.easing( i, sTop, op.top, op.duration );
			}
			else{
				if( endLeft !== elem.scrollLeft ){
					elem.scrollLeft = endLeft;
				} else {
					// if the end of the vertical scrolling has taken place
					// we know that we're done here call the callback
					// otherwise signal that horizontal scrolling is complete
					if( finished ) {
						op.finished();
					}
					finished = true;
				}

				if( endTop !== elem.scrollTop ){
					elem.scrollTop = endTop;
				} else {
					// if the end of the horizontal scrolling has taken place
					// we know that we're done here call the callback
					if( finished ) {
						op.finished();
					}
					finished = true;
				}

				o.intercept();
			}
		}, 1 );

		// Return the values, post-mixin, with end values specified
		return { top: endTop, left: endLeft, duration: o.duration, easing: o.easing };
	};

	// Intercept any throw in progress
	o.intercept = function(){
		clearInterval( timeKeeper );
		o.tossing = false;
	};

})( this, this.overthrow );
</script>
<script>/*! Overthrow. An overflow:auto polyfill for responsive design. (c) 2012: Scott Jehl, Filament Group, Inc. http://filamentgroup.github.com/Overthrow/license.txt */
(function( w, undefined ){
	
	// Auto-init
	w.overthrow.set();

}( this ));</script>
<script type="text/javascript">
  var PageBehavior = {
    properties : {
      title : {
        type : String,
        value: null
      },

      backText:{
        type: String,
        value: null
      },

      backLink:{
        type: String,
        value: null
      },

      //Path to remote view that will be loaded
      import:{
        type: String,
        notify: true,
        value: null,
        observer: '_tmplChanged'
      },

      active : {
        type : Boolean,
        value : false,
      },

      modal : {
        type : Boolean,
        value : false,
      },
      dialog : {
        type : Boolean,
        value : false,
      },

      //with URL query parameters. If your page URL is "about.html?id=10&count=20&color=blue"
      query : {
        type : Object
      },

      context : {
        type : Object
      },

      //View instance that contains this page (if this View was initialized)
      view : {
        type : Object
      },
      //Page Data object of the previously active page
      fromPage : {
        type : Object
      },

      route: {
        type: String
      },

      //Contains string URL of just loaded page
      url: {
        type: String
      },
      //Link to Page HTMLElement
      container: {
        type: String
      },
      //Reference to the page navbar.
      navbar: {
        type: Object
      }
    },
    created : function() {
      console.log('created', this.id);
      pxMobile.PubSub.emit('page:'+this.id+':init', this);
    },
    ready : function() {
      console.log('ready', this.id);
      if(this.dialog){
        this.toggleClass('dialog');
      }
      this.fire('page:ready', this);


      pxMobile.PubSub.emit('page:'+this.id+':ready', this);
    },
    attached: function(){
      this.navbar = this.querySelector('px-navbar');
      if(this.navbar){
        this.toggleClass('has-navbar', true);
        this.navbar.title = this.title;
      }
      if(this.parentNode && this.parentNode.localName === 'PX-PAGES'){
        this.viewContainer = this.parentNode;
      }

      this._fixNavbar();
    },
    _fixNavbar: function(){
      var w = this.parentNode.offsetWidth;
      var h = this.parentNode.offsetHeight;
      var pageContent = this.$.pageContent;
      var pageNavbar = this.queryEffectiveChildren('px-navbar');
      var pageNavbar = this.$.pageContent.child[0]


      console.log('_fixNavbar');

      if(pageNavbar){

        pageContent.css('margin-top', pageNavbar.offsetHeight + 'px');

        if(this.theme){
          pageNavbar.theme = this.theme;
        }

        if(this.title){
          pageNavbar.title = this.title;
        }
        this.navbar = pageNavbar;
      }
    },
    show: function(){
      console.warn('INFO', 'show view', this.id);
      this.toggleClass('current', false, this);
    },
    hide: function(){
      console.warn('INFO', 'hide view', this.id);
      this.toggleClass('hidden', true, this);
    },
    update: function(){
      console.warn('INFO', 'update view', this.id);
    },
    currentView: function(){
      console.warn('INFO', 'current view', this.id);
      this.child()[0].toggleClass('current', true, this);
    },
    nextView: function(){
      console.warn('INFO', 'next view', this.id);
      this.toggleClass('next', true, this);
    },
    previousView: function(){
      console.warn('INFO', 'previous view', this.id);
      this.toggleClass('previous', true, this);
    },
    contextChanged : function(newContext, oldContext) {
      console.warn('contextChanged', newContext, oldContext);
    },

    //I handle loading a page from a url
    _tmplChanged: function(newVal, oldVal){
      var _this = this, html = '';
      if(newVal){
      	console.warn(this.id, 'Load remote html', newVal);

        this.importHref(newVal, function(e) {
        	html = e.target.import.body.innerHTML;
        	_console.log('inject html', _this.id);
          console.warn('inject px-view html', _this.id);
          _this.html(html);
        }, function(e) {
            // loading error
            console.error('Error loading page', e);
        });
      }
    },
    showMenu:function(){
      pxMobile.dom('px-app').toggleClass('show-menu');
    },
    open: function(){
      if(this.dialog){
        this.toggleClass('open');
      }
    },
    close: function(){
      if(this.dialog){
        this.toggleClass('open');
      }
    }
  };

</script>

<dom-module id="px-page" assetpath="../px-page/">
  <template>
  <style>
    :host {
      display: block;
      box-sizing: border-box;
    }

    :host.dialog {
      -webkit-transition: all 0.3s ease;
      transition: all 0.3s ease;
      position: fixed;
      left: 0;
      right: 0;
      transform: translateY(0);
      z-index: 100;
      background: #fff;
    }

    :host.dialog:not(.open) {
      z-index: -1;
      transform: translateY(100%);
    }

    :host .page-content{
      height: 90%;
    }
    :host .overthrow {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
    }
    .overthrow {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
    }
    :host.has-navbar .page-content{
      margin-top: 55px;
    }
  </style>
    <section class="page-content overthrow">
      <content id="pageContent" select="*"></content>
    </section>
  </template>
</dom-module>
<script type="text/javascript">
  Polymer({
    is: 'px-page',
    behaviors: [BaseElement, PageBehavior]
  });
</script>
</div></body></html>